var Ay=Object.defineProperty;var Ry=(t,e,n)=>e in t?Ay(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var A=(t,e,n)=>(Ry(t,typeof e!="symbol"?e+"":e,n),n);function Dy(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in t)){const r=Object.getOwnPropertyDescriptor(s,i);r&&Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();var gt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ly(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Iy(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var i=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:function(){return t[s]}})}),n}var Up={exports:{}},Pa={},Wp={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nr=Symbol.for("react.element"),$y=Symbol.for("react.portal"),Fy=Symbol.for("react.fragment"),zy=Symbol.for("react.strict_mode"),By=Symbol.for("react.profiler"),Uy=Symbol.for("react.provider"),Wy=Symbol.for("react.context"),Hy=Symbol.for("react.forward_ref"),Vy=Symbol.for("react.suspense"),qy=Symbol.for("react.memo"),Ky=Symbol.for("react.lazy"),Ud=Symbol.iterator;function Yy(t){return t===null||typeof t!="object"?null:(t=Ud&&t[Ud]||t["@@iterator"],typeof t=="function"?t:null)}var Hp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vp=Object.assign,qp={};function ai(t,e,n){this.props=t,this.context=e,this.refs=qp,this.updater=n||Hp}ai.prototype.isReactComponent={};ai.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ai.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Kp(){}Kp.prototype=ai.prototype;function _u(t,e,n){this.props=t,this.context=e,this.refs=qp,this.updater=n||Hp}var wu=_u.prototype=new Kp;wu.constructor=_u;Vp(wu,ai.prototype);wu.isPureReactComponent=!0;var Wd=Array.isArray,Yp=Object.prototype.hasOwnProperty,bu={current:null},Gp={key:!0,ref:!0,__self:!0,__source:!0};function Xp(t,e,n){var s,i={},r=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)Yp.call(e,s)&&!Gp.hasOwnProperty(s)&&(i[s]=e[s]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)i[s]===void 0&&(i[s]=a[s]);return{$$typeof:Nr,type:t,key:r,ref:o,props:i,_owner:bu.current}}function Gy(t,e){return{$$typeof:Nr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ku(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nr}function Xy(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Hd=/\/+/g;function cl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Xy(""+t.key):e.toString(36)}function jo(t,e,n,s,i){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Nr:case $y:o=!0}}if(o)return o=t,i=i(o),t=s===""?"."+cl(o,0):s,Wd(i)?(n="",t!=null&&(n=t.replace(Hd,"$&/")+"/"),jo(i,e,n,"",function(c){return c})):i!=null&&(ku(i)&&(i=Gy(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Hd,"$&/")+"/")+t)),e.push(i)),1;if(o=0,s=s===""?".":s+":",Wd(t))for(var a=0;a<t.length;a++){r=t[a];var l=s+cl(r,a);o+=jo(r,e,n,l,i)}else if(l=Yy(t),typeof l=="function")for(t=l.call(t),a=0;!(r=t.next()).done;)r=r.value,l=s+cl(r,a++),o+=jo(r,e,n,l,i);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ur(t,e,n){if(t==null)return t;var s=[],i=0;return jo(t,s,"","",function(r){return e.call(n,r,i++)}),s}function Jy(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var We={current:null},Co={transition:null},Qy={ReactCurrentDispatcher:We,ReactCurrentBatchConfig:Co,ReactCurrentOwner:bu};function Jp(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:Ur,forEach:function(t,e,n){Ur(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ur(t,function(){e++}),e},toArray:function(t){return Ur(t,function(e){return e})||[]},only:function(t){if(!ku(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};U.Component=ai;U.Fragment=Fy;U.Profiler=By;U.PureComponent=_u;U.StrictMode=zy;U.Suspense=Vy;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qy;U.act=Jp;U.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=Vp({},t.props),i=t.key,r=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=bu.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Yp.call(e,l)&&!Gp.hasOwnProperty(l)&&(s[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}return{$$typeof:Nr,type:t.type,key:i,ref:r,props:s,_owner:o}};U.createContext=function(t){return t={$$typeof:Wy,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Uy,_context:t},t.Consumer=t};U.createElement=Xp;U.createFactory=function(t){var e=Xp.bind(null,t);return e.type=t,e};U.createRef=function(){return{current:null}};U.forwardRef=function(t){return{$$typeof:Hy,render:t}};U.isValidElement=ku;U.lazy=function(t){return{$$typeof:Ky,_payload:{_status:-1,_result:t},_init:Jy}};U.memo=function(t,e){return{$$typeof:qy,type:t,compare:e===void 0?null:e}};U.startTransition=function(t){var e=Co.transition;Co.transition={};try{t()}finally{Co.transition=e}};U.unstable_act=Jp;U.useCallback=function(t,e){return We.current.useCallback(t,e)};U.useContext=function(t){return We.current.useContext(t)};U.useDebugValue=function(){};U.useDeferredValue=function(t){return We.current.useDeferredValue(t)};U.useEffect=function(t,e){return We.current.useEffect(t,e)};U.useId=function(){return We.current.useId()};U.useImperativeHandle=function(t,e,n){return We.current.useImperativeHandle(t,e,n)};U.useInsertionEffect=function(t,e){return We.current.useInsertionEffect(t,e)};U.useLayoutEffect=function(t,e){return We.current.useLayoutEffect(t,e)};U.useMemo=function(t,e){return We.current.useMemo(t,e)};U.useReducer=function(t,e,n){return We.current.useReducer(t,e,n)};U.useRef=function(t){return We.current.useRef(t)};U.useState=function(t){return We.current.useState(t)};U.useSyncExternalStore=function(t,e,n){return We.current.useSyncExternalStore(t,e,n)};U.useTransition=function(){return We.current.useTransition()};U.version="18.3.1";Wp.exports=U;var j=Wp.exports;const Na=Ly(j),Zy=Dy({__proto__:null,default:Na},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev=j,tv=Symbol.for("react.element"),nv=Symbol.for("react.fragment"),sv=Object.prototype.hasOwnProperty,iv=ev.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rv={key:!0,ref:!0,__self:!0,__source:!0};function Qp(t,e,n){var s,i={},r=null,o=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)sv.call(e,s)&&!rv.hasOwnProperty(s)&&(i[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)i[s]===void 0&&(i[s]=e[s]);return{$$typeof:tv,type:t,key:r,ref:o,props:i,_owner:iv.current}}Pa.Fragment=nv;Pa.jsx=Qp;Pa.jsxs=Qp;Up.exports=Pa;var f=Up.exports,Zl={},Zp={exports:{}},ot={},eg={exports:{}},tg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,R){var L=N.length;N.push(R);e:for(;0<L;){var Z=L-1>>>1,ie=N[Z];if(0<i(ie,R))N[Z]=R,N[L]=ie,L=Z;else break e}}function n(N){return N.length===0?null:N[0]}function s(N){if(N.length===0)return null;var R=N[0],L=N.pop();if(L!==R){N[0]=L;e:for(var Z=0,ie=N.length,Ct=ie>>>1;Z<Ct;){var $e=2*(Z+1)-1,Ft=N[$e],Fe=$e+1,Br=N[Fe];if(0>i(Ft,L))Fe<ie&&0>i(Br,Ft)?(N[Z]=Br,N[Fe]=L,Z=Fe):(N[Z]=Ft,N[$e]=L,Z=$e);else if(Fe<ie&&0>i(Br,L))N[Z]=Br,N[Fe]=L,Z=Fe;else break e}}return R}function i(N,R){var L=N.sortIndex-R.sortIndex;return L!==0?L:N.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,m=!1,g=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(N){for(var R=n(c);R!==null;){if(R.callback===null)s(c);else if(R.startTime<=N)s(c),R.sortIndex=R.expirationTime,e(l,R);else break;R=n(c)}}function w(N){if(g=!1,x(N),!m)if(n(l)!==null)m=!0,J(b);else{var R=n(c);R!==null&&se(w,R.startTime-N)}}function b(N,R){m=!1,g&&(g=!1,v(E),E=-1),p=!0;var L=h;try{for(x(R),d=n(l);d!==null&&(!(d.expirationTime>R)||N&&!O());){var Z=d.callback;if(typeof Z=="function"){d.callback=null,h=d.priorityLevel;var ie=Z(d.expirationTime<=R);R=t.unstable_now(),typeof ie=="function"?d.callback=ie:d===n(l)&&s(l),x(R)}else s(l);d=n(l)}if(d!==null)var Ct=!0;else{var $e=n(c);$e!==null&&se(w,$e.startTime-R),Ct=!1}return Ct}finally{d=null,h=L,p=!1}}var k=!1,S=null,E=-1,C=5,T=-1;function O(){return!(t.unstable_now()-T<C)}function D(){if(S!==null){var N=t.unstable_now();T=N;var R=!0;try{R=S(!0,N)}finally{R?K():(k=!1,S=null)}}else k=!1}var K;if(typeof y=="function")K=function(){y(D)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,q=_e.port2;_e.port1.onmessage=D,K=function(){q.postMessage(null)}}else K=function(){_(D,0)};function J(N){S=N,k||(k=!0,K())}function se(N,R){E=_(function(){N(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,J(b))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var L=h;h=R;try{return N()}finally{h=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,R){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var L=h;h=N;try{return R()}finally{h=L}},t.unstable_scheduleCallback=function(N,R,L){var Z=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?Z+L:Z):L=Z,N){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=L+ie,N={id:u++,callback:R,priorityLevel:N,startTime:L,expirationTime:ie,sortIndex:-1},L>Z?(N.sortIndex=L,e(c,N),n(l)===null&&N===n(c)&&(g?(v(E),E=-1):g=!0,se(w,L-Z))):(N.sortIndex=ie,e(l,N),m||p||(m=!0,J(b))),N},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(N){var R=h;return function(){var L=h;h=R;try{return N.apply(this,arguments)}finally{h=L}}}})(tg);eg.exports=tg;var ov=eg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av=j,rt=ov;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ng=new Set,sr={};function ps(t,e){Xs(t,e),Xs(t+"Capture",e)}function Xs(t,e){for(sr[t]=e,t=0;t<e.length;t++)ng.add(e[t])}var Qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ec=Object.prototype.hasOwnProperty,lv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vd={},qd={};function cv(t){return ec.call(qd,t)?!0:ec.call(Vd,t)?!1:lv.test(t)?qd[t]=!0:(Vd[t]=!0,!1)}function uv(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function dv(t,e,n,s){if(e===null||typeof e>"u"||uv(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function He(t,e,n,s,i,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var Oe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Oe[t]=new He(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Oe[e]=new He(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Oe[t]=new He(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Oe[t]=new He(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Oe[t]=new He(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Oe[t]=new He(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Oe[t]=new He(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Oe[t]=new He(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Oe[t]=new He(t,5,!1,t.toLowerCase(),null,!1,!1)});var Su=/[\-:]([a-z])/g;function ju(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Su,ju);Oe[e]=new He(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Su,ju);Oe[e]=new He(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Su,ju);Oe[e]=new He(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Oe[t]=new He(t,1,!1,t.toLowerCase(),null,!1,!1)});Oe.xlinkHref=new He("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Oe[t]=new He(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cu(t,e,n,s){var i=Oe.hasOwnProperty(e)?Oe[e]:null;(i!==null?i.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(dv(e,n,i,s)&&(n=null),s||i===null?cv(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,s=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var sn=av.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wr=Symbol.for("react.element"),Ts=Symbol.for("react.portal"),Ps=Symbol.for("react.fragment"),Eu=Symbol.for("react.strict_mode"),tc=Symbol.for("react.profiler"),sg=Symbol.for("react.provider"),ig=Symbol.for("react.context"),Tu=Symbol.for("react.forward_ref"),nc=Symbol.for("react.suspense"),sc=Symbol.for("react.suspense_list"),Pu=Symbol.for("react.memo"),un=Symbol.for("react.lazy"),rg=Symbol.for("react.offscreen"),Kd=Symbol.iterator;function gi(t){return t===null||typeof t!="object"?null:(t=Kd&&t[Kd]||t["@@iterator"],typeof t=="function"?t:null)}var he=Object.assign,ul;function Ni(t){if(ul===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ul=e&&e[1]||""}return`
`+ul+t}var dl=!1;function hl(t,e){if(!t||dl)return"";dl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var s=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){s=c}t.call(e.prototype)}else{try{throw Error()}catch(c){s=c}t()}}catch(c){if(c&&s&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),r=s.stack.split(`
`),o=i.length-1,a=r.length-1;1<=o&&0<=a&&i[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==r[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==r[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{dl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ni(t):""}function hv(t){switch(t.tag){case 5:return Ni(t.type);case 16:return Ni("Lazy");case 13:return Ni("Suspense");case 19:return Ni("SuspenseList");case 0:case 2:case 15:return t=hl(t.type,!1),t;case 11:return t=hl(t.type.render,!1),t;case 1:return t=hl(t.type,!0),t;default:return""}}function ic(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ps:return"Fragment";case Ts:return"Portal";case tc:return"Profiler";case Eu:return"StrictMode";case nc:return"Suspense";case sc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ig:return(t.displayName||"Context")+".Consumer";case sg:return(t._context.displayName||"Context")+".Provider";case Tu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Pu:return e=t.displayName||null,e!==null?e:ic(t.type)||"Memo";case un:e=t._payload,t=t._init;try{return ic(t(e))}catch{}}return null}function fv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ic(e);case 8:return e===Eu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function On(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function og(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pv(t){var e=og(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,r.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hr(t){t._valueTracker||(t._valueTracker=pv(t))}function ag(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=og(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function Uo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function rc(t,e){var n=e.checked;return he({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Yd(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=On(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function lg(t,e){e=e.checked,e!=null&&Cu(t,"checked",e,!1)}function oc(t,e){lg(t,e);var n=On(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ac(t,e.type,n):e.hasOwnProperty("defaultValue")&&ac(t,e.type,On(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Gd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ac(t,e,n){(e!=="number"||Uo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Oi=Array.isArray;function Bs(t,e,n,s){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&s&&(t[n].defaultSelected=!0)}else{for(n=""+On(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,s&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function lc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return he({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if(Oi(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:On(n)}}function cg(t,e){var n=On(e.value),s=On(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function Jd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ug(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ug(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vr,dg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Vr=Vr||document.createElement("div"),Vr.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ir(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Bi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gv=["Webkit","ms","Moz","O"];Object.keys(Bi).forEach(function(t){gv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Bi[e]=Bi[t]})});function hg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Bi.hasOwnProperty(t)&&Bi[t]?(""+e).trim():e+"px"}function fg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=hg(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,i):t[n]=i}}var mv=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uc(t,e){if(e){if(mv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function dc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hc=null;function Nu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fc=null,Us=null,Ws=null;function Qd(t){if(t=Ar(t)){if(typeof fc!="function")throw Error(P(280));var e=t.stateNode;e&&(e=Da(e),fc(t.stateNode,t.type,e))}}function pg(t){Us?Ws?Ws.push(t):Ws=[t]:Us=t}function gg(){if(Us){var t=Us,e=Ws;if(Ws=Us=null,Qd(t),e)for(t=0;t<e.length;t++)Qd(e[t])}}function mg(t,e){return t(e)}function yg(){}var fl=!1;function vg(t,e,n){if(fl)return t(e,n);fl=!0;try{return mg(t,e,n)}finally{fl=!1,(Us!==null||Ws!==null)&&(yg(),gg())}}function rr(t,e){var n=t.stateNode;if(n===null)return null;var s=Da(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var pc=!1;if(Qt)try{var mi={};Object.defineProperty(mi,"passive",{get:function(){pc=!0}}),window.addEventListener("test",mi,mi),window.removeEventListener("test",mi,mi)}catch{pc=!1}function yv(t,e,n,s,i,r,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Ui=!1,Wo=null,Ho=!1,gc=null,vv={onError:function(t){Ui=!0,Wo=t}};function xv(t,e,n,s,i,r,o,a,l){Ui=!1,Wo=null,yv.apply(vv,arguments)}function _v(t,e,n,s,i,r,o,a,l){if(xv.apply(this,arguments),Ui){if(Ui){var c=Wo;Ui=!1,Wo=null}else throw Error(P(198));Ho||(Ho=!0,gc=c)}}function gs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function xg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Zd(t){if(gs(t)!==t)throw Error(P(188))}function wv(t){var e=t.alternate;if(!e){if(e=gs(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,s=e;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return Zd(i),t;if(r===s)return Zd(i),e;r=r.sibling}throw Error(P(188))}if(n.return!==s.return)n=i,s=r;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,s=r;break}if(a===s){o=!0,s=i,n=r;break}a=a.sibling}if(!o){for(a=r.child;a;){if(a===n){o=!0,n=r,s=i;break}if(a===s){o=!0,s=r,n=i;break}a=a.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==s)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function _g(t){return t=wv(t),t!==null?wg(t):null}function wg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=wg(t);if(e!==null)return e;t=t.sibling}return null}var bg=rt.unstable_scheduleCallback,eh=rt.unstable_cancelCallback,bv=rt.unstable_shouldYield,kv=rt.unstable_requestPaint,ge=rt.unstable_now,Sv=rt.unstable_getCurrentPriorityLevel,Ou=rt.unstable_ImmediatePriority,kg=rt.unstable_UserBlockingPriority,Vo=rt.unstable_NormalPriority,jv=rt.unstable_LowPriority,Sg=rt.unstable_IdlePriority,Oa=null,Lt=null;function Cv(t){if(Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(Oa,t,void 0,(t.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:Pv,Ev=Math.log,Tv=Math.LN2;function Pv(t){return t>>>=0,t===0?32:31-(Ev(t)/Tv|0)|0}var qr=64,Kr=4194304;function Mi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qo(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,i=t.suspendedLanes,r=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?s=Mi(a):(r&=o,r!==0&&(s=Mi(r)))}else o=n&~i,o!==0?s=Mi(o):r!==0&&(s=Mi(r));if(s===0)return 0;if(e!==0&&e!==s&&!(e&i)&&(i=s&-s,r=e&-e,i>=r||i===16&&(r&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-kt(e),i=1<<n,s|=t[n],e&=~i;return s}function Nv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ov(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,i=t.expirationTimes,r=t.pendingLanes;0<r;){var o=31-kt(r),a=1<<o,l=i[o];l===-1?(!(a&n)||a&s)&&(i[o]=Nv(a,e)):l<=e&&(t.expiredLanes|=a),r&=~a}}function mc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function jg(){var t=qr;return qr<<=1,!(qr&4194240)&&(qr=64),t}function pl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Or(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kt(e),t[e]=n}function Mv(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-kt(n),r=1<<i;e[i]=0,s[i]=-1,t[i]=-1,n&=~r}}function Mu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-kt(n),i=1<<s;i&e|t[s]&e&&(t[s]|=e),n&=~i}}var X=0;function Cg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Eg,Au,Tg,Pg,Ng,yc=!1,Yr=[],wn=null,bn=null,kn=null,or=new Map,ar=new Map,hn=[],Av="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function th(t,e){switch(t){case"focusin":case"focusout":wn=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":kn=null;break;case"pointerover":case"pointerout":or.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ar.delete(e.pointerId)}}function yi(t,e,n,s,i,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:r,targetContainers:[i]},e!==null&&(e=Ar(e),e!==null&&Au(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Rv(t,e,n,s,i){switch(e){case"focusin":return wn=yi(wn,t,e,n,s,i),!0;case"dragenter":return bn=yi(bn,t,e,n,s,i),!0;case"mouseover":return kn=yi(kn,t,e,n,s,i),!0;case"pointerover":var r=i.pointerId;return or.set(r,yi(or.get(r)||null,t,e,n,s,i)),!0;case"gotpointercapture":return r=i.pointerId,ar.set(r,yi(ar.get(r)||null,t,e,n,s,i)),!0}return!1}function Og(t){var e=es(t.target);if(e!==null){var n=gs(e);if(n!==null){if(e=n.tag,e===13){if(e=xg(n),e!==null){t.blockedOn=e,Ng(t.priority,function(){Tg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Eo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=vc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);hc=s,n.target.dispatchEvent(s),hc=null}else return e=Ar(n),e!==null&&Au(e),t.blockedOn=n,!1;e.shift()}return!0}function nh(t,e,n){Eo(t)&&n.delete(e)}function Dv(){yc=!1,wn!==null&&Eo(wn)&&(wn=null),bn!==null&&Eo(bn)&&(bn=null),kn!==null&&Eo(kn)&&(kn=null),or.forEach(nh),ar.forEach(nh)}function vi(t,e){t.blockedOn===e&&(t.blockedOn=null,yc||(yc=!0,rt.unstable_scheduleCallback(rt.unstable_NormalPriority,Dv)))}function lr(t){function e(i){return vi(i,t)}if(0<Yr.length){vi(Yr[0],t);for(var n=1;n<Yr.length;n++){var s=Yr[n];s.blockedOn===t&&(s.blockedOn=null)}}for(wn!==null&&vi(wn,t),bn!==null&&vi(bn,t),kn!==null&&vi(kn,t),or.forEach(e),ar.forEach(e),n=0;n<hn.length;n++)s=hn[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<hn.length&&(n=hn[0],n.blockedOn===null);)Og(n),n.blockedOn===null&&hn.shift()}var Hs=sn.ReactCurrentBatchConfig,Ko=!0;function Lv(t,e,n,s){var i=X,r=Hs.transition;Hs.transition=null;try{X=1,Ru(t,e,n,s)}finally{X=i,Hs.transition=r}}function Iv(t,e,n,s){var i=X,r=Hs.transition;Hs.transition=null;try{X=4,Ru(t,e,n,s)}finally{X=i,Hs.transition=r}}function Ru(t,e,n,s){if(Ko){var i=vc(t,e,n,s);if(i===null)Sl(t,e,s,Yo,n),th(t,s);else if(Rv(i,t,e,n,s))s.stopPropagation();else if(th(t,s),e&4&&-1<Av.indexOf(t)){for(;i!==null;){var r=Ar(i);if(r!==null&&Eg(r),r=vc(t,e,n,s),r===null&&Sl(t,e,s,Yo,n),r===i)break;i=r}i!==null&&s.stopPropagation()}else Sl(t,e,s,null,n)}}var Yo=null;function vc(t,e,n,s){if(Yo=null,t=Nu(s),t=es(t),t!==null)if(e=gs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=xg(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yo=t,null}function Mg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sv()){case Ou:return 1;case kg:return 4;case Vo:case jv:return 16;case Sg:return 536870912;default:return 16}default:return 16}}var mn=null,Du=null,To=null;function Ag(){if(To)return To;var t,e=Du,n=e.length,s,i="value"in mn?mn.value:mn.textContent,r=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===i[r-s];s++);return To=i.slice(t,1<s?1-s:void 0)}function Po(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Gr(){return!0}function sh(){return!1}function at(t){function e(n,s,i,r,o){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Gr:sh,this.isPropagationStopped=sh,this}return he(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gr)},persist:function(){},isPersistent:Gr}),e}var li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lu=at(li),Mr=he({},li,{view:0,detail:0}),$v=at(Mr),gl,ml,xi,Ma=he({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Iu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xi&&(xi&&t.type==="mousemove"?(gl=t.screenX-xi.screenX,ml=t.screenY-xi.screenY):ml=gl=0,xi=t),gl)},movementY:function(t){return"movementY"in t?t.movementY:ml}}),ih=at(Ma),Fv=he({},Ma,{dataTransfer:0}),zv=at(Fv),Bv=he({},Mr,{relatedTarget:0}),yl=at(Bv),Uv=he({},li,{animationName:0,elapsedTime:0,pseudoElement:0}),Wv=at(Uv),Hv=he({},li,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Vv=at(Hv),qv=he({},li,{data:0}),rh=at(qv),Kv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Gv[t])?!!e[t]:!1}function Iu(){return Xv}var Jv=he({},Mr,{key:function(t){if(t.key){var e=Kv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Po(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Iu,charCode:function(t){return t.type==="keypress"?Po(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Po(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Qv=at(Jv),Zv=he({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oh=at(Zv),ex=he({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Iu}),tx=at(ex),nx=he({},li,{propertyName:0,elapsedTime:0,pseudoElement:0}),sx=at(nx),ix=he({},Ma,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rx=at(ix),ox=[9,13,27,32],$u=Qt&&"CompositionEvent"in window,Wi=null;Qt&&"documentMode"in document&&(Wi=document.documentMode);var ax=Qt&&"TextEvent"in window&&!Wi,Rg=Qt&&(!$u||Wi&&8<Wi&&11>=Wi),ah=String.fromCharCode(32),lh=!1;function Dg(t,e){switch(t){case"keyup":return ox.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ns=!1;function lx(t,e){switch(t){case"compositionend":return Lg(e);case"keypress":return e.which!==32?null:(lh=!0,ah);case"textInput":return t=e.data,t===ah&&lh?null:t;default:return null}}function cx(t,e){if(Ns)return t==="compositionend"||!$u&&Dg(t,e)?(t=Ag(),To=Du=mn=null,Ns=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Rg&&e.locale!=="ko"?null:e.data;default:return null}}var ux={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ch(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ux[t.type]:e==="textarea"}function Ig(t,e,n,s){pg(s),e=Go(e,"onChange"),0<e.length&&(n=new Lu("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var Hi=null,cr=null;function dx(t){Yg(t,0)}function Aa(t){var e=As(t);if(ag(e))return t}function hx(t,e){if(t==="change")return e}var $g=!1;if(Qt){var vl;if(Qt){var xl="oninput"in document;if(!xl){var uh=document.createElement("div");uh.setAttribute("oninput","return;"),xl=typeof uh.oninput=="function"}vl=xl}else vl=!1;$g=vl&&(!document.documentMode||9<document.documentMode)}function dh(){Hi&&(Hi.detachEvent("onpropertychange",Fg),cr=Hi=null)}function Fg(t){if(t.propertyName==="value"&&Aa(cr)){var e=[];Ig(e,cr,t,Nu(t)),vg(dx,e)}}function fx(t,e,n){t==="focusin"?(dh(),Hi=e,cr=n,Hi.attachEvent("onpropertychange",Fg)):t==="focusout"&&dh()}function px(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Aa(cr)}function gx(t,e){if(t==="click")return Aa(e)}function mx(t,e){if(t==="input"||t==="change")return Aa(e)}function yx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jt=typeof Object.is=="function"?Object.is:yx;function ur(t,e){if(jt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!ec.call(e,i)||!jt(t[i],e[i]))return!1}return!0}function hh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fh(t,e){var n=hh(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hh(n)}}function zg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Bg(){for(var t=window,e=Uo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Uo(t.document)}return e}function Fu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function vx(t){var e=Bg(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&zg(n.ownerDocument.documentElement,n)){if(s!==null&&Fu(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,r=Math.min(s.start,i);s=s.end===void 0?r:Math.min(s.end,i),!t.extend&&r>s&&(i=s,s=r,r=i),i=fh(n,r);var o=fh(n,s);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),r>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xx=Qt&&"documentMode"in document&&11>=document.documentMode,Os=null,xc=null,Vi=null,_c=!1;function ph(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_c||Os==null||Os!==Uo(s)||(s=Os,"selectionStart"in s&&Fu(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Vi&&ur(Vi,s)||(Vi=s,s=Go(xc,"onSelect"),0<s.length&&(e=new Lu("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=Os)))}function Xr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ms={animationend:Xr("Animation","AnimationEnd"),animationiteration:Xr("Animation","AnimationIteration"),animationstart:Xr("Animation","AnimationStart"),transitionend:Xr("Transition","TransitionEnd")},_l={},Ug={};Qt&&(Ug=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function Ra(t){if(_l[t])return _l[t];if(!Ms[t])return t;var e=Ms[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ug)return _l[t]=e[n];return t}var Wg=Ra("animationend"),Hg=Ra("animationiteration"),Vg=Ra("animationstart"),qg=Ra("transitionend"),Kg=new Map,gh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rn(t,e){Kg.set(t,e),ps(e,[t])}for(var wl=0;wl<gh.length;wl++){var bl=gh[wl],_x=bl.toLowerCase(),wx=bl[0].toUpperCase()+bl.slice(1);Rn(_x,"on"+wx)}Rn(Wg,"onAnimationEnd");Rn(Hg,"onAnimationIteration");Rn(Vg,"onAnimationStart");Rn("dblclick","onDoubleClick");Rn("focusin","onFocus");Rn("focusout","onBlur");Rn(qg,"onTransitionEnd");Xs("onMouseEnter",["mouseout","mouseover"]);Xs("onMouseLeave",["mouseout","mouseover"]);Xs("onPointerEnter",["pointerout","pointerover"]);Xs("onPointerLeave",["pointerout","pointerover"]);ps("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ps("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ps("onBeforeInput",["compositionend","keypress","textInput","paste"]);ps("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ps("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ps("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ai="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ai));function mh(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,_v(s,e,void 0,t),t.currentTarget=null}function Yg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],i=s.event;s=s.listeners;e:{var r=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==r&&i.isPropagationStopped())break e;mh(i,a,c),r=l}else for(o=0;o<s.length;o++){if(a=s[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==r&&i.isPropagationStopped())break e;mh(i,a,c),r=l}}}if(Ho)throw t=gc,Ho=!1,gc=null,t}function re(t,e){var n=e[jc];n===void 0&&(n=e[jc]=new Set);var s=t+"__bubble";n.has(s)||(Gg(e,t,2,!1),n.add(s))}function kl(t,e,n){var s=0;e&&(s|=4),Gg(n,t,s,e)}var Jr="_reactListening"+Math.random().toString(36).slice(2);function dr(t){if(!t[Jr]){t[Jr]=!0,ng.forEach(function(n){n!=="selectionchange"&&(bx.has(n)||kl(n,!1,t),kl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jr]||(e[Jr]=!0,kl("selectionchange",!1,e))}}function Gg(t,e,n,s){switch(Mg(e)){case 1:var i=Lv;break;case 4:i=Iv;break;default:i=Ru}n=i.bind(null,e,n,t),i=void 0,!pc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),s?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Sl(t,e,n,s,i){var r=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=es(a),o===null)return;if(l=o.tag,l===5||l===6){s=r=o;continue e}a=a.parentNode}}s=s.return}vg(function(){var c=r,u=Nu(n),d=[];e:{var h=Kg.get(t);if(h!==void 0){var p=Lu,m=t;switch(t){case"keypress":if(Po(n)===0)break e;case"keydown":case"keyup":p=Qv;break;case"focusin":m="focus",p=yl;break;case"focusout":m="blur",p=yl;break;case"beforeblur":case"afterblur":p=yl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ih;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=zv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=tx;break;case Wg:case Hg:case Vg:p=Wv;break;case qg:p=sx;break;case"scroll":p=$v;break;case"wheel":p=rx;break;case"copy":case"cut":case"paste":p=Vv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=oh}var g=(e&4)!==0,_=!g&&t==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var y=c,x;y!==null;){x=y;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,v!==null&&(w=rr(y,v),w!=null&&g.push(hr(y,w,x)))),_)break;y=y.return}0<g.length&&(h=new p(h,m,null,n,u),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==hc&&(m=n.relatedTarget||n.fromElement)&&(es(m)||m[Zt]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?es(m):null,m!==null&&(_=gs(m),m!==_||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=ih,w="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=oh,w="onPointerLeave",v="onPointerEnter",y="pointer"),_=p==null?h:As(p),x=m==null?h:As(m),h=new g(w,y+"leave",p,n,u),h.target=_,h.relatedTarget=x,w=null,es(u)===c&&(g=new g(v,y+"enter",m,n,u),g.target=x,g.relatedTarget=_,w=g),_=w,p&&m)t:{for(g=p,v=m,y=0,x=g;x;x=vs(x))y++;for(x=0,w=v;w;w=vs(w))x++;for(;0<y-x;)g=vs(g),y--;for(;0<x-y;)v=vs(v),x--;for(;y--;){if(g===v||v!==null&&g===v.alternate)break t;g=vs(g),v=vs(v)}g=null}else g=null;p!==null&&yh(d,h,p,g,!1),m!==null&&_!==null&&yh(d,_,m,g,!0)}}e:{if(h=c?As(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var b=hx;else if(ch(h))if($g)b=mx;else{b=px;var k=fx}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=gx);if(b&&(b=b(t,c))){Ig(d,b,n,u);break e}k&&k(t,h,c),t==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&ac(h,"number",h.value)}switch(k=c?As(c):window,t){case"focusin":(ch(k)||k.contentEditable==="true")&&(Os=k,xc=c,Vi=null);break;case"focusout":Vi=xc=Os=null;break;case"mousedown":_c=!0;break;case"contextmenu":case"mouseup":case"dragend":_c=!1,ph(d,n,u);break;case"selectionchange":if(xx)break;case"keydown":case"keyup":ph(d,n,u)}var S;if($u)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ns?Dg(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Rg&&n.locale!=="ko"&&(Ns||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ns&&(S=Ag()):(mn=u,Du="value"in mn?mn.value:mn.textContent,Ns=!0)),k=Go(c,E),0<k.length&&(E=new rh(E,t,null,n,u),d.push({event:E,listeners:k}),S?E.data=S:(S=Lg(n),S!==null&&(E.data=S)))),(S=ax?lx(t,n):cx(t,n))&&(c=Go(c,"onBeforeInput"),0<c.length&&(u=new rh("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=S))}Yg(d,e)})}function hr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Go(t,e){for(var n=e+"Capture",s=[];t!==null;){var i=t,r=i.stateNode;i.tag===5&&r!==null&&(i=r,r=rr(t,n),r!=null&&s.unshift(hr(t,r,i)),r=rr(t,e),r!=null&&s.push(hr(t,r,i))),t=t.return}return s}function vs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yh(t,e,n,s,i){for(var r=e._reactName,o=[];n!==null&&n!==s;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===s)break;a.tag===5&&c!==null&&(a=c,i?(l=rr(n,r),l!=null&&o.unshift(hr(n,l,a))):i||(l=rr(n,r),l!=null&&o.push(hr(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var kx=/\r\n?/g,Sx=/\u0000|\uFFFD/g;function vh(t){return(typeof t=="string"?t:""+t).replace(kx,`
`).replace(Sx,"")}function Qr(t,e,n){if(e=vh(e),vh(t)!==e&&n)throw Error(P(425))}function Xo(){}var wc=null,bc=null;function kc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Sc=typeof setTimeout=="function"?setTimeout:void 0,jx=typeof clearTimeout=="function"?clearTimeout:void 0,xh=typeof Promise=="function"?Promise:void 0,Cx=typeof queueMicrotask=="function"?queueMicrotask:typeof xh<"u"?function(t){return xh.resolve(null).then(t).catch(Ex)}:Sc;function Ex(t){setTimeout(function(){throw t})}function jl(t,e){var n=e,s=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){t.removeChild(i),lr(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);lr(e)}function Sn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _h(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ci=Math.random().toString(36).slice(2),At="__reactFiber$"+ci,fr="__reactProps$"+ci,Zt="__reactContainer$"+ci,jc="__reactEvents$"+ci,Tx="__reactListeners$"+ci,Px="__reactHandles$"+ci;function es(t){var e=t[At];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zt]||n[At]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_h(t);t!==null;){if(n=t[At])return n;t=_h(t)}return e}t=n,n=t.parentNode}return null}function Ar(t){return t=t[At]||t[Zt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function As(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function Da(t){return t[fr]||null}var Cc=[],Rs=-1;function Dn(t){return{current:t}}function oe(t){0>Rs||(t.current=Cc[Rs],Cc[Rs]=null,Rs--)}function ne(t,e){Rs++,Cc[Rs]=t.current,t.current=e}var Mn={},Le=Dn(Mn),Qe=Dn(!1),as=Mn;function Js(t,e){var n=t.type.contextTypes;if(!n)return Mn;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var i={},r;for(r in n)i[r]=e[r];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ze(t){return t=t.childContextTypes,t!=null}function Jo(){oe(Qe),oe(Le)}function wh(t,e,n){if(Le.current!==Mn)throw Error(P(168));ne(Le,e),ne(Qe,n)}function Xg(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in e))throw Error(P(108,fv(t)||"Unknown",i));return he({},n,s)}function Qo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mn,as=Le.current,ne(Le,t),ne(Qe,Qe.current),!0}function bh(t,e,n){var s=t.stateNode;if(!s)throw Error(P(169));n?(t=Xg(t,e,as),s.__reactInternalMemoizedMergedChildContext=t,oe(Qe),oe(Le),ne(Le,t)):oe(Qe),ne(Qe,n)}var qt=null,La=!1,Cl=!1;function Jg(t){qt===null?qt=[t]:qt.push(t)}function Nx(t){La=!0,Jg(t)}function Ln(){if(!Cl&&qt!==null){Cl=!0;var t=0,e=X;try{var n=qt;for(X=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}qt=null,La=!1}catch(i){throw qt!==null&&(qt=qt.slice(t+1)),bg(Ou,Ln),i}finally{X=e,Cl=!1}}return null}var Ds=[],Ls=0,Zo=null,ea=0,ut=[],dt=0,ls=null,Yt=1,Gt="";function Yn(t,e){Ds[Ls++]=ea,Ds[Ls++]=Zo,Zo=t,ea=e}function Qg(t,e,n){ut[dt++]=Yt,ut[dt++]=Gt,ut[dt++]=ls,ls=t;var s=Yt;t=Gt;var i=32-kt(s)-1;s&=~(1<<i),n+=1;var r=32-kt(e)+i;if(30<r){var o=i-i%5;r=(s&(1<<o)-1).toString(32),s>>=o,i-=o,Yt=1<<32-kt(e)+i|n<<i|s,Gt=r+t}else Yt=1<<r|n<<i|s,Gt=t}function zu(t){t.return!==null&&(Yn(t,1),Qg(t,1,0))}function Bu(t){for(;t===Zo;)Zo=Ds[--Ls],Ds[Ls]=null,ea=Ds[--Ls],Ds[Ls]=null;for(;t===ls;)ls=ut[--dt],ut[dt]=null,Gt=ut[--dt],ut[dt]=null,Yt=ut[--dt],ut[dt]=null}var it=null,st=null,ae=!1,bt=null;function Zg(t,e){var n=ht(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function kh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,it=t,st=Sn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,it=t,st=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ls!==null?{id:Yt,overflow:Gt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ht(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,it=t,st=null,!0):!1;default:return!1}}function Ec(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tc(t){if(ae){var e=st;if(e){var n=e;if(!kh(t,e)){if(Ec(t))throw Error(P(418));e=Sn(n.nextSibling);var s=it;e&&kh(t,e)?Zg(s,n):(t.flags=t.flags&-4097|2,ae=!1,it=t)}}else{if(Ec(t))throw Error(P(418));t.flags=t.flags&-4097|2,ae=!1,it=t}}}function Sh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;it=t}function Zr(t){if(t!==it)return!1;if(!ae)return Sh(t),ae=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!kc(t.type,t.memoizedProps)),e&&(e=st)){if(Ec(t))throw em(),Error(P(418));for(;e;)Zg(t,e),e=Sn(e.nextSibling)}if(Sh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){st=Sn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}st=null}}else st=it?Sn(t.stateNode.nextSibling):null;return!0}function em(){for(var t=st;t;)t=Sn(t.nextSibling)}function Qs(){st=it=null,ae=!1}function Uu(t){bt===null?bt=[t]:bt.push(t)}var Ox=sn.ReactCurrentBatchConfig;function _i(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var s=n.stateNode}if(!s)throw Error(P(147,t));var i=s,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var a=i.refs;o===null?delete a[r]:a[r]=o},e._stringRef=r,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function eo(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function jh(t){var e=t._init;return e(t._payload)}function tm(t){function e(v,y){if(t){var x=v.deletions;x===null?(v.deletions=[y],v.flags|=16):x.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function s(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=Tn(v,y),v.index=0,v.sibling=null,v}function r(v,y,x){return v.index=x,t?(x=v.alternate,x!==null?(x=x.index,x<y?(v.flags|=2,y):x):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,y,x,w){return y===null||y.tag!==6?(y=Al(x,v.mode,w),y.return=v,y):(y=i(y,x),y.return=v,y)}function l(v,y,x,w){var b=x.type;return b===Ps?u(v,y,x.props.children,w,x.key):y!==null&&(y.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===un&&jh(b)===y.type)?(w=i(y,x.props),w.ref=_i(v,y,x),w.return=v,w):(w=Lo(x.type,x.key,x.props,null,v.mode,w),w.ref=_i(v,y,x),w.return=v,w)}function c(v,y,x,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Rl(x,v.mode,w),y.return=v,y):(y=i(y,x.children||[]),y.return=v,y)}function u(v,y,x,w,b){return y===null||y.tag!==7?(y=rs(x,v.mode,w,b),y.return=v,y):(y=i(y,x),y.return=v,y)}function d(v,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Al(""+y,v.mode,x),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Wr:return x=Lo(y.type,y.key,y.props,null,v.mode,x),x.ref=_i(v,null,y),x.return=v,x;case Ts:return y=Rl(y,v.mode,x),y.return=v,y;case un:var w=y._init;return d(v,w(y._payload),x)}if(Oi(y)||gi(y))return y=rs(y,v.mode,x,null),y.return=v,y;eo(v,y)}return null}function h(v,y,x,w){var b=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return b!==null?null:a(v,y,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Wr:return x.key===b?l(v,y,x,w):null;case Ts:return x.key===b?c(v,y,x,w):null;case un:return b=x._init,h(v,y,b(x._payload),w)}if(Oi(x)||gi(x))return b!==null?null:u(v,y,x,w,null);eo(v,x)}return null}function p(v,y,x,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(x)||null,a(y,v,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Wr:return v=v.get(w.key===null?x:w.key)||null,l(y,v,w,b);case Ts:return v=v.get(w.key===null?x:w.key)||null,c(y,v,w,b);case un:var k=w._init;return p(v,y,x,k(w._payload),b)}if(Oi(w)||gi(w))return v=v.get(x)||null,u(y,v,w,b,null);eo(y,w)}return null}function m(v,y,x,w){for(var b=null,k=null,S=y,E=y=0,C=null;S!==null&&E<x.length;E++){S.index>E?(C=S,S=null):C=S.sibling;var T=h(v,S,x[E],w);if(T===null){S===null&&(S=C);break}t&&S&&T.alternate===null&&e(v,S),y=r(T,y,E),k===null?b=T:k.sibling=T,k=T,S=C}if(E===x.length)return n(v,S),ae&&Yn(v,E),b;if(S===null){for(;E<x.length;E++)S=d(v,x[E],w),S!==null&&(y=r(S,y,E),k===null?b=S:k.sibling=S,k=S);return ae&&Yn(v,E),b}for(S=s(v,S);E<x.length;E++)C=p(S,v,E,x[E],w),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?E:C.key),y=r(C,y,E),k===null?b=C:k.sibling=C,k=C);return t&&S.forEach(function(O){return e(v,O)}),ae&&Yn(v,E),b}function g(v,y,x,w){var b=gi(x);if(typeof b!="function")throw Error(P(150));if(x=b.call(x),x==null)throw Error(P(151));for(var k=b=null,S=y,E=y=0,C=null,T=x.next();S!==null&&!T.done;E++,T=x.next()){S.index>E?(C=S,S=null):C=S.sibling;var O=h(v,S,T.value,w);if(O===null){S===null&&(S=C);break}t&&S&&O.alternate===null&&e(v,S),y=r(O,y,E),k===null?b=O:k.sibling=O,k=O,S=C}if(T.done)return n(v,S),ae&&Yn(v,E),b;if(S===null){for(;!T.done;E++,T=x.next())T=d(v,T.value,w),T!==null&&(y=r(T,y,E),k===null?b=T:k.sibling=T,k=T);return ae&&Yn(v,E),b}for(S=s(v,S);!T.done;E++,T=x.next())T=p(S,v,E,T.value,w),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?E:T.key),y=r(T,y,E),k===null?b=T:k.sibling=T,k=T);return t&&S.forEach(function(D){return e(v,D)}),ae&&Yn(v,E),b}function _(v,y,x,w){if(typeof x=="object"&&x!==null&&x.type===Ps&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Wr:e:{for(var b=x.key,k=y;k!==null;){if(k.key===b){if(b=x.type,b===Ps){if(k.tag===7){n(v,k.sibling),y=i(k,x.props.children),y.return=v,v=y;break e}}else if(k.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===un&&jh(b)===k.type){n(v,k.sibling),y=i(k,x.props),y.ref=_i(v,k,x),y.return=v,v=y;break e}n(v,k);break}else e(v,k);k=k.sibling}x.type===Ps?(y=rs(x.props.children,v.mode,w,x.key),y.return=v,v=y):(w=Lo(x.type,x.key,x.props,null,v.mode,w),w.ref=_i(v,y,x),w.return=v,v=w)}return o(v);case Ts:e:{for(k=x.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(v,y.sibling),y=i(y,x.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=Rl(x,v.mode,w),y.return=v,v=y}return o(v);case un:return k=x._init,_(v,y,k(x._payload),w)}if(Oi(x))return m(v,y,x,w);if(gi(x))return g(v,y,x,w);eo(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,x),y.return=v,v=y):(n(v,y),y=Al(x,v.mode,w),y.return=v,v=y),o(v)):n(v,y)}return _}var Zs=tm(!0),nm=tm(!1),ta=Dn(null),na=null,Is=null,Wu=null;function Hu(){Wu=Is=na=null}function Vu(t){var e=ta.current;oe(ta),t._currentValue=e}function Pc(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function Vs(t,e){na=t,Wu=Is=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Je=!0),t.firstContext=null)}function mt(t){var e=t._currentValue;if(Wu!==t)if(t={context:t,memoizedValue:e,next:null},Is===null){if(na===null)throw Error(P(308));Is=t,na.dependencies={lanes:0,firstContext:t}}else Is=Is.next=t;return e}var ts=null;function qu(t){ts===null?ts=[t]:ts.push(t)}function sm(t,e,n,s){var i=e.interleaved;return i===null?(n.next=n,qu(e)):(n.next=i.next,i.next=n),e.interleaved=n,en(t,s)}function en(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var dn=!1;function Ku(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function im(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Jt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function jn(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,W&2){var i=s.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),s.pending=e,en(t,n)}return i=s.interleaved,i===null?(e.next=e,qu(s)):(e.next=i.next,i.next=e),s.interleaved=e,en(t,n)}function No(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Mu(t,n)}}function Ch(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?i=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?i=r=e:r=r.next=e}else i=r=e;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function sa(t,e,n,s){var i=t.updateQueue;dn=!1;var r=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?r=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(r!==null){var d=i.baseState;o=0,u=c=l=null,a=r;do{var h=a.lane,p=a.eventTime;if((s&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,g=a;switch(h=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=he({},d,h);break e;case 2:dn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else r===null&&(i.shared.lanes=0);us|=o,t.lanes=o,t.memoizedState=d}}function Eh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(P(191,i));i.call(s)}}}var Rr={},It=Dn(Rr),pr=Dn(Rr),gr=Dn(Rr);function ns(t){if(t===Rr)throw Error(P(174));return t}function Yu(t,e){switch(ne(gr,e),ne(pr,t),ne(It,Rr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:cc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=cc(e,t)}oe(It),ne(It,e)}function ei(){oe(It),oe(pr),oe(gr)}function rm(t){ns(gr.current);var e=ns(It.current),n=cc(e,t.type);e!==n&&(ne(pr,t),ne(It,n))}function Gu(t){pr.current===t&&(oe(It),oe(pr))}var ce=Dn(0);function ia(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var El=[];function Xu(){for(var t=0;t<El.length;t++)El[t]._workInProgressVersionPrimary=null;El.length=0}var Oo=sn.ReactCurrentDispatcher,Tl=sn.ReactCurrentBatchConfig,cs=0,de=null,be=null,Ce=null,ra=!1,qi=!1,mr=0,Mx=0;function Me(){throw Error(P(321))}function Ju(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!jt(t[n],e[n]))return!1;return!0}function Qu(t,e,n,s,i,r){if(cs=r,de=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Oo.current=t===null||t.memoizedState===null?Lx:Ix,t=n(s,i),qi){r=0;do{if(qi=!1,mr=0,25<=r)throw Error(P(301));r+=1,Ce=be=null,e.updateQueue=null,Oo.current=$x,t=n(s,i)}while(qi)}if(Oo.current=oa,e=be!==null&&be.next!==null,cs=0,Ce=be=de=null,ra=!1,e)throw Error(P(300));return t}function Zu(){var t=mr!==0;return mr=0,t}function Nt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?de.memoizedState=Ce=t:Ce=Ce.next=t,Ce}function yt(){if(be===null){var t=de.alternate;t=t!==null?t.memoizedState:null}else t=be.next;var e=Ce===null?de.memoizedState:Ce.next;if(e!==null)Ce=e,be=t;else{if(t===null)throw Error(P(310));be=t,t={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Ce===null?de.memoizedState=Ce=t:Ce=Ce.next=t}return Ce}function yr(t,e){return typeof e=="function"?e(t):e}function Pl(t){var e=yt(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var s=be,i=s.baseQueue,r=n.pending;if(r!==null){if(i!==null){var o=i.next;i.next=r.next,r.next=o}s.baseQueue=i=r,n.pending=null}if(i!==null){r=i.next,s=s.baseState;var a=o=null,l=null,c=r;do{var u=c.lane;if((cs&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),s=c.hasEagerState?c.eagerState:t(s,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=s):l=l.next=d,de.lanes|=u,us|=u}c=c.next}while(c!==null&&c!==r);l===null?o=s:l.next=a,jt(s,e.memoizedState)||(Je=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=l,n.lastRenderedState=s}if(t=n.interleaved,t!==null){i=t;do r=i.lane,de.lanes|=r,us|=r,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Nl(t){var e=yt(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var s=n.dispatch,i=n.pending,r=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do r=t(r,o.action),o=o.next;while(o!==i);jt(r,e.memoizedState)||(Je=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,s]}function om(){}function am(t,e){var n=de,s=yt(),i=e(),r=!jt(s.memoizedState,i);if(r&&(s.memoizedState=i,Je=!0),s=s.queue,ed(um.bind(null,n,s,t),[t]),s.getSnapshot!==e||r||Ce!==null&&Ce.memoizedState.tag&1){if(n.flags|=2048,vr(9,cm.bind(null,n,s,i,e),void 0,null),Te===null)throw Error(P(349));cs&30||lm(n,e,i)}return i}function lm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=de.updateQueue,e===null?(e={lastEffect:null,stores:null},de.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function cm(t,e,n,s){e.value=n,e.getSnapshot=s,dm(e)&&hm(t)}function um(t,e,n){return n(function(){dm(e)&&hm(t)})}function dm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jt(t,n)}catch{return!0}}function hm(t){var e=en(t,1);e!==null&&St(e,t,1,-1)}function Th(t){var e=Nt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:t},e.queue=t,t=t.dispatch=Dx.bind(null,de,t),[e.memoizedState,t]}function vr(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=de.updateQueue,e===null?(e={lastEffect:null,stores:null},de.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function fm(){return yt().memoizedState}function Mo(t,e,n,s){var i=Nt();de.flags|=t,i.memoizedState=vr(1|e,n,void 0,s===void 0?null:s)}function Ia(t,e,n,s){var i=yt();s=s===void 0?null:s;var r=void 0;if(be!==null){var o=be.memoizedState;if(r=o.destroy,s!==null&&Ju(s,o.deps)){i.memoizedState=vr(e,n,r,s);return}}de.flags|=t,i.memoizedState=vr(1|e,n,r,s)}function Ph(t,e){return Mo(8390656,8,t,e)}function ed(t,e){return Ia(2048,8,t,e)}function pm(t,e){return Ia(4,2,t,e)}function gm(t,e){return Ia(4,4,t,e)}function mm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ym(t,e,n){return n=n!=null?n.concat([t]):null,Ia(4,4,mm.bind(null,e,t),n)}function td(){}function vm(t,e){var n=yt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Ju(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function xm(t,e){var n=yt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Ju(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function _m(t,e,n){return cs&21?(jt(n,e)||(n=jg(),de.lanes|=n,us|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Je=!0),t.memoizedState=n)}function Ax(t,e){var n=X;X=n!==0&&4>n?n:4,t(!0);var s=Tl.transition;Tl.transition={};try{t(!1),e()}finally{X=n,Tl.transition=s}}function wm(){return yt().memoizedState}function Rx(t,e,n){var s=En(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},bm(t))km(e,n);else if(n=sm(t,e,n,s),n!==null){var i=Ue();St(n,t,s,i),Sm(n,e,s)}}function Dx(t,e,n){var s=En(t),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(bm(t))km(e,i);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,a=r(o,n);if(i.hasEagerState=!0,i.eagerState=a,jt(a,o)){var l=e.interleaved;l===null?(i.next=i,qu(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=sm(t,e,i,s),n!==null&&(i=Ue(),St(n,t,s,i),Sm(n,e,s))}}function bm(t){var e=t.alternate;return t===de||e!==null&&e===de}function km(t,e){qi=ra=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Sm(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Mu(t,n)}}var oa={readContext:mt,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useInsertionEffect:Me,useLayoutEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useMutableSource:Me,useSyncExternalStore:Me,useId:Me,unstable_isNewReconciler:!1},Lx={readContext:mt,useCallback:function(t,e){return Nt().memoizedState=[t,e===void 0?null:e],t},useContext:mt,useEffect:Ph,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Mo(4194308,4,mm.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Mo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Mo(4,2,t,e)},useMemo:function(t,e){var n=Nt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=Nt();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=Rx.bind(null,de,t),[s.memoizedState,t]},useRef:function(t){var e=Nt();return t={current:t},e.memoizedState=t},useState:Th,useDebugValue:td,useDeferredValue:function(t){return Nt().memoizedState=t},useTransition:function(){var t=Th(!1),e=t[0];return t=Ax.bind(null,t[1]),Nt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=de,i=Nt();if(ae){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),Te===null)throw Error(P(349));cs&30||lm(s,e,n)}i.memoizedState=n;var r={value:n,getSnapshot:e};return i.queue=r,Ph(um.bind(null,s,r,t),[t]),s.flags|=2048,vr(9,cm.bind(null,s,r,n,e),void 0,null),n},useId:function(){var t=Nt(),e=Te.identifierPrefix;if(ae){var n=Gt,s=Yt;n=(s&~(1<<32-kt(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=mr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Mx++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ix={readContext:mt,useCallback:vm,useContext:mt,useEffect:ed,useImperativeHandle:ym,useInsertionEffect:pm,useLayoutEffect:gm,useMemo:xm,useReducer:Pl,useRef:fm,useState:function(){return Pl(yr)},useDebugValue:td,useDeferredValue:function(t){var e=yt();return _m(e,be.memoizedState,t)},useTransition:function(){var t=Pl(yr)[0],e=yt().memoizedState;return[t,e]},useMutableSource:om,useSyncExternalStore:am,useId:wm,unstable_isNewReconciler:!1},$x={readContext:mt,useCallback:vm,useContext:mt,useEffect:ed,useImperativeHandle:ym,useInsertionEffect:pm,useLayoutEffect:gm,useMemo:xm,useReducer:Nl,useRef:fm,useState:function(){return Nl(yr)},useDebugValue:td,useDeferredValue:function(t){var e=yt();return be===null?e.memoizedState=t:_m(e,be.memoizedState,t)},useTransition:function(){var t=Nl(yr)[0],e=yt().memoizedState;return[t,e]},useMutableSource:om,useSyncExternalStore:am,useId:wm,unstable_isNewReconciler:!1};function xt(t,e){if(t&&t.defaultProps){e=he({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Nc(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:he({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $a={isMounted:function(t){return(t=t._reactInternals)?gs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Ue(),i=En(t),r=Jt(s,i);r.payload=e,n!=null&&(r.callback=n),e=jn(t,r,i),e!==null&&(St(e,t,i,s),No(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Ue(),i=En(t),r=Jt(s,i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=jn(t,r,i),e!==null&&(St(e,t,i,s),No(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ue(),s=En(t),i=Jt(n,s);i.tag=2,e!=null&&(i.callback=e),e=jn(t,i,s),e!==null&&(St(e,t,s,n),No(e,t,s))}};function Nh(t,e,n,s,i,r,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,r,o):e.prototype&&e.prototype.isPureReactComponent?!ur(n,s)||!ur(i,r):!0}function jm(t,e,n){var s=!1,i=Mn,r=e.contextType;return typeof r=="object"&&r!==null?r=mt(r):(i=Ze(e)?as:Le.current,s=e.contextTypes,r=(s=s!=null)?Js(t,i):Mn),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$a,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=r),e}function Oh(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&$a.enqueueReplaceState(e,e.state,null)}function Oc(t,e,n,s){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ku(t);var r=e.contextType;typeof r=="object"&&r!==null?i.context=mt(r):(r=Ze(e)?as:Le.current,i.context=Js(t,r)),i.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(Nc(t,e,r,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&$a.enqueueReplaceState(i,i.state,null),sa(t,n,i,s),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ti(t,e){try{var n="",s=e;do n+=hv(s),s=s.return;while(s);var i=n}catch(r){i=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:i,digest:null}}function Ol(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Mc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Fx=typeof WeakMap=="function"?WeakMap:Map;function Cm(t,e,n){n=Jt(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){la||(la=!0,Uc=s),Mc(t,e)},n}function Em(t,e,n){n=Jt(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var i=e.value;n.payload=function(){return s(i)},n.callback=function(){Mc(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){Mc(t,e),typeof s!="function"&&(Cn===null?Cn=new Set([this]):Cn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Mh(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new Fx;var i=new Set;s.set(e,i)}else i=s.get(e),i===void 0&&(i=new Set,s.set(e,i));i.has(n)||(i.add(n),t=Zx.bind(null,t,e,n),e.then(t,t))}function Ah(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Rh(t,e,n,s,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Jt(-1,1),e.tag=2,jn(n,e,1))),n.lanes|=1),t)}var zx=sn.ReactCurrentOwner,Je=!1;function ze(t,e,n,s){e.child=t===null?nm(e,null,n,s):Zs(e,t.child,n,s)}function Dh(t,e,n,s,i){n=n.render;var r=e.ref;return Vs(e,i),s=Qu(t,e,n,s,r,i),n=Zu(),t!==null&&!Je?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,tn(t,e,i)):(ae&&n&&zu(e),e.flags|=1,ze(t,e,s,i),e.child)}function Lh(t,e,n,s,i){if(t===null){var r=n.type;return typeof r=="function"&&!cd(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,Tm(t,e,r,s,i)):(t=Lo(n.type,null,s,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&i)){var o=r.memoizedProps;if(n=n.compare,n=n!==null?n:ur,n(o,s)&&t.ref===e.ref)return tn(t,e,i)}return e.flags|=1,t=Tn(r,s),t.ref=e.ref,t.return=e,e.child=t}function Tm(t,e,n,s,i){if(t!==null){var r=t.memoizedProps;if(ur(r,s)&&t.ref===e.ref)if(Je=!1,e.pendingProps=s=r,(t.lanes&i)!==0)t.flags&131072&&(Je=!0);else return e.lanes=t.lanes,tn(t,e,i)}return Ac(t,e,n,s,i)}function Pm(t,e,n){var s=e.pendingProps,i=s.children,r=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ne(Fs,nt),nt|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ne(Fs,nt),nt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=r!==null?r.baseLanes:n,ne(Fs,nt),nt|=s}else r!==null?(s=r.baseLanes|n,e.memoizedState=null):s=n,ne(Fs,nt),nt|=s;return ze(t,e,i,n),e.child}function Nm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ac(t,e,n,s,i){var r=Ze(n)?as:Le.current;return r=Js(e,r),Vs(e,i),n=Qu(t,e,n,s,r,i),s=Zu(),t!==null&&!Je?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,tn(t,e,i)):(ae&&s&&zu(e),e.flags|=1,ze(t,e,n,i),e.child)}function Ih(t,e,n,s,i){if(Ze(n)){var r=!0;Qo(e)}else r=!1;if(Vs(e,i),e.stateNode===null)Ao(t,e),jm(e,n,s),Oc(e,n,s,i),s=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=mt(c):(c=Ze(n)?as:Le.current,c=Js(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||l!==c)&&Oh(e,o,s,c),dn=!1;var h=e.memoizedState;o.state=h,sa(e,s,o,i),l=e.memoizedState,a!==s||h!==l||Qe.current||dn?(typeof u=="function"&&(Nc(e,n,u,s),l=e.memoizedState),(a=dn||Nh(e,n,a,s,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=l),o.props=s,o.state=l,o.context=c,s=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,im(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:xt(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=mt(l):(l=Ze(n)?as:Le.current,l=Js(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Oh(e,o,s,l),dn=!1,h=e.memoizedState,o.state=h,sa(e,s,o,i);var m=e.memoizedState;a!==d||h!==m||Qe.current||dn?(typeof p=="function"&&(Nc(e,n,p,s),m=e.memoizedState),(c=dn||Nh(e,n,c,s,h,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=m),o.props=s,o.state=m,o.context=l,s=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),s=!1)}return Rc(t,e,n,s,r,i)}function Rc(t,e,n,s,i,r){Nm(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return i&&bh(e,n,!1),tn(t,e,r);s=e.stateNode,zx.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=Zs(e,t.child,null,r),e.child=Zs(e,null,a,r)):ze(t,e,a,r),e.memoizedState=s.state,i&&bh(e,n,!0),e.child}function Om(t){var e=t.stateNode;e.pendingContext?wh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&wh(t,e.context,!1),Yu(t,e.containerInfo)}function $h(t,e,n,s,i){return Qs(),Uu(i),e.flags|=256,ze(t,e,n,s),e.child}var Dc={dehydrated:null,treeContext:null,retryLane:0};function Lc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Mm(t,e,n){var s=e.pendingProps,i=ce.current,r=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ne(ce,i&1),t===null)return Tc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,r?(s=e.mode,r=e.child,o={mode:"hidden",children:o},!(s&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=Ba(o,s,0,null),t=rs(t,s,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=Lc(n),e.memoizedState=Dc,t):nd(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Bx(t,e,o,s,a,i,n);if(r){r=s.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:s.children};return!(o&1)&&e.child!==i?(s=e.child,s.childLanes=0,s.pendingProps=l,e.deletions=null):(s=Tn(i,l),s.subtreeFlags=i.subtreeFlags&14680064),a!==null?r=Tn(a,r):(r=rs(r,o,n,null),r.flags|=2),r.return=e,s.return=e,s.sibling=r,e.child=s,s=r,r=e.child,o=t.child.memoizedState,o=o===null?Lc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=t.childLanes&~n,e.memoizedState=Dc,s}return r=t.child,t=r.sibling,s=Tn(r,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function nd(t,e){return e=Ba({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function to(t,e,n,s){return s!==null&&Uu(s),Zs(e,t.child,null,n),t=nd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Bx(t,e,n,s,i,r,o){if(n)return e.flags&256?(e.flags&=-257,s=Ol(Error(P(422))),to(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=s.fallback,i=e.mode,s=Ba({mode:"visible",children:s.children},i,0,null),r=rs(r,i,o,null),r.flags|=2,s.return=e,r.return=e,s.sibling=r,e.child=s,e.mode&1&&Zs(e,t.child,null,o),e.child.memoizedState=Lc(o),e.memoizedState=Dc,r);if(!(e.mode&1))return to(t,e,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var a=s.dgst;return s=a,r=Error(P(419)),s=Ol(r,s,void 0),to(t,e,o,s)}if(a=(o&t.childLanes)!==0,Je||a){if(s=Te,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==r.retryLane&&(r.retryLane=i,en(t,i),St(s,t,i,-1))}return ld(),s=Ol(Error(P(421))),to(t,e,o,s)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=e_.bind(null,t),i._reactRetry=e,null):(t=r.treeContext,st=Sn(i.nextSibling),it=e,ae=!0,bt=null,t!==null&&(ut[dt++]=Yt,ut[dt++]=Gt,ut[dt++]=ls,Yt=t.id,Gt=t.overflow,ls=e),e=nd(e,s.children),e.flags|=4096,e)}function Fh(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),Pc(t.return,e,n)}function Ml(t,e,n,s,i){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=s,r.tail=n,r.tailMode=i)}function Am(t,e,n){var s=e.pendingProps,i=s.revealOrder,r=s.tail;if(ze(t,e,s.children,n),s=ce.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fh(t,n,e);else if(t.tag===19)Fh(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(ne(ce,s),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ia(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ml(e,!1,i,n,r);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ia(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ml(e,!0,n,null,r);break;case"together":Ml(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ao(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function tn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),us|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=Tn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Tn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Ux(t,e,n){switch(e.tag){case 3:Om(e),Qs();break;case 5:rm(e);break;case 1:Ze(e.type)&&Qo(e);break;case 4:Yu(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,i=e.memoizedProps.value;ne(ta,s._currentValue),s._currentValue=i;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(ne(ce,ce.current&1),e.flags|=128,null):n&e.child.childLanes?Mm(t,e,n):(ne(ce,ce.current&1),t=tn(t,e,n),t!==null?t.sibling:null);ne(ce,ce.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return Am(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ne(ce,ce.current),s)break;return null;case 22:case 23:return e.lanes=0,Pm(t,e,n)}return tn(t,e,n)}var Rm,Ic,Dm,Lm;Rm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ic=function(){};Dm=function(t,e,n,s){var i=t.memoizedProps;if(i!==s){t=e.stateNode,ns(It.current);var r=null;switch(n){case"input":i=rc(t,i),s=rc(t,s),r=[];break;case"select":i=he({},i,{value:void 0}),s=he({},s,{value:void 0}),r=[];break;case"textarea":i=lc(t,i),s=lc(t,s),r=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=Xo)}uc(n,s);var o;n=null;for(c in i)if(!s.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(sr.hasOwnProperty(c)?r||(r=[]):(r=r||[]).push(c,null));for(c in s){var l=s[c];if(a=i!=null?i[c]:void 0,s.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(r||(r=[]),r.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(r=r||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(sr.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&re("scroll",t),r||a===l||(r=[])):(r=r||[]).push(c,l))}n&&(r=r||[]).push("style",n);var c=r;(e.updateQueue=c)&&(e.flags|=4)}};Lm=function(t,e,n,s){n!==s&&(e.flags|=4)};function wi(t,e){if(!ae)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Ae(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function Wx(t,e,n){var s=e.pendingProps;switch(Bu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(e),null;case 1:return Ze(e.type)&&Jo(),Ae(e),null;case 3:return s=e.stateNode,ei(),oe(Qe),oe(Le),Xu(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Zr(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bt!==null&&(Vc(bt),bt=null))),Ic(t,e),Ae(e),null;case 5:Gu(e);var i=ns(gr.current);if(n=e.type,t!==null&&e.stateNode!=null)Dm(t,e,n,s,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(P(166));return Ae(e),null}if(t=ns(It.current),Zr(e)){s=e.stateNode,n=e.type;var r=e.memoizedProps;switch(s[At]=e,s[fr]=r,t=(e.mode&1)!==0,n){case"dialog":re("cancel",s),re("close",s);break;case"iframe":case"object":case"embed":re("load",s);break;case"video":case"audio":for(i=0;i<Ai.length;i++)re(Ai[i],s);break;case"source":re("error",s);break;case"img":case"image":case"link":re("error",s),re("load",s);break;case"details":re("toggle",s);break;case"input":Yd(s,r),re("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!r.multiple},re("invalid",s);break;case"textarea":Xd(s,r),re("invalid",s)}uc(n,r),i=null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];o==="children"?typeof a=="string"?s.textContent!==a&&(r.suppressHydrationWarning!==!0&&Qr(s.textContent,a,t),i=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&Qr(s.textContent,a,t),i=["children",""+a]):sr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&re("scroll",s)}switch(n){case"input":Hr(s),Gd(s,r,!0);break;case"textarea":Hr(s),Jd(s);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(s.onclick=Xo)}s=i,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ug(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[At]=e,t[fr]=s,Rm(t,e,!1,!1),e.stateNode=t;e:{switch(o=dc(n,s),n){case"dialog":re("cancel",t),re("close",t),i=s;break;case"iframe":case"object":case"embed":re("load",t),i=s;break;case"video":case"audio":for(i=0;i<Ai.length;i++)re(Ai[i],t);i=s;break;case"source":re("error",t),i=s;break;case"img":case"image":case"link":re("error",t),re("load",t),i=s;break;case"details":re("toggle",t),i=s;break;case"input":Yd(t,s),i=rc(t,s),re("invalid",t);break;case"option":i=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},i=he({},s,{value:void 0}),re("invalid",t);break;case"textarea":Xd(t,s),i=lc(t,s),re("invalid",t);break;default:i=s}uc(n,i),a=i;for(r in a)if(a.hasOwnProperty(r)){var l=a[r];r==="style"?fg(t,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&dg(t,l)):r==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ir(t,l):typeof l=="number"&&ir(t,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(sr.hasOwnProperty(r)?l!=null&&r==="onScroll"&&re("scroll",t):l!=null&&Cu(t,r,l,o))}switch(n){case"input":Hr(t),Gd(t,s,!1);break;case"textarea":Hr(t),Jd(t);break;case"option":s.value!=null&&t.setAttribute("value",""+On(s.value));break;case"select":t.multiple=!!s.multiple,r=s.value,r!=null?Bs(t,!!s.multiple,r,!1):s.defaultValue!=null&&Bs(t,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Xo)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ae(e),null;case 6:if(t&&e.stateNode!=null)Lm(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(P(166));if(n=ns(gr.current),ns(It.current),Zr(e)){if(s=e.stateNode,n=e.memoizedProps,s[At]=e,(r=s.nodeValue!==n)&&(t=it,t!==null))switch(t.tag){case 3:Qr(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qr(s.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[At]=e,e.stateNode=s}return Ae(e),null;case 13:if(oe(ce),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ae&&st!==null&&e.mode&1&&!(e.flags&128))em(),Qs(),e.flags|=98560,r=!1;else if(r=Zr(e),s!==null&&s.dehydrated!==null){if(t===null){if(!r)throw Error(P(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(P(317));r[At]=e}else Qs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ae(e),r=!1}else bt!==null&&(Vc(bt),bt=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||ce.current&1?Se===0&&(Se=3):ld())),e.updateQueue!==null&&(e.flags|=4),Ae(e),null);case 4:return ei(),Ic(t,e),t===null&&dr(e.stateNode.containerInfo),Ae(e),null;case 10:return Vu(e.type._context),Ae(e),null;case 17:return Ze(e.type)&&Jo(),Ae(e),null;case 19:if(oe(ce),r=e.memoizedState,r===null)return Ae(e),null;if(s=(e.flags&128)!==0,o=r.rendering,o===null)if(s)wi(r,!1);else{if(Se!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ia(t),o!==null){for(e.flags|=128,wi(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)r=n,t=s,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,t=o.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ne(ce,ce.current&1|2),e.child}t=t.sibling}r.tail!==null&&ge()>ni&&(e.flags|=128,s=!0,wi(r,!1),e.lanes=4194304)}else{if(!s)if(t=ia(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),wi(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!ae)return Ae(e),null}else 2*ge()-r.renderingStartTime>ni&&n!==1073741824&&(e.flags|=128,s=!0,wi(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=ge(),e.sibling=null,n=ce.current,ne(ce,s?n&1|2:n&1),e):(Ae(e),null);case 22:case 23:return ad(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?nt&1073741824&&(Ae(e),e.subtreeFlags&6&&(e.flags|=8192)):Ae(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function Hx(t,e){switch(Bu(e),e.tag){case 1:return Ze(e.type)&&Jo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ei(),oe(Qe),oe(Le),Xu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gu(e),null;case 13:if(oe(ce),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));Qs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return oe(ce),null;case 4:return ei(),null;case 10:return Vu(e.type._context),null;case 22:case 23:return ad(),null;case 24:return null;default:return null}}var no=!1,De=!1,Vx=typeof WeakSet=="function"?WeakSet:Set,M=null;function $s(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){fe(t,e,s)}else n.current=null}function $c(t,e,n){try{n()}catch(s){fe(t,e,s)}}var zh=!1;function qx(t,e){if(wc=Ko,t=Bg(),Fu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==r||s!==0&&d.nodeType!==3||(l=o+s),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++c===i&&(a=o),h===r&&++u===s&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(bc={focusedElem:t,selectionRange:n},Ko=!1,M=e;M!==null;)if(e=M,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,M=t;else for(;M!==null;){e=M;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,_=m.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:xt(e.type,g),_);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(w){fe(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,M=t;break}M=e.return}return m=zh,zh=!1,m}function Ki(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&t)===t){var r=i.destroy;i.destroy=void 0,r!==void 0&&$c(e,n,r)}i=i.next}while(i!==s)}}function Fa(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function Fc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Im(t){var e=t.alternate;e!==null&&(t.alternate=null,Im(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[At],delete e[fr],delete e[jc],delete e[Tx],delete e[Px])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $m(t){return t.tag===5||t.tag===3||t.tag===4}function Bh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$m(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zc(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Xo));else if(s!==4&&(t=t.child,t!==null))for(zc(t,e,n),t=t.sibling;t!==null;)zc(t,e,n),t=t.sibling}function Bc(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(Bc(t,e,n),t=t.sibling;t!==null;)Bc(t,e,n),t=t.sibling}var Pe=null,_t=!1;function rn(t,e,n){for(n=n.child;n!==null;)Fm(t,e,n),n=n.sibling}function Fm(t,e,n){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(Oa,n)}catch{}switch(n.tag){case 5:De||$s(n,e);case 6:var s=Pe,i=_t;Pe=null,rn(t,e,n),Pe=s,_t=i,Pe!==null&&(_t?(t=Pe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pe.removeChild(n.stateNode));break;case 18:Pe!==null&&(_t?(t=Pe,n=n.stateNode,t.nodeType===8?jl(t.parentNode,n):t.nodeType===1&&jl(t,n),lr(t)):jl(Pe,n.stateNode));break;case 4:s=Pe,i=_t,Pe=n.stateNode.containerInfo,_t=!0,rn(t,e,n),Pe=s,_t=i;break;case 0:case 11:case 14:case 15:if(!De&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var r=i,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&$c(n,e,o),i=i.next}while(i!==s)}rn(t,e,n);break;case 1:if(!De&&($s(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(a){fe(n,e,a)}rn(t,e,n);break;case 21:rn(t,e,n);break;case 22:n.mode&1?(De=(s=De)||n.memoizedState!==null,rn(t,e,n),De=s):rn(t,e,n);break;default:rn(t,e,n)}}function Uh(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Vx),e.forEach(function(s){var i=t_.bind(null,t,s);n.has(s)||(n.add(s),s.then(i,i))})}}function vt(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var r=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pe=a.stateNode,_t=!1;break e;case 3:Pe=a.stateNode.containerInfo,_t=!0;break e;case 4:Pe=a.stateNode.containerInfo,_t=!0;break e}a=a.return}if(Pe===null)throw Error(P(160));Fm(r,o,i),Pe=null,_t=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){fe(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zm(e,t),e=e.sibling}function zm(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vt(e,t),Et(t),s&4){try{Ki(3,t,t.return),Fa(3,t)}catch(g){fe(t,t.return,g)}try{Ki(5,t,t.return)}catch(g){fe(t,t.return,g)}}break;case 1:vt(e,t),Et(t),s&512&&n!==null&&$s(n,n.return);break;case 5:if(vt(e,t),Et(t),s&512&&n!==null&&$s(n,n.return),t.flags&32){var i=t.stateNode;try{ir(i,"")}catch(g){fe(t,t.return,g)}}if(s&4&&(i=t.stateNode,i!=null)){var r=t.memoizedProps,o=n!==null?n.memoizedProps:r,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&lg(i,r),dc(a,o);var c=dc(a,r);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?fg(i,d):u==="dangerouslySetInnerHTML"?dg(i,d):u==="children"?ir(i,d):Cu(i,u,d,c)}switch(a){case"input":oc(i,r);break;case"textarea":cg(i,r);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var p=r.value;p!=null?Bs(i,!!r.multiple,p,!1):h!==!!r.multiple&&(r.defaultValue!=null?Bs(i,!!r.multiple,r.defaultValue,!0):Bs(i,!!r.multiple,r.multiple?[]:"",!1))}i[fr]=r}catch(g){fe(t,t.return,g)}}break;case 6:if(vt(e,t),Et(t),s&4){if(t.stateNode===null)throw Error(P(162));i=t.stateNode,r=t.memoizedProps;try{i.nodeValue=r}catch(g){fe(t,t.return,g)}}break;case 3:if(vt(e,t),Et(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{lr(e.containerInfo)}catch(g){fe(t,t.return,g)}break;case 4:vt(e,t),Et(t);break;case 13:vt(e,t),Et(t),i=t.child,i.flags&8192&&(r=i.memoizedState!==null,i.stateNode.isHidden=r,!r||i.alternate!==null&&i.alternate.memoizedState!==null||(rd=ge())),s&4&&Uh(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(De=(c=De)||u,vt(e,t),De=c):vt(e,t),Et(t),s&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(M=t,u=t.child;u!==null;){for(d=M=u;M!==null;){switch(h=M,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ki(4,h,h.return);break;case 1:$s(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){s=h,n=h.return;try{e=s,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){fe(s,n,g)}}break;case 5:$s(h,h.return);break;case 22:if(h.memoizedState!==null){Hh(d);continue}}p!==null?(p.return=h,M=p):Hh(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=hg("display",o))}catch(g){fe(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){fe(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vt(e,t),Et(t),s&4&&Uh(t);break;case 21:break;default:vt(e,t),Et(t)}}function Et(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if($m(n)){var s=n;break e}n=n.return}throw Error(P(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(ir(i,""),s.flags&=-33);var r=Bh(t);Bc(t,r,i);break;case 3:case 4:var o=s.stateNode.containerInfo,a=Bh(t);zc(t,a,o);break;default:throw Error(P(161))}}catch(l){fe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Kx(t,e,n){M=t,Bm(t)}function Bm(t,e,n){for(var s=(t.mode&1)!==0;M!==null;){var i=M,r=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||no;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||De;a=no;var c=De;if(no=o,(De=l)&&!c)for(M=i;M!==null;)o=M,l=o.child,o.tag===22&&o.memoizedState!==null?Vh(i):l!==null?(l.return=o,M=l):Vh(i);for(;r!==null;)M=r,Bm(r),r=r.sibling;M=i,no=a,De=c}Wh(t)}else i.subtreeFlags&8772&&r!==null?(r.return=i,M=r):Wh(t)}}function Wh(t){for(;M!==null;){var e=M;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:De||Fa(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!De)if(n===null)s.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:xt(e.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&Eh(e,r,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Eh(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&lr(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}De||e.flags&512&&Fc(e)}catch(h){fe(e,e.return,h)}}if(e===t){M=null;break}if(n=e.sibling,n!==null){n.return=e.return,M=n;break}M=e.return}}function Hh(t){for(;M!==null;){var e=M;if(e===t){M=null;break}var n=e.sibling;if(n!==null){n.return=e.return,M=n;break}M=e.return}}function Vh(t){for(;M!==null;){var e=M;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Fa(4,e)}catch(l){fe(e,n,l)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var i=e.return;try{s.componentDidMount()}catch(l){fe(e,i,l)}}var r=e.return;try{Fc(e)}catch(l){fe(e,r,l)}break;case 5:var o=e.return;try{Fc(e)}catch(l){fe(e,o,l)}}}catch(l){fe(e,e.return,l)}if(e===t){M=null;break}var a=e.sibling;if(a!==null){a.return=e.return,M=a;break}M=e.return}}var Yx=Math.ceil,aa=sn.ReactCurrentDispatcher,sd=sn.ReactCurrentOwner,pt=sn.ReactCurrentBatchConfig,W=0,Te=null,xe=null,Ne=0,nt=0,Fs=Dn(0),Se=0,xr=null,us=0,za=0,id=0,Yi=null,Ye=null,rd=0,ni=1/0,Ht=null,la=!1,Uc=null,Cn=null,so=!1,yn=null,ca=0,Gi=0,Wc=null,Ro=-1,Do=0;function Ue(){return W&6?ge():Ro!==-1?Ro:Ro=ge()}function En(t){return t.mode&1?W&2&&Ne!==0?Ne&-Ne:Ox.transition!==null?(Do===0&&(Do=jg()),Do):(t=X,t!==0||(t=window.event,t=t===void 0?16:Mg(t.type)),t):1}function St(t,e,n,s){if(50<Gi)throw Gi=0,Wc=null,Error(P(185));Or(t,n,s),(!(W&2)||t!==Te)&&(t===Te&&(!(W&2)&&(za|=n),Se===4&&fn(t,Ne)),et(t,s),n===1&&W===0&&!(e.mode&1)&&(ni=ge()+500,La&&Ln()))}function et(t,e){var n=t.callbackNode;Ov(t,e);var s=qo(t,t===Te?Ne:0);if(s===0)n!==null&&eh(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&eh(n),e===1)t.tag===0?Nx(qh.bind(null,t)):Jg(qh.bind(null,t)),Cx(function(){!(W&6)&&Ln()}),n=null;else{switch(Cg(s)){case 1:n=Ou;break;case 4:n=kg;break;case 16:n=Vo;break;case 536870912:n=Sg;break;default:n=Vo}n=Gm(n,Um.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Um(t,e){if(Ro=-1,Do=0,W&6)throw Error(P(327));var n=t.callbackNode;if(qs()&&t.callbackNode!==n)return null;var s=qo(t,t===Te?Ne:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=ua(t,s);else{e=s;var i=W;W|=2;var r=Hm();(Te!==t||Ne!==e)&&(Ht=null,ni=ge()+500,is(t,e));do try{Jx();break}catch(a){Wm(t,a)}while(1);Hu(),aa.current=r,W=i,xe!==null?e=0:(Te=null,Ne=0,e=Se)}if(e!==0){if(e===2&&(i=mc(t),i!==0&&(s=i,e=Hc(t,i))),e===1)throw n=xr,is(t,0),fn(t,s),et(t,ge()),n;if(e===6)fn(t,s);else{if(i=t.current.alternate,!(s&30)&&!Gx(i)&&(e=ua(t,s),e===2&&(r=mc(t),r!==0&&(s=r,e=Hc(t,r))),e===1))throw n=xr,is(t,0),fn(t,s),et(t,ge()),n;switch(t.finishedWork=i,t.finishedLanes=s,e){case 0:case 1:throw Error(P(345));case 2:Gn(t,Ye,Ht);break;case 3:if(fn(t,s),(s&130023424)===s&&(e=rd+500-ge(),10<e)){if(qo(t,0)!==0)break;if(i=t.suspendedLanes,(i&s)!==s){Ue(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Sc(Gn.bind(null,t,Ye,Ht),e);break}Gn(t,Ye,Ht);break;case 4:if(fn(t,s),(s&4194240)===s)break;for(e=t.eventTimes,i=-1;0<s;){var o=31-kt(s);r=1<<o,o=e[o],o>i&&(i=o),s&=~r}if(s=i,s=ge()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Yx(s/1960))-s,10<s){t.timeoutHandle=Sc(Gn.bind(null,t,Ye,Ht),s);break}Gn(t,Ye,Ht);break;case 5:Gn(t,Ye,Ht);break;default:throw Error(P(329))}}}return et(t,ge()),t.callbackNode===n?Um.bind(null,t):null}function Hc(t,e){var n=Yi;return t.current.memoizedState.isDehydrated&&(is(t,e).flags|=256),t=ua(t,e),t!==2&&(e=Ye,Ye=n,e!==null&&Vc(e)),t}function Vc(t){Ye===null?Ye=t:Ye.push.apply(Ye,t)}function Gx(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],r=i.getSnapshot;i=i.value;try{if(!jt(r(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fn(t,e){for(e&=~id,e&=~za,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-kt(e),s=1<<n;t[n]=-1,e&=~s}}function qh(t){if(W&6)throw Error(P(327));qs();var e=qo(t,0);if(!(e&1))return et(t,ge()),null;var n=ua(t,e);if(t.tag!==0&&n===2){var s=mc(t);s!==0&&(e=s,n=Hc(t,s))}if(n===1)throw n=xr,is(t,0),fn(t,e),et(t,ge()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gn(t,Ye,Ht),et(t,ge()),null}function od(t,e){var n=W;W|=1;try{return t(e)}finally{W=n,W===0&&(ni=ge()+500,La&&Ln())}}function ds(t){yn!==null&&yn.tag===0&&!(W&6)&&qs();var e=W;W|=1;var n=pt.transition,s=X;try{if(pt.transition=null,X=1,t)return t()}finally{X=s,pt.transition=n,W=e,!(W&6)&&Ln()}}function ad(){nt=Fs.current,oe(Fs)}function is(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,jx(n)),xe!==null)for(n=xe.return;n!==null;){var s=n;switch(Bu(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Jo();break;case 3:ei(),oe(Qe),oe(Le),Xu();break;case 5:Gu(s);break;case 4:ei();break;case 13:oe(ce);break;case 19:oe(ce);break;case 10:Vu(s.type._context);break;case 22:case 23:ad()}n=n.return}if(Te=t,xe=t=Tn(t.current,null),Ne=nt=e,Se=0,xr=null,id=za=us=0,Ye=Yi=null,ts!==null){for(e=0;e<ts.length;e++)if(n=ts[e],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,r=n.pending;if(r!==null){var o=r.next;r.next=i,s.next=o}n.pending=s}ts=null}return t}function Wm(t,e){do{var n=xe;try{if(Hu(),Oo.current=oa,ra){for(var s=de.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}ra=!1}if(cs=0,Ce=be=de=null,qi=!1,mr=0,sd.current=null,n===null||n.return===null){Se=1,xr=e,xe=null;break}e:{var r=t,o=n.return,a=n,l=e;if(e=Ne,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Ah(o);if(p!==null){p.flags&=-257,Rh(p,o,a,r,e),p.mode&1&&Mh(r,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){Mh(r,c,e),ld();break e}l=Error(P(426))}}else if(ae&&a.mode&1){var _=Ah(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Rh(_,o,a,r,e),Uu(ti(l,a));break e}}r=l=ti(l,a),Se!==4&&(Se=2),Yi===null?Yi=[r]:Yi.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var v=Cm(r,l,e);Ch(r,v);break e;case 1:a=l;var y=r.type,x=r.stateNode;if(!(r.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Cn===null||!Cn.has(x)))){r.flags|=65536,e&=-e,r.lanes|=e;var w=Em(r,a,e);Ch(r,w);break e}}r=r.return}while(r!==null)}qm(n)}catch(b){e=b,xe===n&&n!==null&&(xe=n=n.return);continue}break}while(1)}function Hm(){var t=aa.current;return aa.current=oa,t===null?oa:t}function ld(){(Se===0||Se===3||Se===2)&&(Se=4),Te===null||!(us&268435455)&&!(za&268435455)||fn(Te,Ne)}function ua(t,e){var n=W;W|=2;var s=Hm();(Te!==t||Ne!==e)&&(Ht=null,is(t,e));do try{Xx();break}catch(i){Wm(t,i)}while(1);if(Hu(),W=n,aa.current=s,xe!==null)throw Error(P(261));return Te=null,Ne=0,Se}function Xx(){for(;xe!==null;)Vm(xe)}function Jx(){for(;xe!==null&&!bv();)Vm(xe)}function Vm(t){var e=Ym(t.alternate,t,nt);t.memoizedProps=t.pendingProps,e===null?qm(t):xe=e,sd.current=null}function qm(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Hx(n,e),n!==null){n.flags&=32767,xe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Se=6,xe=null;return}}else if(n=Wx(n,e,nt),n!==null){xe=n;return}if(e=e.sibling,e!==null){xe=e;return}xe=e=t}while(e!==null);Se===0&&(Se=5)}function Gn(t,e,n){var s=X,i=pt.transition;try{pt.transition=null,X=1,Qx(t,e,n,s)}finally{pt.transition=i,X=s}return null}function Qx(t,e,n,s){do qs();while(yn!==null);if(W&6)throw Error(P(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(Mv(t,r),t===Te&&(xe=Te=null,Ne=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||so||(so=!0,Gm(Vo,function(){return qs(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=pt.transition,pt.transition=null;var o=X;X=1;var a=W;W|=4,sd.current=null,qx(t,n),zm(n,t),vx(bc),Ko=!!wc,bc=wc=null,t.current=n,Kx(n),kv(),W=a,X=o,pt.transition=r}else t.current=n;if(so&&(so=!1,yn=t,ca=i),r=t.pendingLanes,r===0&&(Cn=null),Cv(n.stateNode),et(t,ge()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(la)throw la=!1,t=Uc,Uc=null,t;return ca&1&&t.tag!==0&&qs(),r=t.pendingLanes,r&1?t===Wc?Gi++:(Gi=0,Wc=t):Gi=0,Ln(),null}function qs(){if(yn!==null){var t=Cg(ca),e=pt.transition,n=X;try{if(pt.transition=null,X=16>t?16:t,yn===null)var s=!1;else{if(t=yn,yn=null,ca=0,W&6)throw Error(P(331));var i=W;for(W|=4,M=t.current;M!==null;){var r=M,o=r.child;if(M.flags&16){var a=r.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(M=c;M!==null;){var u=M;switch(u.tag){case 0:case 11:case 15:Ki(8,u,r)}var d=u.child;if(d!==null)d.return=u,M=d;else for(;M!==null;){u=M;var h=u.sibling,p=u.return;if(Im(u),u===c){M=null;break}if(h!==null){h.return=p,M=h;break}M=p}}}var m=r.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(g!==null)}}M=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,M=o;else e:for(;M!==null;){if(r=M,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Ki(9,r,r.return)}var v=r.sibling;if(v!==null){v.return=r.return,M=v;break e}M=r.return}}var y=t.current;for(M=y;M!==null;){o=M;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,M=x;else e:for(o=y;M!==null;){if(a=M,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Fa(9,a)}}catch(b){fe(a,a.return,b)}if(a===o){M=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,M=w;break e}M=a.return}}if(W=i,Ln(),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(Oa,t)}catch{}s=!0}return s}finally{X=n,pt.transition=e}}return!1}function Kh(t,e,n){e=ti(n,e),e=Cm(t,e,1),t=jn(t,e,1),e=Ue(),t!==null&&(Or(t,1,e),et(t,e))}function fe(t,e,n){if(t.tag===3)Kh(t,t,n);else for(;e!==null;){if(e.tag===3){Kh(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Cn===null||!Cn.has(s))){t=ti(n,t),t=Em(e,t,1),e=jn(e,t,1),t=Ue(),e!==null&&(Or(e,1,t),et(e,t));break}}e=e.return}}function Zx(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=Ue(),t.pingedLanes|=t.suspendedLanes&n,Te===t&&(Ne&n)===n&&(Se===4||Se===3&&(Ne&130023424)===Ne&&500>ge()-rd?is(t,0):id|=n),et(t,e)}function Km(t,e){e===0&&(t.mode&1?(e=Kr,Kr<<=1,!(Kr&130023424)&&(Kr=4194304)):e=1);var n=Ue();t=en(t,e),t!==null&&(Or(t,e,n),et(t,n))}function e_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Km(t,n)}function t_(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(P(314))}s!==null&&s.delete(e),Km(t,n)}var Ym;Ym=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qe.current)Je=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Je=!1,Ux(t,e,n);Je=!!(t.flags&131072)}else Je=!1,ae&&e.flags&1048576&&Qg(e,ea,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Ao(t,e),t=e.pendingProps;var i=Js(e,Le.current);Vs(e,n),i=Qu(null,e,s,t,i,n);var r=Zu();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ze(s)?(r=!0,Qo(e)):r=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ku(e),i.updater=$a,e.stateNode=i,i._reactInternals=e,Oc(e,s,t,n),e=Rc(null,e,s,!0,r,n)):(e.tag=0,ae&&r&&zu(e),ze(null,e,i,n),e=e.child),e;case 16:s=e.elementType;e:{switch(Ao(t,e),t=e.pendingProps,i=s._init,s=i(s._payload),e.type=s,i=e.tag=s_(s),t=xt(s,t),i){case 0:e=Ac(null,e,s,t,n);break e;case 1:e=Ih(null,e,s,t,n);break e;case 11:e=Dh(null,e,s,t,n);break e;case 14:e=Lh(null,e,s,xt(s.type,t),n);break e}throw Error(P(306,s,""))}return e;case 0:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:xt(s,i),Ac(t,e,s,i,n);case 1:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:xt(s,i),Ih(t,e,s,i,n);case 3:e:{if(Om(e),t===null)throw Error(P(387));s=e.pendingProps,r=e.memoizedState,i=r.element,im(t,e),sa(e,s,null,n);var o=e.memoizedState;if(s=o.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){i=ti(Error(P(423)),e),e=$h(t,e,s,n,i);break e}else if(s!==i){i=ti(Error(P(424)),e),e=$h(t,e,s,n,i);break e}else for(st=Sn(e.stateNode.containerInfo.firstChild),it=e,ae=!0,bt=null,n=nm(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qs(),s===i){e=tn(t,e,n);break e}ze(t,e,s,n)}e=e.child}return e;case 5:return rm(e),t===null&&Tc(e),s=e.type,i=e.pendingProps,r=t!==null?t.memoizedProps:null,o=i.children,kc(s,i)?o=null:r!==null&&kc(s,r)&&(e.flags|=32),Nm(t,e),ze(t,e,o,n),e.child;case 6:return t===null&&Tc(e),null;case 13:return Mm(t,e,n);case 4:return Yu(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Zs(e,null,s,n):ze(t,e,s,n),e.child;case 11:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:xt(s,i),Dh(t,e,s,i,n);case 7:return ze(t,e,e.pendingProps,n),e.child;case 8:return ze(t,e,e.pendingProps.children,n),e.child;case 12:return ze(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,i=e.pendingProps,r=e.memoizedProps,o=i.value,ne(ta,s._currentValue),s._currentValue=o,r!==null)if(jt(r.value,o)){if(r.children===i.children&&!Qe.current){e=tn(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){o=r.child;for(var l=a.firstContext;l!==null;){if(l.context===s){if(r.tag===1){l=Jt(-1,n&-n),l.tag=2;var c=r.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),Pc(r.return,n,e),a.lanes|=n;break}l=l.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(P(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Pc(o,n,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}ze(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps.children,Vs(e,n),i=mt(i),s=s(i),e.flags|=1,ze(t,e,s,n),e.child;case 14:return s=e.type,i=xt(s,e.pendingProps),i=xt(s.type,i),Lh(t,e,s,i,n);case 15:return Tm(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:xt(s,i),Ao(t,e),e.tag=1,Ze(s)?(t=!0,Qo(e)):t=!1,Vs(e,n),jm(e,s,i),Oc(e,s,i,n),Rc(null,e,s,!0,t,n);case 19:return Am(t,e,n);case 22:return Pm(t,e,n)}throw Error(P(156,e.tag))};function Gm(t,e){return bg(t,e)}function n_(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ht(t,e,n,s){return new n_(t,e,n,s)}function cd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function s_(t){if(typeof t=="function")return cd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Tu)return 11;if(t===Pu)return 14}return 2}function Tn(t,e){var n=t.alternate;return n===null?(n=ht(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Lo(t,e,n,s,i,r){var o=2;if(s=t,typeof t=="function")cd(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ps:return rs(n.children,i,r,e);case Eu:o=8,i|=8;break;case tc:return t=ht(12,n,e,i|2),t.elementType=tc,t.lanes=r,t;case nc:return t=ht(13,n,e,i),t.elementType=nc,t.lanes=r,t;case sc:return t=ht(19,n,e,i),t.elementType=sc,t.lanes=r,t;case rg:return Ba(n,i,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sg:o=10;break e;case ig:o=9;break e;case Tu:o=11;break e;case Pu:o=14;break e;case un:o=16,s=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=ht(o,n,e,i),e.elementType=t,e.type=s,e.lanes=r,e}function rs(t,e,n,s){return t=ht(7,t,s,e),t.lanes=n,t}function Ba(t,e,n,s){return t=ht(22,t,s,e),t.elementType=rg,t.lanes=n,t.stateNode={isHidden:!1},t}function Al(t,e,n){return t=ht(6,t,null,e),t.lanes=n,t}function Rl(t,e,n){return e=ht(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function i_(t,e,n,s,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pl(0),this.expirationTimes=pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pl(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ud(t,e,n,s,i,r,o,a,l){return t=new i_(t,e,n,a,l),e===1?(e=1,r===!0&&(e|=8)):e=0,r=ht(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ku(r),t}function r_(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ts,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function Xm(t){if(!t)return Mn;t=t._reactInternals;e:{if(gs(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ze(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(Ze(n))return Xg(t,n,e)}return e}function Jm(t,e,n,s,i,r,o,a,l){return t=ud(n,s,!0,t,i,r,o,a,l),t.context=Xm(null),n=t.current,s=Ue(),i=En(n),r=Jt(s,i),r.callback=e??null,jn(n,r,i),t.current.lanes=i,Or(t,i,s),et(t,s),t}function Ua(t,e,n,s){var i=e.current,r=Ue(),o=En(i);return n=Xm(n),e.context===null?e.context=n:e.pendingContext=n,e=Jt(r,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=jn(i,e,o),t!==null&&(St(t,i,o,r),No(t,i,o)),o}function da(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Yh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function dd(t,e){Yh(t,e),(t=t.alternate)&&Yh(t,e)}function o_(){return null}var Qm=typeof reportError=="function"?reportError:function(t){console.error(t)};function hd(t){this._internalRoot=t}Wa.prototype.render=hd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));Ua(t,e,null,null)};Wa.prototype.unmount=hd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ds(function(){Ua(null,t,null,null)}),e[Zt]=null}};function Wa(t){this._internalRoot=t}Wa.prototype.unstable_scheduleHydration=function(t){if(t){var e=Pg();t={blockedOn:null,target:t,priority:e};for(var n=0;n<hn.length&&e!==0&&e<hn[n].priority;n++);hn.splice(n,0,t),n===0&&Og(t)}};function fd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ha(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Gh(){}function a_(t,e,n,s,i){if(i){if(typeof s=="function"){var r=s;s=function(){var c=da(o);r.call(c)}}var o=Jm(e,s,t,0,null,!1,!1,"",Gh);return t._reactRootContainer=o,t[Zt]=o.current,dr(t.nodeType===8?t.parentNode:t),ds(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof s=="function"){var a=s;s=function(){var c=da(l);a.call(c)}}var l=ud(t,0,!1,null,null,!1,!1,"",Gh);return t._reactRootContainer=l,t[Zt]=l.current,dr(t.nodeType===8?t.parentNode:t),ds(function(){Ua(e,l,n,s)}),l}function Va(t,e,n,s,i){var r=n._reactRootContainer;if(r){var o=r;if(typeof i=="function"){var a=i;i=function(){var l=da(o);a.call(l)}}Ua(e,o,t,i)}else o=a_(n,e,t,i,s);return da(o)}Eg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Mi(e.pendingLanes);n!==0&&(Mu(e,n|1),et(e,ge()),!(W&6)&&(ni=ge()+500,Ln()))}break;case 13:ds(function(){var s=en(t,1);if(s!==null){var i=Ue();St(s,t,1,i)}}),dd(t,1)}};Au=function(t){if(t.tag===13){var e=en(t,134217728);if(e!==null){var n=Ue();St(e,t,134217728,n)}dd(t,134217728)}};Tg=function(t){if(t.tag===13){var e=En(t),n=en(t,e);if(n!==null){var s=Ue();St(n,t,e,s)}dd(t,e)}};Pg=function(){return X};Ng=function(t,e){var n=X;try{return X=t,e()}finally{X=n}};fc=function(t,e,n){switch(e){case"input":if(oc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var i=Da(s);if(!i)throw Error(P(90));ag(s),oc(s,i)}}}break;case"textarea":cg(t,n);break;case"select":e=n.value,e!=null&&Bs(t,!!n.multiple,e,!1)}};mg=od;yg=ds;var l_={usingClientEntryPoint:!1,Events:[Ar,As,Da,pg,gg,od]},bi={findFiberByHostInstance:es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},c_={bundleType:bi.bundleType,version:bi.version,rendererPackageName:bi.rendererPackageName,rendererConfig:bi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_g(t),t===null?null:t.stateNode},findFiberByHostInstance:bi.findFiberByHostInstance||o_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!io.isDisabled&&io.supportsFiber)try{Oa=io.inject(c_),Lt=io}catch{}}ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l_;ot.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fd(e))throw Error(P(200));return r_(t,e,null,n)};ot.createRoot=function(t,e){if(!fd(t))throw Error(P(299));var n=!1,s="",i=Qm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ud(t,1,!1,null,null,n,!1,s,i),t[Zt]=e.current,dr(t.nodeType===8?t.parentNode:t),new hd(e)};ot.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=_g(e),t=t===null?null:t.stateNode,t};ot.flushSync=function(t){return ds(t)};ot.hydrate=function(t,e,n){if(!Ha(e))throw Error(P(200));return Va(null,t,e,!0,n)};ot.hydrateRoot=function(t,e,n){if(!fd(t))throw Error(P(405));var s=n!=null&&n.hydratedSources||null,i=!1,r="",o=Qm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Jm(e,null,t,1,n??null,i,!1,r,o),t[Zt]=e.current,dr(t),s)for(t=0;t<s.length;t++)n=s[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Wa(e)};ot.render=function(t,e,n){if(!Ha(e))throw Error(P(200));return Va(null,t,e,!1,n)};ot.unmountComponentAtNode=function(t){if(!Ha(t))throw Error(P(40));return t._reactRootContainer?(ds(function(){Va(null,null,t,!1,function(){t._reactRootContainer=null,t[Zt]=null})}),!0):!1};ot.unstable_batchedUpdates=od;ot.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!Ha(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return Va(t,e,n,!1,s)};ot.version="18.3.1-next-f1338f8080-20240426";function Zm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zm)}catch(t){console.error(t)}}Zm(),Zp.exports=ot;var u_=Zp.exports,Xh=u_;Zl.createRoot=Xh.createRoot,Zl.hydrateRoot=Xh.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _r(){return _r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},_r.apply(this,arguments)}var vn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(vn||(vn={}));const Jh="popstate";function d_(t){t===void 0&&(t={});function e(s,i){let{pathname:r,search:o,hash:a}=s.location;return qc("",{pathname:r,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:ha(i)}return f_(e,n,null,t)}function ye(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function e0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function h_(){return Math.random().toString(36).substr(2,8)}function Qh(t,e){return{usr:t.state,key:t.key,idx:e}}function qc(t,e,n,s){return n===void 0&&(n=null),_r({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ui(e):e,{state:n,key:e&&e.key||s||h_()})}function ha(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function ui(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function f_(t,e,n,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:r=!1}=s,o=i.history,a=vn.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(_r({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=vn.Pop;let _=u(),v=_==null?null:_-c;c=_,l&&l({action:a,location:g.location,delta:v})}function h(_,v){a=vn.Push;let y=qc(g.location,_,v);n&&n(y,_),c=u()+1;let x=Qh(y,c),w=g.createHref(y);try{o.pushState(x,"",w)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;i.location.assign(w)}r&&l&&l({action:a,location:g.location,delta:1})}function p(_,v){a=vn.Replace;let y=qc(g.location,_,v);n&&n(y,_),c=u();let x=Qh(y,c),w=g.createHref(y);o.replaceState(x,"",w),r&&l&&l({action:a,location:g.location,delta:0})}function m(_){let v=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof _=="string"?_:ha(_);return y=y.replace(/ $/,"%20"),ye(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let g={get action(){return a},get location(){return t(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Jh,d),l=_,()=>{i.removeEventListener(Jh,d),l=null}},createHref(_){return e(i,_)},createURL:m,encodeLocation(_){let v=m(_);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(_){return o.go(_)}};return g}var Zh;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Zh||(Zh={}));function p_(t,e,n){return n===void 0&&(n="/"),g_(t,e,n,!1)}function g_(t,e,n,s){let i=typeof e=="string"?ui(e):e,r=pd(i.pathname||"/",n);if(r==null)return null;let o=t0(t);m_(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=E_(r);a=j_(o[l],c,s)}return a}function t0(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let i=(r,o,a)=>{let l={relativePath:a===void 0?r.path||"":a,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};l.relativePath.startsWith("/")&&(ye(l.relativePath.startsWith(s),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(s.length));let c=Pn([s,l.relativePath]),u=n.concat(l);r.children&&r.children.length>0&&(ye(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),t0(r.children,e,u,c)),!(r.path==null&&!r.index)&&e.push({path:c,score:k_(c,r.index),routesMeta:u})};return t.forEach((r,o)=>{var a;if(r.path===""||!((a=r.path)!=null&&a.includes("?")))i(r,o);else for(let l of n0(r.path))i(r,o,l)}),e}function n0(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,i=n.endsWith("?"),r=n.replace(/\?$/,"");if(s.length===0)return i?[r,""]:[r];let o=n0(s.join("/")),a=[];return a.push(...o.map(l=>l===""?r:[r,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function m_(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:S_(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const y_=/^:[\w-]+$/,v_=3,x_=2,__=1,w_=10,b_=-2,ef=t=>t==="*";function k_(t,e){let n=t.split("/"),s=n.length;return n.some(ef)&&(s+=b_),e&&(s+=x_),n.filter(i=>!ef(i)).reduce((i,r)=>i+(y_.test(r)?v_:r===""?__:w_),s)}function S_(t,e){return t.length===e.length&&t.slice(0,-1).every((s,i)=>s===e[i])?t[t.length-1]-e[e.length-1]:0}function j_(t,e,n){n===void 0&&(n=!1);let{routesMeta:s}=t,i={},r="/",o=[];for(let a=0;a<s.length;++a){let l=s[a],c=a===s.length-1,u=r==="/"?e:e.slice(r.length)||"/",d=tf({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&n&&!s[s.length-1].route.index&&(d=tf({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Pn([r,d.pathname]),pathnameBase:O_(Pn([r,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(r=Pn([r,d.pathnameBase]))}return o}function tf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=C_(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let r=i[0],o=r.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:s.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let g=a[d]||"";o=r.slice(0,r.length-g.length).replace(/(.)\/+$/,"$1")}const m=a[d];return p&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:r,pathnameBase:o,pattern:t}}function C_(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),e0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(s.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),s]}function E_(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return e0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function pd(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function T_(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:i=""}=typeof t=="string"?ui(t):t;return{pathname:n?n.startsWith("/")?n:P_(n,e):e,search:M_(s),hash:A_(i)}}function P_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Dl(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function N_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function gd(t,e){let n=N_(t);return e?n.map((s,i)=>i===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function md(t,e,n,s){s===void 0&&(s=!1);let i;typeof t=="string"?i=ui(t):(i=_r({},t),ye(!i.pathname||!i.pathname.includes("?"),Dl("?","pathname","search",i)),ye(!i.pathname||!i.pathname.includes("#"),Dl("#","pathname","hash",i)),ye(!i.search||!i.search.includes("#"),Dl("#","search","hash",i)));let r=t===""||i.pathname==="",o=r?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!s&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=T_(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(r||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Pn=t=>t.join("/").replace(/\/\/+/g,"/"),O_=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),M_=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,A_=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function R_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const s0=["post","put","patch","delete"];new Set(s0);const D_=["get",...s0];new Set(D_);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wr(){return wr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},wr.apply(this,arguments)}const yd=j.createContext(null),L_=j.createContext(null),In=j.createContext(null),qa=j.createContext(null),$n=j.createContext({outlet:null,matches:[],isDataRoute:!1}),i0=j.createContext(null);function I_(t,e){let{relative:n}=e===void 0?{}:e;di()||ye(!1);let{basename:s,navigator:i}=j.useContext(In),{hash:r,pathname:o,search:a}=a0(t,{relative:n}),l=o;return s!=="/"&&(l=o==="/"?s:Pn([s,o])),i.createHref({pathname:l,search:a,hash:r})}function di(){return j.useContext(qa)!=null}function hi(){return di()||ye(!1),j.useContext(qa).location}function r0(t){j.useContext(In).static||j.useLayoutEffect(t)}function o0(){let{isDataRoute:t}=j.useContext($n);return t?X_():$_()}function $_(){di()||ye(!1);let t=j.useContext(yd),{basename:e,future:n,navigator:s}=j.useContext(In),{matches:i}=j.useContext($n),{pathname:r}=hi(),o=JSON.stringify(gd(i,n.v7_relativeSplatPath)),a=j.useRef(!1);return r0(()=>{a.current=!0}),j.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){s.go(c);return}let d=md(c,JSON.parse(o),r,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Pn([e,d.pathname])),(u.replace?s.replace:s.push)(d,u.state,u)},[e,s,o,r,t])}function a0(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=j.useContext(In),{matches:i}=j.useContext($n),{pathname:r}=hi(),o=JSON.stringify(gd(i,s.v7_relativeSplatPath));return j.useMemo(()=>md(t,JSON.parse(o),r,n==="path"),[t,o,r,n])}function F_(t,e){return z_(t,e)}function z_(t,e,n,s){di()||ye(!1);let{navigator:i}=j.useContext(In),{matches:r}=j.useContext($n),o=r[r.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=hi(),u;if(e){var d;let _=typeof e=="string"?ui(e):e;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||ye(!1),u=_}else u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let _=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let m=p_(t,{pathname:p}),g=V_(m&&m.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Pn([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Pn([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),r,n,s);return e&&g?j.createElement(qa.Provider,{value:{location:wr({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:vn.Pop}},g):g}function B_(){let t=G_(),e=R_(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},r=null;return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:i},n):null,r)}const U_=j.createElement(B_,null);class W_ extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement($n.Provider,{value:this.props.routeContext},j.createElement(i0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function H_(t){let{routeContext:e,match:n,children:s}=t,i=j.useContext(yd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement($n.Provider,{value:e},s)}function V_(t,e,n,s){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var r;if(!n)return null;if(n.errors)t=n.matches;else if((r=s)!=null&&r.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||ye(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&s&&s.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=n,m=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let p,m=!1,g=null,_=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||U_,l&&(c<0&&h===0?(J_("route-fallback",!1),m=!0,_=null):c===h&&(m=!0,_=d.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,h+1)),y=()=>{let x;return p?x=g:m?x=_:d.route.Component?x=j.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=u,j.createElement(H_,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:x})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?j.createElement(W_,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var l0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(l0||{}),fa=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(fa||{});function q_(t){let e=j.useContext(yd);return e||ye(!1),e}function K_(t){let e=j.useContext(L_);return e||ye(!1),e}function Y_(t){let e=j.useContext($n);return e||ye(!1),e}function c0(t){let e=Y_(),n=e.matches[e.matches.length-1];return n.route.id||ye(!1),n.route.id}function G_(){var t;let e=j.useContext(i0),n=K_(fa.UseRouteError),s=c0(fa.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function X_(){let{router:t}=q_(l0.UseNavigateStable),e=c0(fa.UseNavigateStable),n=j.useRef(!1);return r0(()=>{n.current=!0}),j.useCallback(function(i,r){r===void 0&&(r={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,wr({fromRouteId:e},r)))},[t,e])}const nf={};function J_(t,e,n){!e&&!nf[t]&&(nf[t]=!0)}function Q_(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Z_(t){let{to:e,replace:n,state:s,relative:i}=t;di()||ye(!1);let{future:r,static:o}=j.useContext(In),{matches:a}=j.useContext($n),{pathname:l}=hi(),c=o0(),u=md(e,gd(a,r.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return j.useEffect(()=>c(JSON.parse(d),{replace:n,state:s,relative:i}),[c,d,i,n,s]),null}function ln(t){ye(!1)}function ew(t){let{basename:e="/",children:n=null,location:s,navigationType:i=vn.Pop,navigator:r,static:o=!1,future:a}=t;di()&&ye(!1);let l=e.replace(/^\/*/,"/"),c=j.useMemo(()=>({basename:l,navigator:r,static:o,future:wr({v7_relativeSplatPath:!1},a)}),[l,a,r,o]);typeof s=="string"&&(s=ui(s));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:m="default"}=s,g=j.useMemo(()=>{let _=pd(u,l);return _==null?null:{location:{pathname:_,search:d,hash:h,state:p,key:m},navigationType:i}},[l,u,d,h,p,m,i]);return g==null?null:j.createElement(In.Provider,{value:c},j.createElement(qa.Provider,{children:n,value:g}))}function tw(t){let{children:e,location:n}=t;return F_(Kc(e),n)}new Promise(()=>{});function Kc(t,e){e===void 0&&(e=[]);let n=[];return j.Children.forEach(t,(s,i)=>{if(!j.isValidElement(s))return;let r=[...e,i];if(s.type===j.Fragment){n.push.apply(n,Kc(s.props.children,r));return}s.type!==ln&&ye(!1),!s.props.index||!s.props.children||ye(!1);let o={id:s.props.id||r.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Kc(s.props.children,r)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yc(){return Yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Yc.apply(this,arguments)}function nw(t,e){if(t==null)return{};var n={},s=Object.keys(t),i,r;for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function sw(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function iw(t,e){return t.button===0&&(!e||e==="_self")&&!sw(t)}const rw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ow="6";try{window.__reactRouterVersion=ow}catch{}const aw="startTransition",sf=Zy[aw];function lw(t){let{basename:e,children:n,future:s,window:i}=t,r=j.useRef();r.current==null&&(r.current=d_({window:i,v5Compat:!0}));let o=r.current,[a,l]=j.useState({action:o.action,location:o.location}),{v7_startTransition:c}=s||{},u=j.useCallback(d=>{c&&sf?sf(()=>l(d)):l(d)},[l,c]);return j.useLayoutEffect(()=>o.listen(u),[o,u]),j.useEffect(()=>Q_(s),[s]),j.createElement(ew,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:s})}const cw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rf=j.forwardRef(function(e,n){let{onClick:s,relative:i,reloadDocument:r,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,h=nw(e,rw),{basename:p}=j.useContext(In),m,g=!1;if(typeof c=="string"&&uw.test(c)&&(m=c,cw))try{let x=new URL(window.location.href),w=c.startsWith("//")?new URL(x.protocol+c):new URL(c),b=pd(w.pathname,p);w.origin===x.origin&&b!=null?c=b+w.search+w.hash:g=!0}catch{}let _=I_(c,{relative:i}),v=dw(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:d});function y(x){s&&s(x),x.defaultPrevented||v(x)}return j.createElement("a",Yc({},h,{href:m||_,onClick:g||r?s:y,ref:n,target:l}))});var of;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(of||(of={}));var af;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(af||(af={}));function dw(t,e){let{target:n,replace:s,state:i,preventScrollReset:r,relative:o,viewTransition:a}=e===void 0?{}:e,l=o0(),c=hi(),u=a0(t,{relative:o});return j.useCallback(d=>{if(iw(d,n)){d.preventDefault();let h=s!==void 0?s:ha(c)===ha(u);l(t,{replace:h,state:i,preventScrollReset:r,relative:o,viewTransition:a})}},[c,l,u,s,i,n,t,r,o,a])}let hw={data:""},fw=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||hw,pw=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,gw=/\/\*[^]*?\*\/|  +/g,lf=/\n+/g,pn=(t,e)=>{let n="",s="",i="";for(let r in t){let o=t[r];r[0]=="@"?r[1]=="i"?n=r+" "+o+";":s+=r[1]=="f"?pn(o,r):r+"{"+pn(o,r[1]=="k"?"":e)+"}":typeof o=="object"?s+=pn(o,e?e.replace(/([^,])+/g,a=>r.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):r):o!=null&&(r=/^--/.test(r)?r:r.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=pn.p?pn.p(r,o):r+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+s},zt={},u0=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+u0(t[n]);return e}return t},mw=(t,e,n,s,i)=>{let r=u0(t),o=zt[r]||(zt[r]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(r));if(!zt[o]){let l=r!==t?t:(c=>{let u,d,h=[{}];for(;u=pw.exec(c.replace(gw,""));)u[4]?h.shift():u[3]?(d=u[3].replace(lf," ").trim(),h.unshift(h[0][d]=h[0][d]||{})):h[0][u[1]]=u[2].replace(lf," ").trim();return h[0]})(t);zt[o]=pn(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&zt.g?zt.g:null;return n&&(zt.g=zt[o]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(zt[o],e,s,a),o},yw=(t,e,n)=>t.reduce((s,i,r)=>{let o=e[r];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":pn(a,""):a===!1?"":a}return s+i+(o??"")},"");function Ka(t){let e=this||{},n=t.call?t(e.p):t;return mw(n.unshift?n.raw?yw(n,[].slice.call(arguments,1),e.p):n.reduce((s,i)=>Object.assign(s,i&&i.call?i(e.p):i),{}):n,fw(e.target),e.g,e.o,e.k)}let d0,Gc,Xc;Ka.bind({g:1});let nn=Ka.bind({k:1});function vw(t,e,n,s){pn.p=e,d0=t,Gc=n,Xc=s}function Fn(t,e){let n=this||{};return function(){let s=arguments;function i(r,o){let a=Object.assign({},r),l=a.className||i.className;n.p=Object.assign({theme:Gc&&Gc()},a),n.o=/ *go\d+/.test(l),a.className=Ka.apply(n,s)+(l?" "+l:""),e&&(a.ref=o);let c=t;return t[0]&&(c=a.as||t,delete a.as),Xc&&c[0]&&Xc(a),d0(c,a)}return e?e(i):i}}var xw=t=>typeof t=="function",pa=(t,e)=>xw(t)?t(e):t,_w=(()=>{let t=0;return()=>(++t).toString()})(),h0=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),ww=20,vd="default",f0=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:s}=e;return f0(t,{type:t.toasts.find(o=>o.id===s.id)?1:0,toast:s});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let r=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+r}))}}},Io=[],p0={toasts:[],pausedAt:void 0,settings:{toastLimit:ww}},Rt={},g0=(t,e=vd)=>{Rt[e]=f0(Rt[e]||p0,t),Io.forEach(([n,s])=>{n===e&&s(Rt[e])})},m0=t=>Object.keys(Rt).forEach(e=>g0(t,e)),bw=t=>Object.keys(Rt).find(e=>Rt[e].toasts.some(n=>n.id===t)),Ya=(t=vd)=>e=>{g0(e,t)},kw={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Sw=(t={},e=vd)=>{let[n,s]=j.useState(Rt[e]||p0),i=j.useRef(Rt[e]);j.useEffect(()=>(i.current!==Rt[e]&&s(Rt[e]),Io.push([e,s]),()=>{let o=Io.findIndex(([a])=>a===e);o>-1&&Io.splice(o,1)}),[e]);let r=n.toasts.map(o=>{var a,l,c;return{...t,...t[o.type],...o,removeDelay:o.removeDelay||((a=t[o.type])==null?void 0:a.removeDelay)||(t==null?void 0:t.removeDelay),duration:o.duration||((l=t[o.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||kw[o.type],style:{...t.style,...(c=t[o.type])==null?void 0:c.style,...o.style}}});return{...n,toasts:r}},jw=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||_w()}),Dr=t=>(e,n)=>{let s=jw(e,t,n);return Ya(s.toasterId||bw(s.id))({type:2,toast:s}),s.id},ke=(t,e)=>Dr("blank")(t,e);ke.error=Dr("error");ke.success=Dr("success");ke.loading=Dr("loading");ke.custom=Dr("custom");ke.dismiss=(t,e)=>{let n={type:3,toastId:t};e?Ya(e)(n):m0(n)};ke.dismissAll=t=>ke.dismiss(void 0,t);ke.remove=(t,e)=>{let n={type:4,toastId:t};e?Ya(e)(n):m0(n)};ke.removeAll=t=>ke.remove(void 0,t);ke.promise=(t,e,n)=>{let s=ke.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let r=e.success?pa(e.success,i):void 0;return r?ke.success(r,{id:s,...n,...n==null?void 0:n.success}):ke.dismiss(s),i}).catch(i=>{let r=e.error?pa(e.error,i):void 0;r?ke.error(r,{id:s,...n,...n==null?void 0:n.error}):ke.dismiss(s)}),t};var Cw=1e3,Ew=(t,e="default")=>{let{toasts:n,pausedAt:s}=Sw(t,e),i=j.useRef(new Map).current,r=j.useCallback((d,h=Cw)=>{if(i.has(d))return;let p=setTimeout(()=>{i.delete(d),o({type:4,toastId:d})},h);i.set(d,p)},[]);j.useEffect(()=>{if(s)return;let d=Date.now(),h=n.map(p=>{if(p.duration===1/0)return;let m=(p.duration||0)+p.pauseDuration-(d-p.createdAt);if(m<0){p.visible&&ke.dismiss(p.id);return}return setTimeout(()=>ke.dismiss(p.id,e),m)});return()=>{h.forEach(p=>p&&clearTimeout(p))}},[n,s,e]);let o=j.useCallback(Ya(e),[e]),a=j.useCallback(()=>{o({type:5,time:Date.now()})},[o]),l=j.useCallback((d,h)=>{o({type:1,toast:{id:d,height:h}})},[o]),c=j.useCallback(()=>{s&&o({type:6,time:Date.now()})},[s,o]),u=j.useCallback((d,h)=>{let{reverseOrder:p=!1,gutter:m=8,defaultPosition:g}=h||{},_=n.filter(x=>(x.position||g)===(d.position||g)&&x.height),v=_.findIndex(x=>x.id===d.id),y=_.filter((x,w)=>w<v&&x.visible).length;return _.filter(x=>x.visible).slice(...p?[y+1]:[0,y]).reduce((x,w)=>x+(w.height||0)+m,0)},[n]);return j.useEffect(()=>{n.forEach(d=>{if(d.dismissed)r(d.id,d.removeDelay);else{let h=i.get(d.id);h&&(clearTimeout(h),i.delete(d.id))}})},[n,r]),{toasts:n,handlers:{updateHeight:l,startPause:a,endPause:c,calculateOffset:u}}},Tw=nn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Pw=nn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Nw=nn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Ow=Fn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Tw} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Pw} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Nw} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Mw=nn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Aw=Fn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Mw} 1s linear infinite;
`,Rw=nn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Dw=nn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Lw=Fn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Rw} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Dw} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Iw=Fn("div")`
  position: absolute;
`,$w=Fn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Fw=nn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,zw=Fn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Fw} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Bw=({toast:t})=>{let{icon:e,type:n,iconTheme:s}=t;return e!==void 0?typeof e=="string"?j.createElement(zw,null,e):e:n==="blank"?null:j.createElement($w,null,j.createElement(Aw,{...s}),n!=="loading"&&j.createElement(Iw,null,n==="error"?j.createElement(Ow,{...s}):j.createElement(Lw,{...s})))},Uw=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Ww=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Hw="0%{opacity:0;} 100%{opacity:1;}",Vw="0%{opacity:1;} 100%{opacity:0;}",qw=Fn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Kw=Fn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Yw=(t,e)=>{let n=t.includes("top")?1:-1,[s,i]=h0()?[Hw,Vw]:[Uw(n),Ww(n)];return{animation:e?`${nn(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${nn(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Gw=j.memo(({toast:t,position:e,style:n,children:s})=>{let i=t.height?Yw(t.position||e||"top-center",t.visible):{opacity:0},r=j.createElement(Bw,{toast:t}),o=j.createElement(Kw,{...t.ariaProps},pa(t.message,t));return j.createElement(qw,{className:t.className,style:{...i,...n,...t.style}},typeof s=="function"?s({icon:r,message:o}):j.createElement(j.Fragment,null,r,o))});vw(j.createElement);var Xw=({id:t,className:e,style:n,onHeightUpdate:s,children:i})=>{let r=j.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;s(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,s]);return j.createElement("div",{ref:r,className:e,style:n},i)},Jw=(t,e)=>{let n=t.includes("top"),s=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:h0()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...s,...i}},Qw=Ka`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ro=16,cf=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:s,children:i,toasterId:r,containerStyle:o,containerClassName:a})=>{let{toasts:l,handlers:c}=Ew(n,r);return j.createElement("div",{"data-rht-toaster":r||"",style:{position:"fixed",zIndex:9999,top:ro,left:ro,right:ro,bottom:ro,pointerEvents:"none",...o},className:a,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||e,h=c.calculateOffset(u,{reverseOrder:t,gutter:s,defaultPosition:e}),p=Jw(d,h);return j.createElement(Xw,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?Qw:"",style:p},u.type==="custom"?pa(u.message,u):i?i(u):j.createElement(Gw,{toast:u,position:d}))}))},F=ke;const Zw="modulepreload",eb=function(t){return"/"+t},uf={},Lr=function(e,n,s){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(r=>{if(r=eb(r),r in uf)return;uf[r]=!0;const o=r.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!s)for(let u=i.length-1;u>=0;u--){const d=i[u];if(d.href===r&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":Zw,o||(c.as="script",c.crossOrigin=""),c.href=r,document.head.appendChild(c),o)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>e()).catch(r=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=r,window.dispatchEvent(o),!o.defaultPrevented)throw r})},tb=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Lr(()=>Promise.resolve().then(()=>fi),void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)};class xd extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class df extends xd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class hf extends xd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ff extends xd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Jc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Jc||(Jc={}));var nb=globalThis&&globalThis.__awaiter||function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};class sb{constructor(e,{headers:n={},customFetch:s,region:i=Jc.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=tb(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var s;return nb(this,void 0,void 0,function*(){try{const{headers:i,method:r,body:o,signal:a}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(u.toString(),{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d,signal:a}).catch(_=>{throw _.name==="AbortError"?_:new df(_)}),p=h.headers.get("x-relay-error");if(p&&p==="true")throw new hf(h);if(!h.ok)throw new ff(h);let m=((s=h.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),g;return m==="application/json"?g=yield h.json():m==="application/octet-stream"?g=yield h.blob():m==="text/event-stream"?g=h:m==="multipart/form-data"?g=yield h.formData():g=yield h.text(),{data:g,error:null,response:h}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new df(i)}:{data:null,error:i,response:i instanceof ff||i instanceof hf?i.context:void 0}}})}}var Ge={},_d={},Ga={},Ir={},Xa={},Ja={},ib=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},si=ib();const rb=si.fetch,y0=si.fetch.bind(si),v0=si.Headers,ob=si.Request,ab=si.Response,fi=Object.freeze(Object.defineProperty({__proto__:null,Headers:v0,Request:ob,Response:ab,default:y0,fetch:rb},Symbol.toStringTag,{value:"Module"})),lb=Iy(fi);var Qa={};Object.defineProperty(Qa,"__esModule",{value:!0});let cb=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Qa.default=cb;var x0=gt&&gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ja,"__esModule",{value:!0});const ub=x0(lb),db=x0(Qa);let hb=class{constructor(e){var n,s;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(s=e.isMaybeSingle)!==null&&s!==void 0?s:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=ub.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let i=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async r=>{var o,a,l,c;let u=null,d=null,h=null,p=r.status,m=r.statusText;if(r.ok){if(this.method!=="HEAD"){const y=await r.text();y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?d=y:d=JSON.parse(y))}const _=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),v=(l=r.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");_&&v&&v.length>1&&(h=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,p=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const _=await r.text();try{u=JSON.parse(_),Array.isArray(u)&&r.status===404&&(d=[],u=null,p=200,m="OK")}catch{r.status===404&&_===""?(p=204,m="No Content"):u={message:_}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,p=200,m="OK"),u&&this.shouldThrowOnError)throw new db.default(u)}return{error:u,data:d,count:h,status:p,statusText:m}});return this.shouldThrowOnError||(i=i.catch(r=>{var o,a,l;return{error:{message:`${(o=r==null?void 0:r.name)!==null&&o!==void 0?o:"FetchError"}: ${r==null?void 0:r.message}`,details:`${(a=r==null?void 0:r.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=r==null?void 0:r.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};Ja.default=hb;var fb=gt&&gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xa,"__esModule",{value:!0});const pb=fb(Ja);let gb=class extends pb.default{select(e){let n=!1;const s=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:s,foreignTable:i,referencedTable:r=i}={}){const o=r?`${r}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:s,referencedTable:i=s}={}){const r=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(r,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:s=!1,buffers:i=!1,wal:r=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,s?"settings":null,i?"buffers":null,r?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Xa.default=gb;var mb=gt&&gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ir,"__esModule",{value:!0});const yb=mb(Xa);let vb=class extends yb.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const s=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:s,type:i}={}){let r="";i==="plain"?r="pl":i==="phrase"?r="ph":i==="websearch"&&(r="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${r}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(e,n,s){return this.url.searchParams.append(e,`not.${n}.${s}`),this}or(e,{foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,s){return this.url.searchParams.append(e,`${n}.${s}`),this}};Ir.default=vb;var xb=gt&&gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ga,"__esModule",{value:!0});const ki=xb(Ir);let _b=class{constructor(e,{headers:n={},schema:s,fetch:i}){this.url=e,this.headers=new Headers(n),this.schema=s,this.fetch=i}select(e,{head:n=!1,count:s}={}){const i=n?"HEAD":"GET";let r=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",o),s&&this.headers.append("Prefer",`count=${s}`),new ki.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:s=!0}={}){var i;const r="POST";if(n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new ki.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:s=!1,count:i,defaultToNull:r=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new ki.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var s;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new ki.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:e}={}){var n;const s="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new ki.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Ga.default=_b;var _0=gt&&gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_d,"__esModule",{value:!0});const wb=_0(Ga),bb=_0(Ir);let kb=class w0{constructor(e,{headers:n={},schema:s,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=s,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new wb.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new w0(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:s=!1,get:i=!1,count:r}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let c;s||i?(a=s?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(a="POST",c=n);const u=new Headers(this.headers);return r&&u.set("Prefer",`count=${r}`),new bb.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};_d.default=kb;var pi=gt&&gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.PostgrestError=Ge.PostgrestBuilder=Ge.PostgrestTransformBuilder=Ge.PostgrestFilterBuilder=Ge.PostgrestQueryBuilder=Ge.PostgrestClient=void 0;const b0=pi(_d);Ge.PostgrestClient=b0.default;const k0=pi(Ga);Ge.PostgrestQueryBuilder=k0.default;const S0=pi(Ir);Ge.PostgrestFilterBuilder=S0.default;const j0=pi(Xa);Ge.PostgrestTransformBuilder=j0.default;const C0=pi(Ja);Ge.PostgrestBuilder=C0.default;const E0=pi(Qa);Ge.PostgrestError=E0.default;var Sb=Ge.default={PostgrestClient:b0.default,PostgrestQueryBuilder:k0.default,PostgrestFilterBuilder:S0.default,PostgrestTransformBuilder:j0.default,PostgrestBuilder:C0.default,PostgrestError:E0.default};const{PostgrestClient:jb,PostgrestQueryBuilder:SE,PostgrestFilterBuilder:jE,PostgrestTransformBuilder:CE,PostgrestBuilder:EE,PostgrestError:TE}=Sb;class Cb{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Eb="2.15.5",Tb=`realtime-js/${Eb}`,Pb="1.0.0",Qc=1e4,Nb=1e3,Ob=100;var Xi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Xi||(Xi={}));var we;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(we||(we={}));var wt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(wt||(wt={}));var Zc;(function(t){t.websocket="websocket"})(Zc||(Zc={}));var Zn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Zn||(Zn={}));class Mb{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,n,s)}_decodeBroadcast(e,n,s){const i=n.getUint8(1),r=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=s.decode(e.slice(o,o+i));o=o+i;const l=s.decode(e.slice(o,o+r));o=o+r;const c=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class T0{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ee;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ee||(ee={}));const pf=(t,e,n={})=>{var s;const i=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((r,o)=>(r[o]=Ab(o,t,e,i),r),{})},Ab=(t,e,n,s)=>{const i=e.find(a=>a.name===t),r=i==null?void 0:i.type,o=n[t];return r&&!s.includes(r)?P0(r,o):eu(o)},P0=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Ib(e,n)}switch(t){case ee.bool:return Rb(e);case ee.float4:case ee.float8:case ee.int2:case ee.int4:case ee.int8:case ee.numeric:case ee.oid:return Db(e);case ee.json:case ee.jsonb:return Lb(e);case ee.timestamp:return $b(e);case ee.abstime:case ee.date:case ee.daterange:case ee.int4range:case ee.int8range:case ee.money:case ee.reltime:case ee.text:case ee.time:case ee.timestamptz:case ee.timetz:case ee.tsrange:case ee.tstzrange:return eu(e);default:return eu(e)}},eu=t=>t,Rb=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Db=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Lb=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Ib=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let r;const o=t.slice(1,n);try{r=JSON.parse("["+o+"]")}catch{r=o?o.split(","):[]}return r.map(a=>P0(e,a))}return t},$b=t=>typeof t=="string"?t.replace(" ","T"):t,N0=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Ll{constructor(e,n,s={},i=Qc){this.channel=e,this.event=n,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var gf;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(gf||(gf={}));class Ji{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ji.syncState(this.state,i,r,o),this.pendingDiffs.forEach(l=>{this.state=Ji.syncDiff(this.state,l,r,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ji.syncDiff(this.state,i,r,o),a())}),this.onJoin((i,r,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:r,newPresences:o})}),this.onLeave((i,r,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:r,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,i){const r=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(r,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=r[c];if(d){const h=u.map(_=>_.presence_ref),p=d.map(_=>_.presence_ref),m=u.filter(_=>p.indexOf(_.presence_ref)<0),g=d.filter(_=>h.indexOf(_.presence_ref)<0);m.length>0&&(a[c]=m),g.length>0&&(l[c]=g)}else a[c]=u}),this.syncDiff(r,{joins:a,leaves:l},s,i)}static syncDiff(e,n,s,i){const{joins:r,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(r,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(p=>p.presence_ref),h=u.filter(p=>d.indexOf(p.presence_ref)<0);e[a].unshift(...h)}s(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const i=e[s];return"metas"in i?n[s]=i.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):n[s]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mf;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(mf||(mf={}));var Qi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Qi||(Qi={}));var Vt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Vt||(Vt={}));class wd{constructor(e,n={config:{}},s){this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=we.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ll(this,wt.join,this.params,this.timeout),this.rejoinTimer=new T0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=we.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=we.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this._on(wt.reply,{},(i,r)=>{this._trigger(this._replyEventName(r),i)}),this.presence=new Ji(this),this.broadcastEndpointURL=N0(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var s,i,r;if(this.socket.isConnected()||this.socket.connect(),this.state==we.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(p=>p.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Qi.PRESENCE]&&this.bindings[Qi.PRESENCE].length>0||((r=this.params.config.presence)===null||r===void 0?void 0:r.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(Vt.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(Vt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var m;if(this.socket.setAuth(),p===void 0){e==null||e(Vt.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,_=(m=g==null?void 0:g.length)!==null&&m!==void 0?m:0,v=[];for(let y=0;y<_;y++){const x=g[y],{filter:{event:w,schema:b,table:k,filter:S}}=x,E=p&&p[y];if(E&&E.event===w&&E.schema===b&&E.table===k&&E.filter===S)v.push(Object.assign(Object.assign({},x),{id:E.id}));else{this.unsubscribe(),this.state=we.errored,e==null||e(Vt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(Vt.SUBSCRIBED);return}}).receive("error",p=>{this.state=we.errored,e==null||e(Vt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Vt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===we.joined&&e===Qi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,s)}async send(e,n={}){var s,i;if(!this._canPush()&&e.type==="broadcast"){const{event:r,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&r("ok"),c.receive("ok",()=>r("ok")),c.receive("error",()=>r("error")),c.receive("timeout",()=>r("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=we.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(wt.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(i=>{s=new Ll(this,wt.leave,{},e),s.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=we.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const i=new AbortController,r=setTimeout(()=>i.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(r),o}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ll(this,e,n,s);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Ob){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var i,r;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=wt;if(s&&[a,l,c,u].indexOf(o)>=0&&s!==this._joinRef())return;let h=this._onMessage(o,n,s);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,g,_;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((_=(g=p.filter)===null||g===void 0?void 0:g.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(p=>p.callback(h,s)):(r=this.bindings[o])===null||r===void 0||r.filter(p=>{var m,g,_,v,y,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const w=p.id,b=(m=p.filter)===null||m===void 0?void 0:m.event;return w&&((g=n.ids)===null||g===void 0?void 0:g.includes(w))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const w=(y=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return w==="*"||w===((x=n==null?void 0:n.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:g,table:_,commit_timestamp:v,type:y,errors:x}=m;h=Object.assign(Object.assign({},{schema:g,table:_,commit_timestamp:v,eventType:y,new:{},old:{},errors:x}),this._getPayloadRecords(m))}p.callback(h,s)})}_isClosed(){return this.state===we.closed}_isJoined(){return this.state===we.joined}_isJoining(){return this.state===we.joining}_isLeaving(){return this.state===we.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const i=e.toLocaleLowerCase(),r={type:i,filter:n,callback:s};return this.bindings[i]?this.bindings[i].push(r):this.bindings[i]=[r],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(i=>{var r;return!(((r=i.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===s&&wd.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(wt.close,{},e)}_onError(e){this._on(wt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=we.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=pf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=pf(e.columns,e.old_record)),n}}const Il=()=>{},oo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Fb=[1e3,2e3,5e3,1e4],zb=1e4,Bb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ub{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Qc,this.transport=null,this.heartbeatIntervalMs=oo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Il,this.ref=0,this.reconnectTimer=null,this.logger=Il,this.conn=null,this.sendBuffer=[],this.serializer=new Mb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let r;return i?r=i:typeof fetch>"u"?r=(...o)=>Lr(()=>Promise.resolve().then(()=>fi),void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):r=fetch,(...o)=>r(...o)},!(!((s=n==null?void 0:n.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Zc.websocket}`,this.httpEndpoint=N0(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Cb.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Pb}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Xi.connecting:return Zn.Connecting;case Xi.open:return Zn.Open;case Xi.closing:return Zn.Closing;default:return Zn.Closed}}isConnected(){return this.connectionState()===Zn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,i=this.getChannels().find(r=>r.topic===s);if(i)return i;{const r=new wd(`realtime:${e}`,n,this);return this.channels.push(r),r}}push(e){const{topic:n,event:s,payload:i,ref:r}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${s} (${r})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Nb,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},oo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:i,payload:r,ref:o}=n,a=o?`(${o})`:"",l=r.status||"";this.log("receive",`${l} ${s} ${i} ${a}`.trim(),r),this.channels.filter(c=>c._isMember(s)).forEach(c=>c._trigger(i,r,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(wt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${s}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([Bb],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:Tb};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(wt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new T0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},oo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,i,r,o,a,l,c,u;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:Qc,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:oo.HEARTBEAT_INTERVAL,this.worker=(r=e==null?void 0:e.worker)!==null&&r!==void 0?r:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Il,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:d=>Fb[d-1]||zb,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(d,h)=>h(JSON.stringify(d)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class bd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ve(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Wb extends bd{constructor(e,n,s){super(e),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class tu extends bd{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Hb=globalThis&&globalThis.__awaiter||function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};const O0=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Lr(()=>Promise.resolve().then(()=>fi),void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},Vb=()=>Hb(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Lr(()=>Promise.resolve().then(()=>fi),void 0)).Response:Response}),nu=t=>{if(Array.isArray(t))return t.map(n=>nu(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const i=n.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));e[i]=nu(s)}),e},qb=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var ms=globalThis&&globalThis.__awaiter||function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};const $l=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Kb=(t,e,n)=>ms(void 0,void 0,void 0,function*(){const s=yield Vb();t instanceof s&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const r=t.status||500,o=(i==null?void 0:i.statusCode)||r+"";e(new Wb($l(i),r,o))}).catch(i=>{e(new tu($l(i),i))}):e(new tu($l(t),t))}),Yb=(t,e,n,s)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!s?i:(qb(s)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(s)):i.body=s,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function $r(t,e,n,s,i,r){return ms(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,Yb(e,s,i,r)).then(l=>{if(!l.ok)throw l;return s!=null&&s.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Kb(l,a,s))})})}function ga(t,e,n,s){return ms(this,void 0,void 0,function*(){return $r(t,"GET",e,n,s)})}function Ot(t,e,n,s,i){return ms(this,void 0,void 0,function*(){return $r(t,"POST",e,s,i,n)})}function su(t,e,n,s,i){return ms(this,void 0,void 0,function*(){return $r(t,"PUT",e,s,i,n)})}function Gb(t,e,n,s){return ms(this,void 0,void 0,function*(){return $r(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function M0(t,e,n,s,i){return ms(this,void 0,void 0,function*(){return $r(t,"DELETE",e,s,i,n)})}var Xb=globalThis&&globalThis.__awaiter||function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};class Jb{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return Xb(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ve(e))return{data:null,error:e};throw e}})}}var Qb=globalThis&&globalThis.__awaiter||function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};class Zb{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new Jb(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return Qb(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ve(e))return{data:null,error:e};throw e}})}}var Ve=globalThis&&globalThis.__awaiter||function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};const e1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class t1{constructor(e,n={},s,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=s,this.fetch=O0(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,s,i){return Ve(this,void 0,void 0,function*(){try{let r;const o=Object.assign(Object.assign({},yf),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(r=new FormData,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l)),r.append("",s)):typeof FormData<"u"&&s instanceof FormData?(r=s,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l))):(r=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield(e=="PUT"?su:Ot)(this.fetch,`${this.url}/object/${u}`,r,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ve(r))return{data:null,error:r};throw r}})}upload(e,n,s){return Ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,s)})}uploadToSignedUrl(e,n,s,i){return Ve(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(e),o=this._getFinalPath(r),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:yf.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl)):(l=s,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield su(this.fetch,a.toString(),l,{headers:u});return{data:{path:r,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ve(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Ve(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const r=yield Ot(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),o=new URL(this.url+r.url),a=o.searchParams.get("token");if(!a)throw new bd("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ve(s))return{data:null,error:s};throw s}})}update(e,n,s){return Ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,s)})}move(e,n,s){return Ve(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ve(i))return{data:null,error:i};throw i}})}copy(e,n,s){return Ve(this,void 0,void 0,function*(){try{return{data:{path:(yield Ot(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ve(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,s){return Ve(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),r=yield Ot(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return r={signedUrl:encodeURI(`${this.url}${r.signedURL}${o}`)},{data:r,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ve(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,s){return Ve(this,void 0,void 0,function*(){try{const i=yield Ot(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),r=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${r}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ve(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=r?`?${r}`:"",a=this._getFinalPath(e),l=()=>ga(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new Zb(l,this.shouldThrowOnError)}info(e){return Ve(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const s=yield ga(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:nu(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ve(s))return{data:null,error:s};throw s}})}exists(e){return Ve(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Gb(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ve(s)&&s instanceof tu){const i=s.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,n){const s=this._getFinalPath(e),i=[],r=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";r!==""&&i.push(r);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${c}`)}}}remove(e){return Ve(this,void 0,void 0,function*(){try{return{data:yield M0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}})}list(e,n,s){return Ve(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},e1),n),{prefix:e||""});return{data:yield Ot(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ve(i))return{data:null,error:i};throw i}})}listV2(e,n){return Ve(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield Ot(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ve(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const n1="2.12.2",s1={"X-Client-Info":`storage-js/${n1}`};var xs=globalThis&&globalThis.__awaiter||function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};class i1{constructor(e,n={},s,i){this.shouldThrowOnError=!1;const r=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(r.hostname)&&!r.hostname.includes("storage.supabase.")&&(r.hostname=r.hostname.replace("supabase.","storage.supabase.")),this.url=r.href,this.headers=Object.assign(Object.assign({},s1),n),this.fetch=O0(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return xs(this,void 0,void 0,function*(){try{return{data:yield ga(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ve(e))return{data:null,error:e};throw e}})}getBucket(e){return xs(this,void 0,void 0,function*(){try{return{data:yield ga(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return xs(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ve(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return xs(this,void 0,void 0,function*(){try{return{data:yield su(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ve(s))return{data:null,error:s};throw s}})}emptyBucket(e){return xs(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}})}deleteBucket(e){return xs(this,void 0,void 0,function*(){try{return{data:yield M0(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}})}}class r1 extends i1{constructor(e,n={},s,i){super(e,n,s,i)}from(e){return new t1(this.url,this.headers,e,this.fetch)}}const o1="2.58.0";let Ri="";typeof Deno<"u"?Ri="deno":typeof document<"u"?Ri="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ri="react-native":Ri="node";const a1={"X-Client-Info":`supabase-js-${Ri}/${o1}`},l1={headers:a1},c1={schema:"public"},u1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},d1={};var h1=globalThis&&globalThis.__awaiter||function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};const f1=t=>{let e;return t?e=t:typeof fetch>"u"?e=y0:e=fetch,(...n)=>e(...n)},p1=()=>typeof Headers>"u"?v0:Headers,g1=(t,e,n)=>{const s=f1(n),i=p1();return(r,o)=>h1(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),s(r,Object.assign(Object.assign({},o),{headers:c}))})};var m1=globalThis&&globalThis.__awaiter||function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};function y1(t){return t.endsWith("/")?t:t+"/"}function v1(t,e){var n,s;const{db:i,auth:r,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:d}=e,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),r),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(s=a==null?void 0:a.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>m1(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function x1(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(y1(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const A0="2.72.0",Cs=30*1e3,iu=3,Fl=iu*Cs,_1="http://localhost:9999",w1="supabase.auth.token",b1={"X-Client-Info":`gotrue-js/${A0}`},ru="X-Supabase-Api-Version",R0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},k1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,S1=10*60*1e3;class kd extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function $(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class j1 extends kd{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function C1(t){return $(t)&&t.name==="AuthApiError"}class D0 extends kd{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class zn extends kd{constructor(e,n,s,i){super(e,s,i),this.name=n,this.status=s}}class cn extends zn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function E1(t){return $(t)&&t.name==="AuthSessionMissingError"}class Si extends zn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ao extends zn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class lo extends zn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function T1(t){return $(t)&&t.name==="AuthImplicitGrantRedirectError"}class vf extends zn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ou extends zn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function zl(t){return $(t)&&t.name==="AuthRetryableFetchError"}class xf extends zn{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class au extends zn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ma="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),_f=` 	
\r=`.split(""),P1=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<_f.length;e+=1)t[_f[e].charCodeAt(0)]=-2;for(let e=0;e<ma.length;e+=1)t[ma[e].charCodeAt(0)]=e;return t})();function wf(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(ma[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(ma[s]),e.queuedBits-=6}}function L0(t,e,n){const s=P1[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function bf(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},r=o=>{M1(o,s,n)};for(let o=0;o<t.length;o+=1)L0(t.charCodeAt(o),i,r);return e.join("")}function N1(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function O1(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}N1(s,e)}}function M1(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if(!(t>>7-s&1)){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function A1(t){const e=[],n={queue:0,queuedBits:0},s=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)L0(t.charCodeAt(i),n,s);return new Uint8Array(e)}function R1(t){const e=[];return O1(t,n=>e.push(n)),new Uint8Array(e)}function D1(t){const e=[],n={queue:0,queuedBits:0},s=i=>{e.push(i)};return t.forEach(i=>wf(i,n,s)),wf(null,n,s),e.join("")}function L1(t){return Math.round(Date.now()/1e3)+t}function I1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ct=()=>typeof window<"u"&&typeof document<"u",Un={tested:!1,writable:!1},I0=()=>{if(!ct())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Un.tested)return Un.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Un.tested=!0,Un.writable=!0}catch{Un.tested=!0,Un.writable=!1}return Un.writable};function $1(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,r)=>{e[r]=i})}catch{}return n.searchParams.forEach((s,i)=>{e[i]=s}),e}const $0=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Lr(()=>Promise.resolve().then(()=>fi),void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},F1=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Es=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Wn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},on=async(t,e)=>{await t.removeItem(e)};class Za{constructor(){this.promise=new Za.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Za.promiseConstructor=Promise;function Bl(t){const e=t.split(".");if(e.length!==3)throw new au("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!k1.test(e[s]))throw new au("JWT not in base64url format");return{header:JSON.parse(bf(e[0])),payload:JSON.parse(bf(e[1])),signature:A1(e[2]),raw:{header:e[0],payload:e[1]}}}async function z1(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function B1(t,e){return new Promise((s,i)=>{(async()=>{for(let r=0;r<1/0;r++)try{const o=await t(r);if(!e(r,null,o)){s(o);return}}catch(o){if(!e(r,o)){i(o);return}}})()})}function U1(t){return("0"+t.toString(16)).substr(-2)}function W1(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let i="";for(let r=0;r<56;r++)i+=n.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(e),Array.from(e,U1).join("")}async function H1(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(s);return Array.from(i).map(r=>String.fromCharCode(r)).join("")}async function V1(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await H1(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _s(t,e,n=!1){const s=W1();let i=s;n&&(i+="/PASSWORD_RECOVERY"),await Es(t,`${e}-code-verifier`,i);const r=await V1(s);return[r,s===r?"plain":"s256"]}const q1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function K1(t){const e=t.headers.get(ru);if(!e||!e.match(q1))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Y1(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function G1(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const X1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ws(t){if(!X1.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ul(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function kf(t){return JSON.parse(JSON.stringify(t))}var J1=globalThis&&globalThis.__rest||function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n};const Xn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Q1=[502,503,504];async function Sf(t){var e;if(!F1(t))throw new ou(Xn(t),0);if(Q1.includes(t.status))throw new ou(Xn(t),t.status);let n;try{n=await t.json()}catch(r){throw new D0(Xn(r),r)}let s;const i=K1(t);if(i&&i.getTime()>=R0["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new xf(Xn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new cn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0))throw new xf(Xn(n),t.status,n.weak_password.reasons);throw new j1(Xn(n),t.status||500,s)}const Z1=(t,e,n,s)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),n))};async function z(t,e,n,s){var i;const r=Object.assign({},s==null?void 0:s.headers);r[ru]||(r[ru]=R0["2024-01-01"].name),s!=null&&s.jwt&&(r.Authorization=`Bearer ${s.jwt}`);const o=(i=s==null?void 0:s.query)!==null&&i!==void 0?i:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await ek(t,e,n+a,{headers:r,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(l):{data:Object.assign({},l),error:null}}async function ek(t,e,n,s,i,r){const o=Z1(e,s,i,r);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new ou(Xn(l),0)}if(a.ok||await Sf(a),s!=null&&s.noResolveJson)return a;try{return await a.json()}catch(l){await Sf(l)}}function Tt(t){var e;let n=null;ik(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=L1(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function jf(t){const e=Tt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function gn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function tk(t){return{data:t,error:null}}function nk(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:i,verification_type:r}=t,o=J1(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:s,redirect_to:i,verification_type:r},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function sk(t){return t}function ik(t){return t.access_token&&t.refresh_token&&t.expires_in}const Wl=["global","local","others"];var rk=globalThis&&globalThis.__rest||function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n};class ok{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=$0(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Wl[0]){if(Wl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Wl.join(", ")}`);try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if($(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:gn})}catch(s){if($(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=rk(e,["options"]),i=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(i.new_email=s==null?void 0:s.newEmail,delete i.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:nk,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if($(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:gn})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,i,r,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(r=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:""},xform:sk});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(m.split(";")[1].split("=")[1]);c[`${_}Page`]=g}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if($(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){ws(e);try{return await z(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:gn})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ws(e);try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:gn})}catch(s){if($(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){ws(e);try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:gn})}catch(s){if($(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){ws(e.userId);try{const{data:n,error:s}=await z(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:s}}catch(n){if($(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ws(e.userId),ws(e.id);try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}}function Cf(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function ak(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const bs={debug:!!(globalThis&&I0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class F0 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class lk extends F0{}async function ck(t,e,n){bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),bs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new lk(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(bs.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function z0(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function uk(t){return parseInt(t,16)}function dk(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function hk(t){var e;const{chainId:n,domain:s,expirationTime:i,issuedAt:r=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:d,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=z0(t.address),m=u?`${u}://${s}`:s,g=t.statement?`${t.statement}
`:"",_=`${m} wants you to sign in with your Ethereum account:
${p}

${g}`;let v=`URI: ${d}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${r.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),a&&(v+=`
Not Before: ${a.toISOString()}`),l&&(v+=`
Request ID: ${l}`),c){let y=`
Resources:`;for(const x of c){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);y+=`
- ${x}`}v+=y}return`${_}
${v}`}ak();const fk={url:_1,storageKey:w1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:b1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ef(t,e,n){return await n()}const ks={};class br{constructor(e){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=br.nextInstanceID,br.nextInstanceID+=1,this.instanceID>0&&ct()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},fk),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new ok({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=$0(i.fetch),this.lock=i.lock||Ef,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ct()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=ck:this.lock=Ef,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:I0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Cf(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Cf(this.memoryStorage)),ct()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=ks[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){ks[this.storageKey]=Object.assign(Object.assign({},ks[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=ks[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ks[this.storageKey]=Object.assign(Object.assign({},ks[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${A0}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=$1(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),ct()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:r}=await this._getSessionFromURL(n,s);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),T1(r)){const l=(e=r.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:r}}return await this._removeSession(),{error:r}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return $(n)?{error:n}:{error:new D0("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,i;try{const r=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Tt}),{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async signUp(e){var n,s,i;try{let r;if("email"in e){const{email:u,password:d,options:h}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await _s(this.storage,this.storageKey)),r=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:Tt})}else if("phone"in e){const{phone:u,password:d,options:h}=e;r=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Tt})}else throw new ao("You must provide either an email or phone number and a password");const{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithPassword(e){try{let n;if("email"in e){const{email:r,password:o,options:a}=e;n=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:jf})}else if("phone"in e){const{phone:r,password:o,options:a}=e;n=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:jf})}else throw new ao("You must provide either an email or phone number and a password");const{data:s,error:i}=n;return i?{data:{user:null,session:null},error:i}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Si}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,s,i,r;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(r=e.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,s,i,r,o,a,l,c,u,d,h;let p,m;if("message"in e)p=e.message,m=e.signature;else{const{chain:g,wallet:_,statement:v,options:y}=e;let x;if(ct())if(typeof _=="object")x=_;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")x=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=_}const w=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href),b=await x.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!b||b.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=z0(b[0]);let S=(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!S){const C=await x.request({method:"eth_chainId"});S=uk(C)}const E={domain:w.host,address:k,statement:v,uri:w.href,version:"1",chainId:S,nonce:(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(r=y==null?void 0:y.signInWithEthereum)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.resources};p=hk(E),m=await x.request({method:"personal_sign",params:[dk(p),k]})}try{const{data:g,error:_}=await z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:m},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Tt});if(_)throw _;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new Si}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:_})}catch(g){if($(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(e){var n,s,i,r,o,a,l,c,u,d,h,p;let m,g;if("message"in e)m=e.message,g=e.signature;else{const{chain:_,wallet:v,statement:y,options:x}=e;let w;if(ct())if(typeof v=="object")w=v;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))w=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const b=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const k=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),y?{statement:y}:null));let S;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")S=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)S=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)m=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),g=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${b.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(i=(s=x==null?void 0:x.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((r=x==null?void 0:x.signInWithSolana)===null||r===void 0)&&r.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((d=(u=x==null?void 0:x.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...x.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const k=await w.signMessage(new TextEncoder().encode(m),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=k}}try{const{data:_,error:v}=await z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:D1(g)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Tt});if(v)throw v;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Si}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:v})}catch(_){if($(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const n=await Wn(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(n??"").split("/");try{const{data:r,error:o}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Tt});if(await on(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!r||!r.session||!r.user?{data:{user:null,session:null,redirectType:null},error:new Si}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign(Object.assign({},r),{redirectType:i??null}),error:o})}catch(r){if($(r))return{data:{user:null,session:null,redirectType:null},error:r};throw r}}async signInWithIdToken(e){try{const{options:n,provider:s,token:i,access_token:r,nonce:o}=e,a=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:r,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Tt}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Si}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,s,i,r,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await _s(this.storage,this.storageKey));const{error:d}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new ao("You must provide either an email or phone number.")}catch(a){if($(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,s;try{let i,r;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,r=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:r}}),redirectTo:i,xform:Tt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,s,i;try{let r=null,o=null;return this.flowType==="pkce"&&([r,o]=await _s(this.storage,this.storageKey)),await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:o}),headers:this.headers,xform:tk})}catch(r){if($(r))return{data:null,error:r};throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new cn;const{error:i}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if($(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:i,options:r}=e,{error:o}=await z(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},redirectTo:r==null?void 0:r.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:s,type:i,options:r}=e,{data:o,error:a}=await z(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ao("You must provide either an email or phone number and a type")}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Wn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Fl:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const o=await Wn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Ul()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:i,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{session:null},error:r}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:gn}):await this._useSession(async n=>{var s,i,r;const{data:o,error:a}=n;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new cn}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0,xform:gn})})}catch(n){if($(n))return E1(n)&&(await this._removeSession(),await on(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:i,error:r}=s;if(r)throw r;if(!i.session)throw new cn;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await _s(this.storage,this.storageKey));const{data:c,error:u}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:gn});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if($(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new cn;const n=Date.now()/1e3;let s=n,i=!0,r=null;const{payload:o}=Bl(e.access_token);if(o.exp&&(s=o.exp,i=s<=n),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};r=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;r={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return{data:{user:r.user,session:r},error:null}}catch(n){if($(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new cn;const{session:i,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{user:null,session:null},error:r}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!ct())throw new lo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new lo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new vf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new lo("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new vf("No code detected.");const{data:y,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:r,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!r||!a||!o||!c)throw new lo("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;l&&(h=parseInt(l));const p=h-u;p*1e3<=Cs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const m=h-d;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,u);const{data:g,error:_}=await this._getUser(r);if(_)throw _;const v={provider_token:s,provider_refresh_token:i,access_token:r,expires_in:d,expires_at:h,refresh_token:o,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(s){if($(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Wn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:i,error:r}=n;if(r)return{error:r};const o=(s=i.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(C1(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await on(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=I1(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,i;try{const{data:{session:r},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(r){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",r),console.error(r)}})}async resetPasswordForEmail(e,n={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await _s(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(r){if($(r))return{data:null,error:r};throw r}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:s,error:i}=await this._useSession(async r=>{var o,a,l,c,u;const{data:d,error:h}=r;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return ct()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if($(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,i;const{data:r,error:o}=n;if(o)throw o;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await B1(async i=>(i>0&&await z1(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Tt})),(i,r)=>{const o=200*Math.pow(2,i);return r&&zl(r)&&Date.now()+o-s<Cs})}catch(s){if(this._debug(n,"error",s),$(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),ct()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await Wn(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Wn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Es(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Ul()}else if(i&&!i.user&&!i.user){const o=await Wn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await on(this.storage,this.storageKey+"-user"),await Es(this.storage,this.storageKey,i)):i.user=Ul()}if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const r=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Fl;if(this._debug(s,`session has${r?"":" not"} expired with margin of ${Fl}s`),r){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),zl(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new cn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Za;const{data:r,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!r.session)throw new cn;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const a={session:r.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(r){if(this._debug(i,"error",r),$(r)){const o={session:null,error:r};return zl(r)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(r),r}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,s=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const r=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){r.push(l)}});if(await Promise.all(o),r.length>0){for(let a=0;a<r.length;a+=1)console.error(r[a]);throw r[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Es(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const r=kf(i);await Es(this.storage,this.storageKey,r)}else{const i=kf(n);await Es(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await on(this.storage,this.storageKey),await on(this.storage,this.storageKey+"-code-verifier"),await on(this.storage,this.storageKey+"-user"),this.userStorage&&await on(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ct()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Cs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-e)/Cs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Cs}ms, refresh threshold is ${iu} ticks`),i<=iu&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof F0)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ct()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const i=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[r,o]=await _s(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(s!=null&&s.queryParams){const r=new URLSearchParams(s.queryParams);i.push(r.toString())}return s!=null&&s.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:i,error:r}=n;return r?{data:null,error:r}:await z(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,i;const{data:r,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await z(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:r}=n;if(r)return{data:null,error:r};const{data:o,error:a}=await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if($(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:r}=n;return r?{data:null,error:r}:await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if($(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(e==null?void 0:e.factors)||[],i=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),r=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:i,phone:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,s;const{data:{session:i},error:r}=e;if(r)return{data:null,error:r};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Bl(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((s=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(a=>a.kid===e);if(s)return s;const i=Date.now();if(s=this.jwks.keys.find(a=>a.kid===e),s&&this.jwks_cached_at+S1>i)return s;const{data:r,error:o}=await z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!r.keys||r.keys.length===0||(this.jwks=r,this.jwks_cached_at=i,s=r.keys.find(a=>a.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};s=p.session.access_token}const{header:i,payload:r,signature:o,raw:{header:a,payload:l}}=Bl(s);n!=null&&n.allowExpired||Y1(r.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:p}=await this.getUser(s);if(p)throw p;return{data:{claims:r,header:i,signature:o},error:null}}const u=G1(i.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,R1(`${a}.${l}`)))throw new au("Invalid JWT signature");return{data:{claims:r,header:i,signature:o},error:null}}catch(s){if($(s))return{data:null,error:s};throw s}}}br.nextInstanceID=0;const pk=br;class gk extends pk{constructor(e){super(e)}}var mk=globalThis&&globalThis.__awaiter||function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};class yk{constructor(e,n,s){var i,r,o;this.supabaseUrl=e,this.supabaseKey=n;const a=x1(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:c1,realtime:d1,auth:Object.assign(Object.assign({},u1),{storageKey:l}),global:l1},u=v1(s??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(r=u.global.headers)!==null&&r!==void 0?r:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=g1(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new jb(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new r1(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new sb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},s={}){return this.rest.rpc(e,n,s)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return mk(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:r,storageKey:o,flowType:a,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gk({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:r,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Ub(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,n,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const vk=(t,e,n)=>new yk(t,e,n);function xk(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}xk()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const _k="https://iglxwbjwvvaosgubkudc.supabase.co",wk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlnbHh3Ymp3dnZhb3NndWJrdWRjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkzMjg2MzYsImV4cCI6MjA3NDkwNDYzNn0.cCO8rgKUxm2vIR_62Q4ewQI5QaRFqw7gBkom4HP3SFI",I=vk(_k,wk);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Q=(t,e)=>{const n=j.forwardRef(({color:s="currentColor",size:i=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:a="",children:l,...c},u)=>j.createElement("svg",{ref:u,...bk,width:i,height:i,stroke:s,strokeWidth:o?Number(r)*24/Number(i):r,className:["lucide",`lucide-${kk(t)}`,a].join(" "),...c},[...e.map(([d,h])=>j.createElement(d,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=Q("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=Q("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=Q("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=Q("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=Q("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=Q("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=Q("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=Q("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=Q("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=Q("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=Q("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=Q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=Q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=Q("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=Q("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=Q("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=Q("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=Q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=Q("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=Q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=Q("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=Q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=Q("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=Q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=Q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=Q("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=Q("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=Q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),zk=({children:t})=>{const[e,n]=j.useState(!1),s=hi(),i=[{name:"Tableau de bord",href:"/dashboard",icon:Nk},{name:"Budget",href:"/budget",icon:V0},{name:"Dépenses",href:"/expenses",icon:Ek},{name:"Objectifs",href:"/goals",icon:Sd},{name:"Alimentation",href:"/nutrition",icon:B0},{name:"Profil",href:"/profile",icon:ya}],r=async()=>{try{await I.auth.signOut(),F.success("Déconnexion réussie")}catch{F.error("Erreur lors de la déconnexion")}};return f.jsxs("div",{className:"flex h-screen bg-gray-50",children:[f.jsxs("div",{className:`fixed inset-0 z-50 lg:hidden ${e?"block":"hidden"}`,children:[f.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>n(!1)}),f.jsxs("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-white shadow-xl",children:[f.jsxs("div",{className:"flex h-16 items-center justify-between px-4 border-b border-gray-200",children:[f.jsx("h1",{className:"text-xl font-bold text-primary-600",children:"BudgetTracker"}),f.jsx("button",{onClick:()=>n(!1),className:"text-gray-400 hover:text-gray-600",children:f.jsx(Fk,{className:"h-6 w-6"})})]}),f.jsx("nav",{className:"flex-1 px-4 py-4 space-y-2",children:i.map(o=>{const a=s.pathname===o.href;return f.jsxs(rf,{to:o.href,className:`sidebar-item ${a?"active":""}`,onClick:()=>n(!1),children:[f.jsx(o.icon,{className:"h-5 w-5 mr-3"}),o.name]},o.name)})}),f.jsx("div",{className:"border-t border-gray-200 p-4",children:f.jsxs("button",{onClick:r,className:"flex w-full items-center px-4 py-2 text-gray-700 hover:bg-red-50 hover:text-red-700 rounded-lg transition-colors duration-200",children:[f.jsx(lu,{className:"h-5 w-5 mr-3"}),"Déconnexion"]})})]})]}),f.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col lg:fixed lg:inset-y-0",children:f.jsxs("div",{className:"flex flex-col flex-grow bg-white border-r border-gray-200 shadow-sm",children:[f.jsx("div",{className:"flex h-16 items-center px-4 border-b border-gray-200",children:f.jsx("h1",{className:"text-xl font-bold text-primary-600",children:"BudgetTracker"})}),f.jsx("nav",{className:"flex-1 px-4 py-4 space-y-2",children:i.map(o=>{const a=s.pathname===o.href;return f.jsxs(rf,{to:o.href,className:`sidebar-item ${a?"active":""}`,children:[f.jsx(o.icon,{className:"h-5 w-5 mr-3"}),o.name]},o.name)})}),f.jsx("div",{className:"border-t border-gray-200 p-4",children:f.jsxs("button",{onClick:r,className:"flex w-full items-center px-4 py-2 text-gray-700 hover:bg-red-50 hover:text-red-700 rounded-lg transition-colors duration-200",children:[f.jsx(lu,{className:"h-5 w-5 mr-3"}),"Déconnexion"]})})]})}),f.jsxs("div",{className:"lg:pl-64 flex flex-col flex-1",children:[f.jsxs("div",{className:"lg:hidden flex h-16 items-center justify-between px-4 bg-white border-b border-gray-200",children:[f.jsx("button",{onClick:()=>n(!0),className:"text-gray-500 hover:text-gray-700",children:f.jsx(Mk,{className:"h-6 w-6"})}),f.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"BudgetTracker"}),f.jsx("div",{className:"w-6"})]}),f.jsx("main",{className:"flex-1 overflow-auto",children:f.jsx("div",{className:"p-6",children:t})})]})]})},Bk=()=>{const[t,e]=j.useState(!0),[n,s]=j.useState(""),[i,r]=j.useState(""),[o,a]=j.useState(""),[l,c]=j.useState(!1),[u,d]=j.useState(!1),h=async p=>{p.preventDefault(),d(!0);try{if(t){const{error:m}=await I.auth.signInWithPassword({email:n,password:i});if(m)throw m;F.success("Connexion réussie !")}else{const{error:m}=await I.auth.signUp({email:n,password:i,options:{data:{full_name:o}}});if(m)throw m;F.success("Compte créé ! Vérifiez votre email pour confirmer votre inscription.")}}catch(m){F.error(m.message)}finally{d(!1)}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"max-w-md w-full space-y-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"mx-auto h-16 w-16 bg-primary-600 rounded-full flex items-center justify-center",children:f.jsx(V0,{className:"h-8 w-8 text-white"})}),f.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:t?"Connexion":"Créer un compte"}),f.jsx("p",{className:"mt-2 text-sm text-gray-600",children:t?"Connectez-vous à votre compte BudgetTracker":"Créez votre compte pour commencer à suivre vos finances"})]}),f.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[f.jsxs("div",{className:"space-y-4",children:[!t&&f.jsxs("div",{children:[f.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom complet"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(ya,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{id:"fullName",name:"fullName",type:"text",required:!t,value:o,onChange:p=>a(p.target.value),className:"input-field pl-10",placeholder:"Votre nom complet"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse email"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(W0,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:p=>s(p.target.value),className:"input-field pl-10",placeholder:"votre@email.com"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mot de passe"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(Ok,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{id:"password",name:"password",type:l?"text":"password",autoComplete:"current-password",required:!0,value:i,onChange:p=>r(p.target.value),className:"input-field pl-10 pr-10",placeholder:"Votre mot de passe"}),f.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>c(!l),children:l?f.jsx(Tk,{className:"h-5 w-5 text-gray-400"}):f.jsx(Pk,{className:"h-5 w-5 text-gray-400"})})]})]})]}),f.jsx("div",{children:f.jsx("button",{type:"submit",disabled:u,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:u?f.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):t?"Se connecter":"Créer le compte"})}),f.jsx("div",{className:"text-center",children:f.jsx("button",{type:"button",onClick:()=>e(!t),className:"text-primary-600 hover:text-primary-500 text-sm font-medium",children:t?"Pas encore de compte ? Créez-en un":"Déjà un compte ? Connectez-vous"})})]})]})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Fr(t){return t+.5|0}const xn=(t,e,n)=>Math.max(Math.min(t,n),e);function Di(t){return xn(Fr(t*2.55),0,255)}function Nn(t){return xn(Fr(t*255),0,255)}function Kt(t){return xn(Fr(t/2.55)/100,0,1)}function Tf(t){return xn(Fr(t*100),0,100)}const lt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},cu=[..."0123456789ABCDEF"],Uk=t=>cu[t&15],Wk=t=>cu[(t&240)>>4]+cu[t&15],co=t=>(t&240)>>4===(t&15),Hk=t=>co(t.r)&&co(t.g)&&co(t.b)&&co(t.a);function Vk(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&lt[t[1]]*17,g:255&lt[t[2]]*17,b:255&lt[t[3]]*17,a:e===5?lt[t[4]]*17:255}:(e===7||e===9)&&(n={r:lt[t[1]]<<4|lt[t[2]],g:lt[t[3]]<<4|lt[t[4]],b:lt[t[5]]<<4|lt[t[6]],a:e===9?lt[t[7]]<<4|lt[t[8]]:255})),n}const qk=(t,e)=>t<255?e(t):"";function Kk(t){var e=Hk(t)?Uk:Wk;return t?"#"+e(t.r)+e(t.g)+e(t.b)+qk(t.a,e):void 0}const Yk=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function q0(t,e,n){const s=e*Math.min(n,1-n),i=(r,o=(r+t/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function Gk(t,e,n){const s=(i,r=(i+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function Xk(t,e,n){const s=q0(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)s[i]*=1-e-n,s[i]+=e;return s}function Jk(t,e,n,s,i){return t===i?(e-n)/s+(e<n?6:0):e===i?(n-t)/s+2:(t-e)/s+4}function jd(t){const n=t.r/255,s=t.g/255,i=t.b/255,r=Math.max(n,s,i),o=Math.min(n,s,i),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=Jk(n,s,i,u,r),l=l*60+.5),[l|0,c||0,a]}function Cd(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(Nn)}function Ed(t,e,n){return Cd(q0,t,e,n)}function Qk(t,e,n){return Cd(Xk,t,e,n)}function Zk(t,e,n){return Cd(Gk,t,e,n)}function K0(t){return(t%360+360)%360}function eS(t){const e=Yk.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?Di(+e[5]):Nn(+e[5]));const i=K0(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=Qk(i,r,o):e[1]==="hsv"?s=Zk(i,r,o):s=Ed(i,r,o),{r:s[0],g:s[1],b:s[2],a:n}}function tS(t,e){var n=jd(t);n[0]=K0(n[0]+e),n=Ed(n),t.r=n[0],t.g=n[1],t.b=n[2]}function nS(t){if(!t)return;const e=jd(t),n=e[0],s=Tf(e[1]),i=Tf(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${i}%, ${Kt(t.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const Pf={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Nf={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function sS(){const t={},e=Object.keys(Nf),n=Object.keys(Pf);let s,i,r,o,a;for(s=0;s<e.length;s++){for(o=a=e[s],i=0;i<n.length;i++)r=n[i],a=a.replace(r,Pf[r]);r=parseInt(Nf[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let uo;function iS(t){uo||(uo=sS(),uo.transparent=[0,0,0,0]);const e=uo[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const rS=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function oS(t){const e=rS.exec(t);let n=255,s,i,r;if(e){if(e[7]!==s){const o=+e[7];n=e[8]?Di(o):xn(o*255,0,255)}return s=+e[1],i=+e[3],r=+e[5],s=255&(e[2]?Di(s):xn(s,0,255)),i=255&(e[4]?Di(i):xn(i,0,255)),r=255&(e[6]?Di(r):xn(r,0,255)),{r:s,g:i,b:r,a:n}}}function aS(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Kt(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Hl=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ss=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function lS(t,e,n){const s=Ss(Kt(t.r)),i=Ss(Kt(t.g)),r=Ss(Kt(t.b));return{r:Nn(Hl(s+n*(Ss(Kt(e.r))-s))),g:Nn(Hl(i+n*(Ss(Kt(e.g))-i))),b:Nn(Hl(r+n*(Ss(Kt(e.b))-r))),a:t.a+n*(e.a-t.a)}}function ho(t,e,n){if(t){let s=jd(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=Ed(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function Y0(t,e){return t&&Object.assign(e||{},t)}function Of(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Nn(t[3]))):(e=Y0(t,{r:0,g:0,b:0,a:1}),e.a=Nn(e.a)),e}function cS(t){return t.charAt(0)==="r"?oS(t):eS(t)}class kr{constructor(e){if(e instanceof kr)return e;const n=typeof e;let s;n==="object"?s=Of(e):n==="string"&&(s=Vk(e)||iS(e)||cS(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=Y0(this._rgb);return e&&(e.a=Kt(e.a)),e}set rgb(e){this._rgb=Of(e)}rgbString(){return this._valid?aS(this._rgb):void 0}hexString(){return this._valid?Kk(this._rgb):void 0}hslString(){return this._valid?nS(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,i=e.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=s.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,s.r=255&c*s.r+r*i.r+.5,s.g=255&c*s.g+r*i.g+.5,s.b=255&c*s.b+r*i.b+.5,s.a=o*s.a+(1-o)*i.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=lS(this._rgb,e._rgb,n)),this}clone(){return new kr(this.rgb)}alpha(e){return this._rgb.a=Nn(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Fr(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ho(this._rgb,2,e),this}darken(e){return ho(this._rgb,2,-e),this}saturate(e){return ho(this._rgb,1,e),this}desaturate(e){return ho(this._rgb,1,-e),this}rotate(e){return tS(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Bt(){}const uS=(()=>{let t=0;return()=>t++})();function G(t){return t==null}function ue(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function H(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ee(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function tt(t,e){return Ee(t)?t:e}function B(t,e){return typeof t>"u"?e:t}const dS=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,G0=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function te(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Y(t,e,n,s){let i,r,o;if(ue(t))if(r=t.length,s)for(i=r-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<r;i++)e.call(n,t[i],i);else if(H(t))for(o=Object.keys(t),r=o.length,i=0;i<r;i++)e.call(n,t[o[i]],o[i])}function va(t,e){let n,s,i,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(i=t[n],r=e[n],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function xa(t){if(ue(t))return t.map(xa);if(H(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let i=0;for(;i<s;++i)e[n[i]]=xa(t[n[i]]);return e}return t}function X0(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function hS(t,e,n,s){if(!X0(t))return;const i=e[t],r=n[t];H(i)&&H(r)?Sr(i,r,s):e[t]=xa(r)}function Sr(t,e,n){const s=ue(e)?e:[e],i=s.length;if(!H(t))return t;n=n||{};const r=n.merger||hS;let o;for(let a=0;a<i;++a){if(o=s[a],!H(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],t,o,n)}return t}function Zi(t,e){return Sr(t,e,{merger:fS})}function fS(t,e,n){if(!X0(t))return;const s=e[t],i=n[t];H(s)&&H(i)?Zi(s,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=xa(i))}const Mf={"":t=>t,x:t=>t.x,y:t=>t.y};function pS(t){const e=t.split("."),n=[];let s="";for(const i of e)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function gS(t){const e=pS(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function jr(t,e){return(Mf[e]||(Mf[e]=gS(e)))(t)}function Td(t){return t.charAt(0).toUpperCase()+t.slice(1)}const _a=t=>typeof t<"u",An=t=>typeof t=="function",Af=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function mS(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const V=Math.PI,le=2*V,yS=le+V,wa=Number.POSITIVE_INFINITY,vS=V/180,me=V/2,Hn=V/4,Rf=V*2/3,_n=Math.log10,ii=Math.sign;function er(t,e,n){return Math.abs(t-e)<n}function Df(t){const e=Math.round(t);t=er(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(_n(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function xS(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((i,r)=>i-r).pop(),e}function _S(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Cr(t){return!_S(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function wS(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function J0(t,e,n){let s,i,r;for(s=0,i=t.length;s<i;s++)r=t[s][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function Dt(t){return t*(V/180)}function Pd(t){return t*(180/V)}function Lf(t){if(!Ee(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Q0(t,e){const n=e.x-t.x,s=e.y-t.y,i=Math.sqrt(n*n+s*s);let r=Math.atan2(s,n);return r<-.5*V&&(r+=le),{angle:r,distance:i}}function uu(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function bS(t,e){return(t-e+yS)%le-V}function Ke(t){return(t%le+le)%le}function Er(t,e,n,s){const i=Ke(t),r=Ke(e),o=Ke(n),a=Ke(r-i),l=Ke(o-i),c=Ke(i-r),u=Ke(i-o);return i===r||i===o||s&&r===o||a>l&&c<u}function Be(t,e,n){return Math.max(e,Math.min(n,t))}function kS(t){return Be(t,-32768,32767)}function zs(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function Nd(t,e,n){n=n||(o=>t[o]<e);let s=t.length-1,i=0,r;for(;s-i>1;)r=i+s>>1,n(r)?i=r:s=r;return{lo:i,hi:s}}const ss=(t,e,n,s)=>Nd(t,n,s?i=>{const r=t[i][e];return r<n||r===n&&t[i+1][e]===n}:i=>t[i][e]<n),SS=(t,e,n)=>Nd(t,n,s=>t[s][e]>=n);function jS(t,e,n){let s=0,i=t.length;for(;s<i&&t[s]<e;)s++;for(;i>s&&t[i-1]>n;)i--;return s>0||i<t.length?t.slice(s,i):t}const Z0=["push","pop","shift","splice","unshift"];function CS(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Z0.forEach(n=>{const s="_onData"+Td(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...r)}),o}})})}function If(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(e);i!==-1&&s.splice(i,1),!(s.length>0)&&(Z0.forEach(r=>{delete t[r]}),delete t._chartjs)}function ES(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const ey=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function ty(t,e){let n=[],s=!1;return function(...i){n=i,s||(s=!0,ey.call(window,()=>{s=!1,t.apply(e,n)}))}}function TS(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const Od=t=>t==="start"?"left":t==="end"?"right":"center",Re=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,PS=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function NS(t,e,n){const s=e.length;let i=0,r=s;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:d,max:h,minDefined:p,maxDefined:m}=o.getUserBounds();if(p){if(i=Math.min(ss(l,u,d).lo,n?s:ss(e,u,o.getPixelForValue(d)).lo),c){const g=l.slice(0,i+1).reverse().findIndex(_=>!G(_[a.axis]));i-=Math.max(0,g)}i=Be(i,0,s-1)}if(m){let g=Math.max(ss(l,o.axis,h,!0).hi+1,n?0:ss(e,u,o.getPixelForValue(h),!0).hi+1);if(c){const _=l.slice(g-1).findIndex(v=>!G(v[a.axis]));g+=Math.max(0,_)}r=Be(g,i,s)-i}else r=s-i}return{start:i,count:r}}function OS(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=i,!0;const r=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,i),r}const fo=t=>t===0||t===1,$f=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*le/n)),Ff=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*le/n)+1,tr={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*me)+1,easeOutSine:t=>Math.sin(t*me),easeInOutSine:t=>-.5*(Math.cos(V*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>fo(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>fo(t)?t:$f(t,.075,.3),easeOutElastic:t=>fo(t)?t:Ff(t,.075,.3),easeInOutElastic(t){return fo(t)?t:t<.5?.5*$f(t*2,.1125,.45):.5+.5*Ff(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-tr.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?tr.easeInBounce(t*2)*.5:tr.easeOutBounce(t*2-1)*.5+.5};function Md(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function zf(t){return Md(t)?t:new kr(t)}function Vl(t){return Md(t)?t:new kr(t).saturate(.5).darken(.1).hexString()}const MS=["x","y","borderWidth","radius","tension"],AS=["color","borderColor","backgroundColor"];function RS(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:AS},numbers:{type:"number",properties:MS}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function DS(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Bf=new Map;function LS(t,e){e=e||{};const n=t+JSON.stringify(e);let s=Bf.get(n);return s||(s=new Intl.NumberFormat(t,e),Bf.set(n,s)),s}function il(t,e,n){return LS(e,n).format(t)}const ny={values(t){return ue(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let i,r=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),r=IS(t,n)}const o=_n(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),il(t,s,l)},logarithmic(t,e,n){if(t===0)return"0";const s=n[e].significand||t/Math.pow(10,Math.floor(_n(t)));return[1,2,3,5,10,15].includes(s)||e>.8*n.length?ny.numeric.call(this,t,e,n):""}};function IS(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var rl={formatters:ny};function $S(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:rl.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const hs=Object.create(null),du=Object.create(null);function nr(t,e){if(!e)return t;const n=e.split(".");for(let s=0,i=n.length;s<i;++s){const r=n[s];t=t[r]||(t[r]=Object.create(null))}return t}function ql(t,e,n){return typeof e=="string"?Sr(nr(t,e),n):Sr(nr(t,""),e)}class FS{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>Vl(i.backgroundColor),this.hoverBorderColor=(s,i)=>Vl(i.borderColor),this.hoverColor=(s,i)=>Vl(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return ql(this,e,n)}get(e){return nr(this,e)}describe(e,n){return ql(du,e,n)}override(e,n){return ql(hs,e,n)}route(e,n,s,i){const r=nr(this,e),o=nr(this,s),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return H(l)?Object.assign({},c,l):B(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var pe=new FS({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[RS,DS,$S]);function zS(t){return!t||G(t.size)||G(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function ba(t,e,n,s,i){let r=e[i];return r||(r=e[i]=t.measureText(i).width,n.push(i)),r>s&&(s=r),s}function BS(t,e,n,s){s=s||{};let i=s.data=s.data||{},r=s.garbageCollect=s.garbageCollect||[];s.font!==e&&(i=s.data={},r=s.garbageCollect=[],s.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,d,h;for(l=0;l<a;l++)if(d=n[l],d!=null&&!ue(d))o=ba(t,i,r,o,d);else if(ue(d))for(c=0,u=d.length;c<u;c++)h=d[c],h!=null&&!ue(h)&&(o=ba(t,i,r,o,h));t.restore();const p=r.length/2;if(p>n.length){for(l=0;l<p;l++)delete i[r[l]];r.splice(0,p)}return o}function Vn(t,e,n){const s=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*s)/s+i}function Uf(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function hu(t,e,n,s){sy(t,e,n,s,null)}function sy(t,e,n,s,i){let r,o,a,l,c,u,d,h;const p=e.pointStyle,m=e.rotation,g=e.radius;let _=(m||0)*vS;if(p&&typeof p=="object"&&(r=p.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(_),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(g)||g<=0)){switch(t.beginPath(),p){default:i?t.ellipse(n,s,i/2,g,0,0,le):t.arc(n,s,g,0,le),t.closePath();break;case"triangle":u=i?i/2:g,t.moveTo(n+Math.sin(_)*u,s-Math.cos(_)*g),_+=Rf,t.lineTo(n+Math.sin(_)*u,s-Math.cos(_)*g),_+=Rf,t.lineTo(n+Math.sin(_)*u,s-Math.cos(_)*g),t.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(_+Hn)*l,d=Math.cos(_+Hn)*(i?i/2-c:l),a=Math.sin(_+Hn)*l,h=Math.sin(_+Hn)*(i?i/2-c:l),t.arc(n-d,s-a,c,_-V,_-me),t.arc(n+h,s-o,c,_-me,_),t.arc(n+d,s+a,c,_,_+me),t.arc(n-h,s+o,c,_+me,_+V),t.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*g,u=i?i/2:l,t.rect(n-u,s-l,2*u,2*l);break}_+=Hn;case"rectRot":d=Math.cos(_)*(i?i/2:g),o=Math.cos(_)*g,a=Math.sin(_)*g,h=Math.sin(_)*(i?i/2:g),t.moveTo(n-d,s-a),t.lineTo(n+h,s-o),t.lineTo(n+d,s+a),t.lineTo(n-h,s+o),t.closePath();break;case"crossRot":_+=Hn;case"cross":d=Math.cos(_)*(i?i/2:g),o=Math.cos(_)*g,a=Math.sin(_)*g,h=Math.sin(_)*(i?i/2:g),t.moveTo(n-d,s-a),t.lineTo(n+d,s+a),t.moveTo(n+h,s-o),t.lineTo(n-h,s+o);break;case"star":d=Math.cos(_)*(i?i/2:g),o=Math.cos(_)*g,a=Math.sin(_)*g,h=Math.sin(_)*(i?i/2:g),t.moveTo(n-d,s-a),t.lineTo(n+d,s+a),t.moveTo(n+h,s-o),t.lineTo(n-h,s+o),_+=Hn,d=Math.cos(_)*(i?i/2:g),o=Math.cos(_)*g,a=Math.sin(_)*g,h=Math.sin(_)*(i?i/2:g),t.moveTo(n-d,s-a),t.lineTo(n+d,s+a),t.moveTo(n+h,s-o),t.lineTo(n-h,s+o);break;case"line":o=i?i/2:Math.cos(_)*g,a=Math.sin(_)*g,t.moveTo(n-o,s-a),t.lineTo(n+o,s+a);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(_)*(i?i/2:g),s+Math.sin(_)*g);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Xt(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Ad(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Rd(t){t.restore()}function US(t,e,n,s,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else i==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function WS(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function HS(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),G(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function VS(t,e,n,s,i){if(i.strikethrough||i.underline){const r=t.measureText(s),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function qS(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function fs(t,e,n,s,i,r={}){const o=ue(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,HS(t,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&qS(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),G(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(c,n,s,r.maxWidth)),t.fillText(c,n,s,r.maxWidth),VS(t,n,s,c,r),s+=Number(i.lineHeight);t.restore()}function ka(t,e){const{x:n,y:s,w:i,h:r,radius:o}=e;t.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*V,V,!0),t.lineTo(n,s+r-o.bottomLeft),t.arc(n+o.bottomLeft,s+r-o.bottomLeft,o.bottomLeft,V,me,!0),t.lineTo(n+i-o.bottomRight,s+r),t.arc(n+i-o.bottomRight,s+r-o.bottomRight,o.bottomRight,me,0,!0),t.lineTo(n+i,s+o.topRight),t.arc(n+i-o.topRight,s+o.topRight,o.topRight,0,-me,!0),t.lineTo(n+o.topLeft,s)}const KS=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,YS=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function GS(t,e){const n=(""+t).match(KS);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const XS=t=>+t||0;function Dd(t,e){const n={},s=H(e),i=s?Object.keys(e):e,r=H(t)?s?o=>B(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=XS(r(o));return n}function JS(t){return Dd(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ks(t){return Dd(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ie(t){const e=JS(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function je(t,e){t=t||{},e=e||pe.font;let n=B(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=B(t.style,e.style);s&&!(""+s).match(YS)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:B(t.family,e.family),lineHeight:GS(B(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:B(t.weight,e.weight),string:""};return i.string=zS(i),i}function po(t,e,n,s){let i=!0,r,o,a;for(r=0,o=t.length;r<o;++r)if(a=t[r],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),i=!1),n!==void 0&&ue(a)&&(a=a[n%a.length],i=!1),a!==void 0))return s&&!i&&(s.cacheable=!1),a}function QS(t,e,n){const{min:s,max:i}=t,r=G0(e,(i-s)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(s,-Math.abs(r)),max:o(i,r)}}function Bn(t,e){return Object.assign(Object.create(t),e)}function Ld(t,e=[""],n,s,i=()=>t[0]){const r=n||t;typeof s>"u"&&(s=ay("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:s,_getTarget:i,override:a=>Ld([a,...t],e,r,s)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return ry(a,l,()=>oj(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return Hf(a).includes(l)},ownKeys(a){return Hf(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function ri(t,e,n,s){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:iy(t,s),setContext:r=>ri(t,r,n,s),override:r=>ri(t.override(r),e,n,s)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return ry(r,o,()=>ej(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function iy(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:s,isScriptable:An(n)?n:()=>n,isIndexable:An(s)?s:()=>s}}const ZS=(t,e)=>t?t+Td(e):e,Id=(t,e)=>H(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function ry(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function ej(t,e,n){const{_proxy:s,_context:i,_subProxy:r,_descriptors:o}=t;let a=s[e];return An(a)&&o.isScriptable(e)&&(a=tj(e,a,t,n)),ue(a)&&a.length&&(a=nj(e,a,t,o.isIndexable)),Id(e,a)&&(a=ri(a,i,r&&r[e],o)),a}function tj(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(r,o||s);return a.delete(t),Id(t,l)&&(l=$d(i._scopes,i,t,l)),l}function nj(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&s(t))return e[r.index%e.length];if(H(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=$d(c,i,t,u);e.push(ri(d,r,o&&o[t],a))}}return e}function oy(t,e,n){return An(t)?t(e,n):t}const sj=(t,e)=>t===!0?e:typeof t=="string"?jr(e,t):void 0;function ij(t,e,n,s,i){for(const r of e){const o=sj(n,r);if(o){t.add(o);const a=oy(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function $d(t,e,n,s){const i=e._rootScopes,r=oy(e._fallback,n,s),o=[...t,...i],a=new Set;a.add(s);let l=Wf(a,o,n,r||n,s);return l===null||typeof r<"u"&&r!==n&&(l=Wf(a,o,r,l,s),l===null)?!1:Ld(Array.from(a),[""],i,r,()=>rj(e,n,s))}function Wf(t,e,n,s,i){for(;n;)n=ij(t,e,n,s,i);return n}function rj(t,e,n){const s=t._getTarget();e in s||(s[e]={});const i=s[e];return ue(i)&&H(n)?n:i||{}}function oj(t,e,n,s){let i;for(const r of e)if(i=ay(ZS(r,t),n),typeof i<"u")return Id(t,i)?$d(n,s,t,i):i}function ay(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function Hf(t){let e=t._keys;return e||(e=t._keys=aj(t._scopes)),e}function aj(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(s);return Array.from(e)}const lj=Number.EPSILON||1e-14,oi=(t,e)=>e<t.length&&!t[e].skip&&t[e],ly=t=>t==="x"?"y":"x";function cj(t,e,n,s){const i=t.skip?e:t,r=e,o=n.skip?e:n,a=uu(r,i),l=uu(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=s*c,h=s*u;return{previous:{x:r.x-d*(o.x-i.x),y:r.y-d*(o.y-i.y)},next:{x:r.x+h*(o.x-i.x),y:r.y+h*(o.y-i.y)}}}function uj(t,e,n){const s=t.length;let i,r,o,a,l,c=oi(t,0);for(let u=0;u<s-1;++u)if(l=c,c=oi(t,u+1),!(!l||!c)){if(er(e[u],0,lj)){n[u]=n[u+1]=0;continue}i=n[u]/e[u],r=n[u+1]/e[u],a=Math.pow(i,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=i*o*e[u],n[u+1]=r*o*e[u])}}function dj(t,e,n="x"){const s=ly(n),i=t.length;let r,o,a,l=oi(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=oi(t,c+1),!a)continue;const u=a[n],d=a[s];o&&(r=(u-o[n])/3,a[`cp1${n}`]=u-r,a[`cp1${s}`]=d-r*e[c]),l&&(r=(l[n]-u)/3,a[`cp2${n}`]=u+r,a[`cp2${s}`]=d+r*e[c])}}function hj(t,e="x"){const n=ly(e),s=t.length,i=Array(s).fill(0),r=Array(s);let o,a,l,c=oi(t,0);for(o=0;o<s;++o)if(a=l,l=c,c=oi(t,o+1),!!l){if(c){const u=c[e]-l[e];i[o]=u!==0?(c[n]-l[n])/u:0}r[o]=a?c?ii(i[o-1])!==ii(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}uj(t,i,r),dj(t,r,e)}function go(t,e,n){return Math.max(Math.min(t,n),e)}function fj(t,e){let n,s,i,r,o,a=Xt(t[0],e);for(n=0,s=t.length;n<s;++n)o=r,r=a,a=n<s-1&&Xt(t[n+1],e),r&&(i=t[n],o&&(i.cp1x=go(i.cp1x,e.left,e.right),i.cp1y=go(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=go(i.cp2x,e.left,e.right),i.cp2y=go(i.cp2y,e.top,e.bottom)))}function pj(t,e,n,s,i){let r,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")hj(t,i);else{let c=s?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)a=t[r],l=cj(c,a,t[Math.min(r+1,o-(s?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&fj(t,n)}function Fd(){return typeof window<"u"&&typeof document<"u"}function zd(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Sa(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const ol=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function gj(t,e){return ol(t).getPropertyValue(e)}const mj=["top","right","bottom","left"];function os(t,e,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const r=mj[i];s[r]=parseFloat(t[e+"-"+r+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const yj=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function vj(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:i,offsetY:r}=s;let o=!1,a,l;if(yj(i,r,t.target))a=i,l=r;else{const c=e.getBoundingClientRect();a=s.clientX-c.left,l=s.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Jn(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,i=ol(n),r=i.boxSizing==="border-box",o=os(i,"padding"),a=os(i,"border","width"),{x:l,y:c,box:u}=vj(t,n),d=o.left+(u&&a.left),h=o.top+(u&&a.top);let{width:p,height:m}=e;return r&&(p-=o.width+a.width,m-=o.height+a.height),{x:Math.round((l-d)/p*n.width/s),y:Math.round((c-h)/m*n.height/s)}}function xj(t,e,n){let s,i;if(e===void 0||n===void 0){const r=t&&zd(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const o=r.getBoundingClientRect(),a=ol(r),l=os(a,"border","width"),c=os(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,s=Sa(a.maxWidth,r,"clientWidth"),i=Sa(a.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:s||wa,maxHeight:i||wa}}const mo=t=>Math.round(t*10)/10;function _j(t,e,n,s){const i=ol(t),r=os(i,"margin"),o=Sa(i.maxWidth,t,"clientWidth")||wa,a=Sa(i.maxHeight,t,"clientHeight")||wa,l=xj(t,e,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const h=os(i,"border","width"),p=os(i,"padding");c-=p.width+h.width,u-=p.height+h.height}return c=Math.max(0,c-r.width),u=Math.max(0,s?c/s:u-r.height),c=mo(Math.min(c,o,l.maxWidth)),u=mo(Math.min(u,a,l.maxHeight)),c&&!u&&(u=mo(c/2)),(e!==void 0||n!==void 0)&&s&&l.height&&u>l.height&&(u=l.height,c=mo(Math.floor(u*s))),{width:c,height:u}}function Vf(t,e,n){const s=e||1,i=Math.floor(t.height*s),r=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||o.height!==i||o.width!==r?(t.currentDevicePixelRatio=s,o.height=i,o.width=r,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const wj=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Fd()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function qf(t,e){const n=gj(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Qn(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function bj(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function kj(t,e,n,s){const i={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=Qn(t,i,n),a=Qn(i,r,n),l=Qn(r,e,n),c=Qn(o,a,n),u=Qn(a,l,n);return Qn(c,u,n)}const Sj=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},jj=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Ys(t,e,n){return t?Sj(e,n):jj()}function cy(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function uy(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function dy(t){return t==="angle"?{between:Er,compare:bS,normalize:Ke}:{between:zs,compare:(e,n)=>e-n,normalize:e=>e}}function Kf({start:t,end:e,count:n,loop:s,style:i}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:i}}function Cj(t,e,n){const{property:s,start:i,end:r}=n,{between:o,normalize:a}=dy(s),l=e.length;let{start:c,end:u,loop:d}=t,h,p;if(d){for(c+=l,u+=l,h=0,p=l;h<p&&o(a(e[c%l][s]),i,r);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function Ej(t,e,n){if(!n)return[t];const{property:s,start:i,end:r}=n,o=e.length,{compare:a,between:l,normalize:c}=dy(s),{start:u,end:d,loop:h,style:p}=Cj(t,e,n),m=[];let g=!1,_=null,v,y,x;const w=()=>l(i,x,v)&&a(i,x)!==0,b=()=>a(r,v)===0||l(r,x,v),k=()=>g||w(),S=()=>!g||b();for(let E=u,C=u;E<=d;++E)y=e[E%o],!y.skip&&(v=c(y[s]),v!==x&&(g=l(v,i,r),_===null&&k()&&(_=a(v,i)===0?E:C),_!==null&&S()&&(m.push(Kf({start:_,end:E,loop:h,count:o,style:p})),_=null),C=E,x=v));return _!==null&&m.push(Kf({start:_,end:d,loop:h,count:o,style:p})),m}function Tj(t,e){const n=[],s=t.segments;for(let i=0;i<s.length;i++){const r=Ej(s[i],t.points,e);r.length&&n.push(...r)}return n}function Pj(t,e,n,s){let i=0,r=e-1;if(n&&!s)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(r+=i);r>i&&t[r%e].skip;)r--;return r%=e,{start:i,end:r}}function Nj(t,e,n,s){const i=t.length,r=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?a.skip||(s=!1,r.push({start:e%i,end:(l-1)%i,loop:s}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&r.push({start:e%i,end:o%i,loop:s}),r}function Oj(t,e){const n=t.points,s=t.options.spanGaps,i=n.length;if(!i)return[];const r=!!t._loop,{start:o,end:a}=Pj(n,i,r,s);if(s===!0)return Yf(t,[{start:o,end:a,loop:r}],n,e);const l=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return Yf(t,Nj(n,o,l,c),n,e)}function Yf(t,e,n,s){return!s||!s.setContext||!n?e:Mj(t,e,n,s)}function Mj(t,e,n,s){const i=t._chart.getContext(),r=Gf(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=r,d=e[0].start,h=d;function p(m,g,_,v){const y=a?-1:1;if(m!==g){for(m+=l;n[m%l].skip;)m-=y;for(;n[g%l].skip;)g+=y;m%l!==g%l&&(c.push({start:m%l,end:g%l,loop:_,style:v}),u=v,d=g%l)}}for(const m of e){d=a?d:m.start;let g=n[d%l],_;for(h=d+1;h<=m.end;h++){const v=n[h%l];_=Gf(s.setContext(Bn(i,{type:"segment",p0:g,p1:v,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),Aj(_,u)&&p(d,h-1,m.loop,u),g=v,u=_}d<h-1&&p(d,h-1,m.loop,u)}return c}function Gf(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Aj(t,e){if(!e)return!1;const n=[],s=function(i,r){return Md(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(t,s)!==JSON.stringify(e,s)}function yo(t,e,n){return t.options.clip?t[n]:e[n]}function Rj(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:yo(n,e,"left"),right:yo(n,e,"right"),top:yo(s,e,"top"),bottom:yo(s,e,"bottom")}:e}function Dj(t,e){const n=e._clip;if(n.disabled)return!1;const s=Rj(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Lj{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,i){const r=n.listeners[i],o=n.duration;r.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=ey.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const r=s.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,s,e,"progress")),r.length||(s.running=!1,this._notify(i,s,e,"complete"),s.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ut=new Lj;const Xf="transparent",Ij={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=zf(t||Xf),i=s.valid&&zf(e||Xf);return i&&i.valid?i.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class $j{constructor(e,n,s,i){const r=n[s];i=po([e.to,i,r,e.from]);const o=po([e.from,r,i]);this._active=!0,this._fn=e.fn||Ij[e.type||typeof o],this._easing=tr[e.easing]||tr.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],r=s-this._start,o=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=po([e.to,n,i,e.from]),this._from=po([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<s),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=r;return}l=n/s%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}}class hy{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!H(e))return;const n=Object.keys(pe.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!H(r))return;const o={};for(const a of n)o[a]=r[a];(ue(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!s.has(a))&&s.set(a,o)})})}_animateOptions(e,n){const s=n.options,i=zj(e,s);if(!i)return[];const r=this._createAnimations(i,s);return s.$shared&&Fj(e.options.$animations,s).then(()=>{e.options=s},()=>{}),r}_createAnimations(e,n){const s=this._properties,i=[],r=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[c];let d=r[c];const h=s.get(c);if(d)if(h&&d.active()){d.update(h,u,a);continue}else d.cancel();if(!h||!h.duration){e[c]=u;continue}r[c]=d=new $j(h,e,c,u),i.push(d)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return Ut.add(this._chart,s),!0}}function Fj(t,e){const n=[],s=Object.keys(e);for(let i=0;i<s.length;i++){const r=t[s[i]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function zj(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Jf(t,e){const n=t&&t.options||{},s=n.reverse,i=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:s?r:i,end:s?i:r}}function Bj(t,e,n){if(n===!1)return!1;const s=Jf(t,n),i=Jf(e,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function Uj(t){let e,n,s,i;return H(t)?(e=t.top,n=t.right,s=t.bottom,i=t.left):e=n=s=i=t,{top:e,right:n,bottom:s,left:i,disabled:t===!1}}function fy(t,e){const n=[],s=t._getSortedDatasetMetas(e);let i,r;for(i=0,r=s.length;i<r;++i)n.push(s[i].index);return n}function Qf(t,e,n,s={}){const i=t.keys,r=s.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(u=!0,s.all)continue;break}c=t.values[l],Ee(c)&&(r||e===0||ii(e)===ii(c))&&(e+=c)}return!u&&!s.all?0:e}function Wj(t,e){const{iScale:n,vScale:s}=e,i=n.axis==="x"?"x":"y",r=s.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[r]:t[u]};return a}function Kl(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function Hj(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function Vj(t){const{min:e,max:n,minDefined:s,maxDefined:i}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function qj(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function Zf(t,e,n,s){for(const i of e.getMatchingVisibleMetas(s).reverse()){const r=t[i.index];if(n&&r>0||!n&&r<0)return i.index}return null}function ep(t,e){const{chart:n,_cachedMeta:s}=t,i=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=s,l=r.axis,c=o.axis,u=Hj(r,o,s),d=e.length;let h;for(let p=0;p<d;++p){const m=e[p],{[l]:g,[c]:_}=m,v=m._stacks||(m._stacks={});h=v[c]=qj(i,u,g),h[a]=_,h._top=Zf(h,o,!0,s.type),h._bottom=Zf(h,o,!1,s.type);const y=h._visualValues||(h._visualValues={});y[a]=_}}function Yl(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function Kj(t,e){return Bn(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Yj(t,e,n){return Bn(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function ji(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const i of e){const r=i._stacks;if(!r||r[s]===void 0||r[s][n]===void 0)return;delete r[s][n],r[s]._visualValues!==void 0&&r[s]._visualValues[n]!==void 0&&delete r[s]._visualValues[n]}}}const Gl=t=>t==="reset"||t==="none",tp=(t,e)=>e?t:Object.assign({},t),Gj=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:fy(n,!0),values:null};class Gs{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Kl(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ji(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(d,h,p,m)=>d==="x"?h:d==="r"?m:p,r=n.xAxisID=B(s.xAxisID,Yl(e,"x")),o=n.yAxisID=B(s.yAxisID,Yl(e,"y")),a=n.rAxisID=B(s.rAxisID,Yl(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,r,o,a),u=n.vAxisID=i(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&If(this._data,this),e._stacked&&ji(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(H(n)){const i=this._cachedMeta;this._data=Wj(n,i)}else if(s!==n){if(s){If(s,this);const i=this._cachedMeta;ji(i),i._parsed=[]}n&&Object.isExtensible(n)&&CS(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const r=n._stacked;n._stacked=Kl(n.vScale,n),n.stack!==s.stack&&(i=!0,ji(n),n.stack=s.stack),this._resyncElements(e),(i||r!==n._stacked)&&(ep(this,n._parsed),n._stacked=Kl(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:i}=this,{iScale:r,_stacked:o}=s,a=r.axis;let l=e===0&&n===i.length?!0:s._sorted,c=e>0&&s._parsed[e-1],u,d,h;if(this._parsing===!1)s._parsed=i,s._sorted=!0,h=i;else{ue(i[e])?h=this.parseArrayData(s,i,e,n):H(i[e])?h=this.parseObjectData(s,i,e,n):h=this.parsePrimitiveData(s,i,e,n);const p=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<n;++u)s._parsed[u+e]=d=h[u],l&&(p()&&(l=!1),c=d);s._sorted=l}o&&ep(this,h)}parsePrimitiveData(e,n,s,i){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,d=new Array(i);let h,p,m;for(h=0,p=i;h<p;++h)m=h+s,d[h]={[a]:u||r.parse(c[m],m),[l]:o.parse(n[m],m)};return d}parseArrayData(e,n,s,i){const{xScale:r,yScale:o}=e,a=new Array(i);let l,c,u,d;for(l=0,c=i;l<c;++l)u=l+s,d=n[u],a[l]={x:r.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(e,n,s,i){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,d,h,p;for(u=0,d=i;u<d;++u)h=u+s,p=n[h],c[u]={x:r.parse(jr(p,a),h),y:o.parse(jr(p,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const i=this.chart,r=this._cachedMeta,o=n[e.axis],a={keys:fy(i,!0),values:n._stacks[e.axis]._visualValues};return Qf(a,o,r.index,{mode:s})}updateRangeFromParsed(e,n,s,i){const r=s[n.axis];let o=r===null?NaN:r;const a=i&&s._stacks[n.axis];i&&a&&(i.values=a,o=Qf(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const s=this._cachedMeta,i=s._parsed,r=s._sorted&&e===s.iScale,o=i.length,a=this._getOtherScale(e),l=Gj(n,s,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=Vj(a);let h,p;function m(){p=i[h];const g=p[a.axis];return!Ee(p[e.axis])||u>g||d<g}for(h=0;h<o&&!(!m()&&(this.updateRangeFromParsed(c,e,p,l),r));++h);if(r){for(h=o-1;h>=0;--h)if(!m()){this.updateRangeFromParsed(c,e,p,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let i,r,o;for(i=0,r=n.length;i<r;++i)o=n[i][e.axis],Ee(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,i=n.vScale,r=this.getParsed(e);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=Uj(B(this.options.clip,Bj(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(e,r,a,l),u=a;u<a+l;++u){const d=i[u];d.hidden||(d.active&&c?o.push(d):d.draw(e,r))}for(u=0;u<o.length;++u)o[u].draw(e,r)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=Yj(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=Kj(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=s,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const i=n==="active",r=this._cachedDataOpts,o=e+"-"+n,a=r[o],l=this.enableOptionSharing&&_a(s);if(a)return tp(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),u),p=Object.keys(pe.elements[e]),m=()=>this.getContext(s,i,n),g=c.resolveNamedOptions(h,p,m,d);return g.$shared&&(g.$shared=l,r[o]=Object.freeze(tp(g,l))),g}_resolveAnimations(e,n,s){const i=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),h=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(h,this.getContext(e,s,n))}const c=new hy(i,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Gl(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),i=this._sharedOptions,r=this.getSharedOptions(s),o=this.includeOptions(n,r)||r!==i;return this.updateSharedOptions(r,n,s),{sharedOptions:r,includeOptions:o}}updateElement(e,n,s,i){Gl(i)?Object.assign(e,s):this._resolveAnimations(n,i).update(e,s)}updateSharedOptions(e,n,s){e&&!Gl(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,i){e.active=i;const r=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=s.length,r=n.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,n,s=!0){const i=this._cachedMeta,r=i.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),s&&this.updateElements(r,e,n,"reset")}updateElements(e,n,s,i){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(e,n);s._stacked&&ji(s,i)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,i]=e;this[n](s,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}A(Gs,"defaults",{}),A(Gs,"datasetElementType",null),A(Gs,"dataElementType",null);function Xj(t,e,n){let s=1,i=1,r=0,o=0;if(e<le){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),h=Math.sin(l),p=(x,w,b)=>Er(x,a,l,!0)?1:Math.max(w,w*n,b,b*n),m=(x,w,b)=>Er(x,a,l,!0)?-1:Math.min(w,w*n,b,b*n),g=p(0,c,d),_=p(me,u,h),v=m(V,c,d),y=m(V+me,u,h);s=(g-v)/2,i=(_-y)/2,r=-(g+v)/2,o=-(_+y)/2}return{ratioX:s,ratioY:i,offsetX:r,offsetY:o}}class Li extends Gs{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=s;else{let r=l=>+s[l];if(H(s[e])){const{key:l="value"}=this._parsing;r=c=>+jr(s[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=r(o)}}_getRotation(){return Dt(this.options.rotation-90)}_getCircumference(){return Dt(this.options.circumference)}_getRotationExtents(){let e=le,n=-le;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const i=this.chart.getDatasetMeta(s).controller,r=i._getRotation(),o=i._getCircumference();e=Math.min(e,r),n=Math.max(n,r+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,i=this._cachedMeta,r=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-o)/2,0),l=Math.min(dS(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:h,ratioY:p,offsetX:m,offsetY:g}=Xj(d,u,l),_=(s.width-o)/h,v=(s.height-o)/p,y=Math.max(Math.min(_,v)/2,0),x=G0(this.options.radius,y),w=Math.max(x*l,0),b=(x-w)/this._getVisibleDatasetWeightTotal();this.offsetX=m*x,this.offsetY=g*x,i.total=this.calculateTotal(),this.outerRadius=x-b*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-b*c,0),this.updateElements(r,0,r.length,e)}_circumference(e,n){const s=this.options,i=this._cachedMeta,r=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/le)}updateElements(e,n,s,i){const r=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,h=r&&c.animateScale,p=h?0:this.innerRadius,m=h?0:this.outerRadius,{sharedOptions:g,includeOptions:_}=this._getSharedOptions(n,i);let v=this._getRotation(),y;for(y=0;y<n;++y)v+=this._circumference(y,r);for(y=n;y<n+s;++y){const x=this._circumference(y,r),w=e[y],b={x:u+this.offsetX,y:d+this.offsetY,startAngle:v,endAngle:v+x,circumference:x,outerRadius:m,innerRadius:p};_&&(b.options=g||this.resolveDataElementOptions(y,w.active?"active":i)),v+=x,this.updateElement(w,y,b,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,i;for(i=0;i<n.length;i++){const r=e._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(s+=Math.abs(r))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?le*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=il(n._parsed[e],s.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let n=0;const s=this.chart;let i,r,o,a,l;if(!e){for(i=0,r=s.data.datasets.length;i<r;++i)if(s.isDatasetVisible(i)){o=s.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,r=e.length;i<r;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,i=e.length;s<i;++s){const r=this.resolveDataElementOptions(s);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(B(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}A(Li,"id","doughnut"),A(Li,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),A(Li,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),A(Li,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:i}}=e.legend.options;return n.labels.map((r,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});class $o extends Gs{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:i=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=NS(n,i,o);this._drawStart=a,this._drawCount=l,OS(n)&&(a=0,l=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,n,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,i),h=o.axis,p=a.axis,{spanGaps:m,segment:g}=this.options,_=Cr(m)?m:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||r||i==="none",y=n+s,x=e.length;let w=n>0&&this.getParsed(n-1);for(let b=0;b<x;++b){const k=e[b],S=v?k:{};if(b<n||b>=y){S.skip=!0;continue}const E=this.getParsed(b),C=G(E[p]),T=S[h]=o.getPixelForValue(E[h],b),O=S[p]=r||C?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,E,l):E[p],b);S.skip=isNaN(T)||isNaN(O)||C,S.stop=b>0&&Math.abs(E[h]-w[h])>_,g&&(S.parsed=E,S.raw=c.data[b]),d&&(S.options=u||this.resolveDataElementOptions(b,k.active?"active":i)),v||this.updateElement(k,b,S,i),w=E}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return s;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}A($o,"id","line"),A($o,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),A($o,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function qn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Bd{constructor(e){A(this,"options");this.options=e||{}}static override(e){Object.assign(Bd.prototype,e)}init(){}formats(){return qn()}parse(){return qn()}format(){return qn()}add(){return qn()}diff(){return qn()}startOf(){return qn()}endOf(){return qn()}}var Jj={_date:Bd};function Qj(t,e,n,s){const{controller:i,data:r,_sorted:o}=t,a=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const c=a._reversePixels?SS:ss;if(s){if(i._sharedOptions){const u=r[0],d=typeof u.getRange=="function"&&u.getRange(e);if(d){const h=c(r,e,n-d),p=c(r,e,n+d);return{lo:h.lo,hi:p.hi}}}}else{const u=c(r,e,n);if(l){const{vScale:d}=i._cachedMeta,{_parsed:h}=t,p=h.slice(0,u.lo+1).reverse().findIndex(g=>!G(g[d.axis]));u.lo-=Math.max(0,p);const m=h.slice(u.hi).findIndex(g=>!G(g[d.axis]));u.hi+=Math.max(0,m)}return u}}return{lo:0,hi:r.length-1}}function zr(t,e,n,s,i){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:d,hi:h}=Qj(r[a],e,o,i);for(let p=d;p<=h;++p){const m=u[p];m.skip||s(m,c,p)}}}function Zj(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,i){const r=e?Math.abs(s.x-i.x):0,o=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Xl(t,e,n,s,i){const r=[];return!i&&!t.isPointInArea(e)||zr(t,n,e,function(a,l,c){!i&&!Xt(a,t.chartArea,0)||a.inRange(e.x,e.y,s)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function e2(t,e,n,s){let i=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:d}=Q0(o,{x:e.x,y:e.y});Er(d,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return zr(t,n,e,r),i}function t2(t,e,n,s,i,r){let o=[];const a=Zj(n);let l=Number.POSITIVE_INFINITY;function c(u,d,h){const p=u.inRange(e.x,e.y,i);if(s&&!p)return;const m=u.getCenterPoint(i);if(!(!!r||t.isPointInArea(m))&&!p)return;const _=a(e,m);_<l?(o=[{element:u,datasetIndex:d,index:h}],l=_):_===l&&o.push({element:u,datasetIndex:d,index:h})}return zr(t,n,e,c),o}function Jl(t,e,n,s,i,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!s?e2(t,e,n,i):t2(t,e,n,s,i,r)}function np(t,e,n,s,i){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return zr(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],i)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),s&&!a?[]:r}var n2={evaluateInteractionItems:zr,modes:{index(t,e,n,s){const i=Jn(e,t),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Xl(t,i,r,s,o):Jl(t,i,r,!1,s,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,s){const i=Jn(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Xl(t,i,r,s,o):Jl(t,i,r,!1,s,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,s){const i=Jn(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return Xl(t,i,r,s,o)},nearest(t,e,n,s){const i=Jn(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return Jl(t,i,r,n.intersect,s,o)},x(t,e,n,s){const i=Jn(e,t);return np(t,i,"x",n.intersect,s)},y(t,e,n,s){const i=Jn(e,t);return np(t,i,"y",n.intersect,s)}}};const py=["left","top","right","bottom"];function Ci(t,e){return t.filter(n=>n.pos===e)}function sp(t,e){return t.filter(n=>py.indexOf(n.pos)===-1&&n.box.axis===e)}function Ei(t,e){return t.sort((n,s)=>{const i=e?s:n,r=e?n:s;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function s2(t){const e=[];let n,s,i,r,o,a;for(n=0,s=(t||[]).length;n<s;++n)i=t[n],{position:r,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return e}function i2(t){const e={};for(const n of t){const{stack:s,pos:i,stackWeight:r}=n;if(!s||!py.includes(i))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function r2(t,e){const n=i2(t),{vBoxMaxWidth:s,hBoxMaxHeight:i}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*s:l&&e.availableWidth,a.height=i):(a.width=s,a.height=u?u*i:l&&e.availableHeight)}return n}function o2(t){const e=s2(t),n=Ei(e.filter(c=>c.box.fullSize),!0),s=Ei(Ci(e,"left"),!0),i=Ei(Ci(e,"right")),r=Ei(Ci(e,"top"),!0),o=Ei(Ci(e,"bottom")),a=sp(e,"x"),l=sp(e,"y");return{fullSize:n,leftAndTop:s.concat(r),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:Ci(e,"chartArea"),vertical:s.concat(i).concat(l),horizontal:r.concat(o).concat(a)}}function ip(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function gy(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function a2(t,e,n,s){const{pos:i,box:r}=n,o=t.maxPadding;if(!H(i)){n.size&&(t[i]-=n.size);const d=s[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?r.height:r.width),n.size=d.size/d.count,t[i]+=n.size}r.getPadding&&gy(o,r.getPadding());const a=Math.max(0,e.outerWidth-ip(o,t,"left","right")),l=Math.max(0,e.outerHeight-ip(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function l2(t){const e=t.maxPadding;function n(s){const i=Math.max(e[s]-t[s],0);return t[s]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function c2(t,e){const n=e.maxPadding;function s(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(e[o],n[o])}),r}return s(t?["left","right"]:["top","bottom"])}function Ii(t,e,n,s){const i=[];let r,o,a,l,c,u;for(r=0,o=t.length,c=0;r<o;++r){a=t[r],l=a.box,l.update(a.width||e.w,a.height||e.h,c2(a.horizontal,e));const{same:d,other:h}=a2(e,n,a,s);c|=d&&i.length,u=u||h,l.fullSize||i.push(a)}return c&&Ii(i,e,n,s)||u}function vo(t,e,n,s,i){t.top=n,t.left=e,t.right=e+s,t.bottom=n+i,t.width=s,t.height=i}function rp(t,e,n,s){const i=n.padding;let{x:r,y:o}=e;for(const a of t){const l=a.box,c=s[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,h=c.size||l.height;_a(c.start)&&(o=c.start),l.fullSize?vo(l,i.left,o,n.outerWidth-i.right-i.left,h):vo(l,e.left+c.placed,o,d,h),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,h=c.size||l.width;_a(c.start)&&(r=c.start),l.fullSize?vo(l,r,i.top,h,n.outerHeight-i.bottom-i.top):vo(l,r,e.top+c.placed,h,d),c.start=r,c.placed+=d,r=l.right}}e.x=r,e.y=o}var ft={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const i=Ie(t.options.layout.padding),r=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=o2(t.boxes),l=a.vertical,c=a.horizontal;Y(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,_)=>_.box.options&&_.box.options.display===!1?g:g+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},i);gy(h,Ie(s));const p=Object.assign({maxPadding:h,w:r,h:o,x:i.left,y:i.top},i),m=r2(l.concat(c),d);Ii(a.fullSize,p,d,m),Ii(l,p,d,m),Ii(c,p,d,m)&&Ii(l,p,d,m),l2(p),rp(a.leftAndTop,p,d,m),p.x+=p.w,p.y+=p.h,rp(a.rightAndBottom,p,d,m),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Y(a.chartArea,g=>{const _=g.box;Object.assign(_,t.chartArea),_.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class my{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,i){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(e){return!0}updateConfig(e){}}class u2 extends my{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Fo="$chartjs",d2={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},op=t=>t===null||t==="";function h2(t,e){const n=t.style,s=t.getAttribute("height"),i=t.getAttribute("width");if(t[Fo]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",op(i)){const r=qf(t,"width");r!==void 0&&(t.width=r)}if(op(s))if(t.style.height==="")t.height=t.width/(e||2);else{const r=qf(t,"height");r!==void 0&&(t.height=r)}return t}const yy=wj?{passive:!0}:!1;function f2(t,e,n){t&&t.addEventListener(e,n,yy)}function p2(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,yy)}function g2(t,e){const n=d2[t.type]||t.type,{x:s,y:i}=Jn(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:i!==void 0?i:null}}function ja(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function m2(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||ja(a.addedNodes,s),o=o&&!ja(a.removedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function y2(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||ja(a.removedNodes,s),o=o&&!ja(a.addedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Tr=new Map;let ap=0;function vy(){const t=window.devicePixelRatio;t!==ap&&(ap=t,Tr.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function v2(t,e){Tr.size||window.addEventListener("resize",vy),Tr.set(t,e)}function x2(t){Tr.delete(t),Tr.size||window.removeEventListener("resize",vy)}function _2(t,e,n){const s=t.canvas,i=s&&zd(s);if(!i)return;const r=ty((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(i),v2(t,r),o}function Ql(t,e,n){n&&n.disconnect(),e==="resize"&&x2(t)}function w2(t,e,n){const s=t.canvas,i=ty(r=>{t.ctx!==null&&n(g2(r,t))},t);return f2(s,e,i),i}class b2 extends my{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(h2(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[Fo])return!1;const s=n[Fo].initial;["height","width"].forEach(r=>{const o=s[r];G(o)?n.removeAttribute(r):n.setAttribute(r,o)});const i=s.style||{};return Object.keys(i).forEach(r=>{n.style[r]=i[r]}),n.width=n.width,delete n[Fo],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:m2,detach:y2,resize:_2}[n]||w2;i[n]=o(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),i=s[n];if(!i)return;({attach:Ql,detach:Ql,resize:Ql}[n]||p2)(e,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,i){return _j(e,n,s,i)}isAttached(e){const n=e&&zd(e);return!!(n&&n.isConnected)}}function k2(t){return!Fd()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?u2:b2}class $t{constructor(){A(this,"x");A(this,"y");A(this,"active",!1);A(this,"options");A(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return Cr(this.x)&&Cr(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const i={};return e.forEach(r=>{i[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),i}}A($t,"defaults",{}),A($t,"defaultRoutes");function S2(t,e){const n=t.options.ticks,s=j2(t),i=Math.min(n.maxTicksLimit||s,s),r=n.major.enabled?E2(e):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>i)return T2(e,c,r,o/i),c;const u=C2(r,e,i);if(o>0){let d,h;const p=o>1?Math.round((l-a)/(o-1)):null;for(xo(e,c,u,G(p)?0:a-p,a),d=0,h=o-1;d<h;d++)xo(e,c,u,r[d],r[d+1]);return xo(e,c,u,l,G(p)?e.length:l+p),c}return xo(e,c,u),c}function j2(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(s,i))}function C2(t,e,n){const s=P2(t),i=e.length/n;if(!s)return Math.max(i,1);const r=xS(s);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>i)return l}return Math.max(i,1)}function E2(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function T2(t,e,n,s){let i=0,r=n[0],o;for(s=Math.ceil(s),o=0;o<t.length;o++)o===r&&(e.push(t[o]),i++,r=n[i*s])}function xo(t,e,n,s,i){const r=B(s,0),o=Math.min(B(i,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-s,n=l/Math.floor(l/n)),u=r;u<0;)a++,u=Math.round(r+a*n);for(c=Math.max(r,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(r+a*n))}function P2(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const N2=t=>t==="left"?"right":t==="right"?"left":t,lp=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,cp=(t,e)=>Math.min(e||t,t);function up(t,e){const n=[],s=t.length/e,i=t.length;let r=0;for(;r<i;r+=s)n.push(t[Math.floor(r)]);return n}function O2(t,e,n){const s=t.ticks.length,i=Math.min(e,s-1),r=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(s===1?c=Math.max(l-r,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<r-a||l>o+a)))return l}function M2(t,e){Y(t,n=>{const s=n.gc,i=s.length/2;let r;if(i>e){for(r=0;r<i;++r)delete n.data[s[r]];s.splice(0,i)}})}function Ti(t){return t.drawTicks?t.tickLength:0}function dp(t,e){if(!t.display)return 0;const n=je(t.font,e),s=Ie(t.padding);return(ue(t.text)?t.text.length:1)*n.lineHeight+s.height}function A2(t,e){return Bn(t,{scale:e,type:"scale"})}function R2(t,e,n){return Bn(t,{tick:n,index:e,type:"tick"})}function D2(t,e,n){let s=Od(t);return(n&&e!=="right"||!n&&e==="right")&&(s=N2(s)),s}function L2(t,e,n,s){const{top:i,left:r,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,h,p,m;const g=o-i,_=a-r;if(t.isHorizontal()){if(p=Re(s,r,a),H(n)){const v=Object.keys(n)[0],y=n[v];m=u[v].getPixelForValue(y)+g-e}else n==="center"?m=(c.bottom+c.top)/2+g-e:m=lp(t,n,e);h=a-r}else{if(H(n)){const v=Object.keys(n)[0],y=n[v];p=u[v].getPixelForValue(y)-_+e}else n==="center"?p=(c.left+c.right)/2-_+e:p=lp(t,n,e);m=Re(s,o,i),d=n==="left"?-me:me}return{titleX:p,titleY:m,maxWidth:h,rotation:d}}class ys extends $t{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return e=tt(e,Number.POSITIVE_INFINITY),n=tt(n,Number.NEGATIVE_INFINITY),s=tt(s,Number.POSITIVE_INFINITY),i=tt(i,Number.NEGATIVE_INFINITY),{min:tt(e,s),max:tt(n,i),minDefined:Ee(e),maxDefined:Ee(n)}}getMinMax(e){let{min:n,max:s,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),r||(s=Math.max(s,o.max));return n=r&&n>s?s:n,s=i&&n>s?n:s,{min:tt(n,tt(s,n)),max:tt(s,tt(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){te(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=QS(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?up(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=S2(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){te(this.options.afterUpdate,[this])}beforeSetDimensions(){te(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){te(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),te(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){te(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,i,r;for(s=0,i=e.length;s<i;s++)r=e[s],r.label=te(n.callback,[r.value,s,e],this)}afterTickToLabelConversion(){te(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){te(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=cp(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,r=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=r||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,p=Be(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/s:p/(s-1),d+6>a&&(a=p/(s-(e.offset?.5:1)),l=this.maxHeight-Ti(e.grid)-n.padding-dp(e.title,this.chart.options.font),c=Math.sqrt(d*d+h*h),o=Pd(Math.min(Math.asin(Be((u.highest.height+6)/a,-1,1)),Math.asin(Be(l/c,-1,1))-Math.asin(Be(h/c,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){te(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){te(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=dp(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=Ti(r)+l):(e.height=this.maxHeight,e.width=Ti(r)+l),s.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:h}=this._getLabelSizes(),p=s.padding*2,m=Dt(this.labelRotation),g=Math.cos(m),_=Math.sin(m);if(a){const v=s.mirror?0:_*d.width+g*h.height;e.height=Math.min(this.maxHeight,e.height+v+p)}else{const v=s.mirror?0:g*d.width+_*h.height;e.width=Math.min(this.maxWidth,e.width+v+p)}this._calculatePadding(c,u,_,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,i){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,p=0;l?c?(h=i*e.width,p=s*n.height):(h=s*e.height,p=i*n.width):r==="start"?p=n.width:r==="end"?h=e.width:r!=="inner"&&(h=e.width/2,p=n.width/2),this.paddingLeft=Math.max((h-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-d+o)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;r==="start"?(u=0,d=e.height):r==="end"&&(u=n.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){te(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)G(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=up(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:i,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(n/cp(n,s));let c=0,u=0,d,h,p,m,g,_,v,y,x,w,b;for(d=0;d<n;d+=l){if(m=e[d].label,g=this._resolveTickFontOptions(d),i.font=_=g.string,v=r[_]=r[_]||{data:{},gc:[]},y=g.lineHeight,x=w=0,!G(m)&&!ue(m))x=ba(i,v.data,v.gc,x,m),w=y;else if(ue(m))for(h=0,p=m.length;h<p;++h)b=m[h],!G(b)&&!ue(b)&&(x=ba(i,v.data,v.gc,x,b),w+=y);o.push(x),a.push(w),c=Math.max(x,c),u=Math.max(w,u)}M2(r,n);const k=o.indexOf(c),S=a.indexOf(u),E=C=>({width:o[C]||0,height:a[C]||0});return{first:E(0),last:E(n-1),widest:E(k),highest:E(S),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return kS(this._alignToPixels?Vn(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=R2(this.getContext(),e,s))}return this.$context||(this.$context=A2(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Dt(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*s>a*i?a/s:l/i:l*i<a*s?l/s:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,i=this.options,{grid:r,position:o,border:a}=i,l=r.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=Ti(r),p=[],m=a.setContext(this.getContext()),g=m.display?m.width:0,_=g/2,v=function(J){return Vn(s,J,g)};let y,x,w,b,k,S,E,C,T,O,D,K;if(o==="top")y=v(this.bottom),S=this.bottom-h,C=y-_,O=v(e.top)+_,K=e.bottom;else if(o==="bottom")y=v(this.top),O=e.top,K=v(e.bottom)-_,S=y+_,C=this.top+h;else if(o==="left")y=v(this.right),k=this.right-h,E=y-_,T=v(e.left)+_,D=e.right;else if(o==="right")y=v(this.left),T=e.left,D=v(e.right)-_,k=y+_,E=this.left+h;else if(n==="x"){if(o==="center")y=v((e.top+e.bottom)/2+.5);else if(H(o)){const J=Object.keys(o)[0],se=o[J];y=v(this.chart.scales[J].getPixelForValue(se))}O=e.top,K=e.bottom,S=y+_,C=S+h}else if(n==="y"){if(o==="center")y=v((e.left+e.right)/2);else if(H(o)){const J=Object.keys(o)[0],se=o[J];y=v(this.chart.scales[J].getPixelForValue(se))}k=y-_,E=k-h,T=e.left,D=e.right}const _e=B(i.ticks.maxTicksLimit,d),q=Math.max(1,Math.ceil(d/_e));for(x=0;x<d;x+=q){const J=this.getContext(x),se=r.setContext(J),N=a.setContext(J),R=se.lineWidth,L=se.color,Z=N.dash||[],ie=N.dashOffset,Ct=se.tickWidth,$e=se.tickColor,Ft=se.tickBorderDash||[],Fe=se.tickBorderDashOffset;w=O2(this,x,l),w!==void 0&&(b=Vn(s,w,R),c?k=E=T=D=b:S=C=O=K=b,p.push({tx1:k,ty1:S,tx2:E,ty2:C,x1:T,y1:O,x2:D,y2:K,width:R,color:L,borderDash:Z,borderDashOffset:ie,tickWidth:Ct,tickColor:$e,tickBorderDash:Ft,tickBorderDashOffset:Fe}))}return this._ticksLength=d,this._borderValue=y,p}_computeLabelItems(e){const n=this.axis,s=this.options,{position:i,ticks:r}=s,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=r,h=Ti(s.grid),p=h+u,m=d?-u:p,g=-Dt(this.labelRotation),_=[];let v,y,x,w,b,k,S,E,C,T,O,D,K="middle";if(i==="top")k=this.bottom-m,S=this._getXAxisLabelAlignment();else if(i==="bottom")k=this.top+m,S=this._getXAxisLabelAlignment();else if(i==="left"){const q=this._getYAxisLabelAlignment(h);S=q.textAlign,b=q.x}else if(i==="right"){const q=this._getYAxisLabelAlignment(h);S=q.textAlign,b=q.x}else if(n==="x"){if(i==="center")k=(e.top+e.bottom)/2+p;else if(H(i)){const q=Object.keys(i)[0],J=i[q];k=this.chart.scales[q].getPixelForValue(J)+p}S=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")b=(e.left+e.right)/2-p;else if(H(i)){const q=Object.keys(i)[0],J=i[q];b=this.chart.scales[q].getPixelForValue(J)}S=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?K="top":l==="end"&&(K="bottom"));const _e=this._getLabelSizes();for(v=0,y=a.length;v<y;++v){x=a[v],w=x.label;const q=r.setContext(this.getContext(v));E=this.getPixelForTick(v)+r.labelOffset,C=this._resolveTickFontOptions(v),T=C.lineHeight,O=ue(w)?w.length:1;const J=O/2,se=q.color,N=q.textStrokeColor,R=q.textStrokeWidth;let L=S;o?(b=E,S==="inner"&&(v===y-1?L=this.options.reverse?"left":"right":v===0?L=this.options.reverse?"right":"left":L="center"),i==="top"?c==="near"||g!==0?D=-O*T+T/2:c==="center"?D=-_e.highest.height/2-J*T+T:D=-_e.highest.height+T/2:c==="near"||g!==0?D=T/2:c==="center"?D=_e.highest.height/2-J*T:D=_e.highest.height-O*T,d&&(D*=-1),g!==0&&!q.showLabelBackdrop&&(b+=T/2*Math.sin(g))):(k=E,D=(1-O)*T/2);let Z;if(q.showLabelBackdrop){const ie=Ie(q.backdropPadding),Ct=_e.heights[v],$e=_e.widths[v];let Ft=D-ie.top,Fe=0-ie.left;switch(K){case"middle":Ft-=Ct/2;break;case"bottom":Ft-=Ct;break}switch(S){case"center":Fe-=$e/2;break;case"right":Fe-=$e;break;case"inner":v===y-1?Fe-=$e:v>0&&(Fe-=$e/2);break}Z={left:Fe,top:Ft,width:$e+ie.width,height:Ct+ie.height,color:q.backdropColor}}_.push({label:w,font:C,textOffset:D,options:{rotation:g,color:se,strokeColor:N,strokeWidth:R,textAlign:L,textBaseline:K,translation:[b,k],backdrop:Z}})}return _}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Dt(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let c,u;return n==="left"?i?(u=this.right+r,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+r,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:i,width:r,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,i,r,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(r=>r.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(c.x,c.y),s.stroke(),s.restore())};if(n.display)for(r=0,o=i.length;r<o;++r){const l=i[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:i}}=this,r=s.setContext(this.getContext()),o=s.display?r.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,h;this.isHorizontal()?(c=Vn(e,this.left,o)-o/2,u=Vn(e,this.right,a)+a/2,d=h=l):(d=Vn(e,this.top,o)-o/2,h=Vn(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&Ad(s,i);const r=this.getLabelItems(e);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;fs(s,c,0,u,l,a)}i&&Rd(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const r=je(s.font),o=Ie(s.padding),a=s.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||H(n)?(l+=o.bottom,ue(s.text)&&(l+=r.lineHeight*(s.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:h}=L2(this,l,n,a);fs(e,s.text,0,0,r,{color:s.color,maxWidth:d,rotation:h,textAlign:D2(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=B(e.grid&&e.grid.z,-1),i=B(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ys.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[s]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return je(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class _o{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;F2(n)&&(s=this.register(n));const i=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,I2(e,o,s),this.override&&pe.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,i=this.scope;s in n&&delete n[s],i&&s in pe[i]&&(delete pe[i][s],this.override&&delete hs[s])}}function I2(t,e,n){const s=Sr(Object.create(null),[n?pe.get(n):{},pe.get(e),t.defaults]);pe.set(e,s),t.defaultRoutes&&$2(e,t.defaultRoutes),t.descriptors&&pe.describe(e,t.descriptors)}function $2(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),i=s.pop(),r=[t].concat(s).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");pe.route(r,i,l,a)})}function F2(t){return"id"in t&&"defaults"in t}class z2{constructor(){this.controllers=new _o(Gs,"datasets",!0),this.elements=new _o($t,"elements"),this.plugins=new _o(Object,"plugins"),this.scales=new _o(ys,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(i=>{const r=s||this._getRegistryForType(i);s||r.isForType(i)||r===this.plugins&&i.id?this._exec(e,r,i):Y(i,o=>{const a=s||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,s){const i=Td(e);te(s["before"+i],[],s),n[e](s),te(s["after"+i],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return i}}var Mt=new z2;class B2{constructor(){this._init=[]}notify(e,n,s,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(r,e,n,s);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,s,i){i=i||{};for(const r of e){const o=r.plugin,a=o[s],l=[n,i,r.options];if(te(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){G(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,i=B(s.options&&s.options.plugins,{}),r=U2(s);return i===!1&&!n?[]:H2(e,r,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,i=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,s),e,"stop"),this._notify(i(s,n),e,"start")}}function U2(t){const e={},n=[],s=Object.keys(Mt.plugins.items);for(let r=0;r<s.length;r++)n.push(Mt.getPlugin(s[r]));const i=t.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function W2(t,e){return!e&&t===!1?null:t===!0?{}:t}function H2(t,{plugins:e,localIds:n},s,i){const r=[],o=t.getContext();for(const a of e){const l=a.id,c=W2(s[l],i);c!==null&&r.push({plugin:a,options:V2(t.config,{plugin:a,local:n[l]},c,o)})}return r}function V2(t,{plugin:e,local:n},s,i){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(s,r);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function fu(t,e){const n=pe.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function q2(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function K2(t,e){return t===e?"_index_":"_value_"}function hp(t){if(t==="x"||t==="y"||t==="r")return t}function Y2(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function pu(t,...e){if(hp(t))return t;for(const n of e){const s=n.axis||Y2(n.position)||t.length>1&&hp(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function fp(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function G2(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return fp(t,"x",n[0])||fp(t,"y",n[0])}return{}}function X2(t,e){const n=hs[t.type]||{scales:{}},s=e.scales||{},i=fu(t.type,e),r=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!H(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=pu(o,a,G2(o,t),pe.scales[a.type]),c=K2(l,i),u=n.scales||{};r[o]=Zi(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||fu(a,e),u=(hs[a]||{}).scales||{};Object.keys(u).forEach(d=>{const h=q2(d,l),p=o[h+"AxisID"]||h;r[p]=r[p]||Object.create(null),Zi(r[p],[{axis:h},s[p],u[d]])})}),Object.keys(r).forEach(o=>{const a=r[o];Zi(a,[pe.scales[a.type],pe.scale])}),r}function xy(t){const e=t.options||(t.options={});e.plugins=B(e.plugins,{}),e.scales=X2(t,e)}function _y(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function J2(t){return t=t||{},t.data=_y(t.data),xy(t),t}const pp=new Map,wy=new Set;function wo(t,e){let n=pp.get(t);return n||(n=e(),pp.set(t,n),wy.add(n)),n}const Pi=(t,e,n)=>{const s=jr(e,n);s!==void 0&&t.add(s)};class Q2{constructor(e){this._config=J2(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=_y(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),xy(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return wo(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return wo(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return wo(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return wo(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let i=s.get(e);return(!i||n)&&(i=new Map,s.set(e,i)),i}getOptionScopes(e,n,s){const{options:i,type:r}=this,o=this._cachedScopes(e,s),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>Pi(l,e,d))),u.forEach(d=>Pi(l,i,d)),u.forEach(d=>Pi(l,hs[r]||{},d)),u.forEach(d=>Pi(l,pe,d)),u.forEach(d=>Pi(l,du,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),wy.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,hs[n]||{},pe.datasets[n]||{},{type:n},pe,du]}resolveNamedOptions(e,n,s,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=gp(this._resolverCache,e,i);let l=o;if(eC(o,n)){r.$shared=!1,s=An(s)?s():s;const c=this.createResolver(e,s,a);l=ri(o,s,c)}for(const c of n)r[c]=l[c];return r}createResolver(e,n,s=[""],i){const{resolver:r}=gp(this._resolverCache,e,s);return H(n)?ri(r,n,void 0,i):r}}function gp(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const i=n.join();let r=s.get(i);return r||(r={resolver:Ld(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,r)),r}const Z2=t=>H(t)&&Object.getOwnPropertyNames(t).some(e=>An(t[e]));function eC(t,e){const{isScriptable:n,isIndexable:s}=iy(t);for(const i of e){const r=n(i),o=s(i),a=(o||r)&&t[i];if(r&&(An(a)||Z2(a))||o&&ue(a))return!0}return!1}var tC="4.5.0";const nC=["top","bottom","left","right","chartArea"];function mp(t,e){return t==="top"||t==="bottom"||nC.indexOf(t)===-1&&e==="x"}function yp(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function vp(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),te(n&&n.onComplete,[t],e)}function sC(t){const e=t.chart,n=e.options.animation;te(n&&n.onProgress,[t],e)}function by(t){return Fd()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const zo={},xp=t=>{const e=by(t);return Object.values(zo).filter(n=>n.canvas===e).pop()};function iC(t,e,n){const s=Object.keys(t);for(const i of s){const r=+i;if(r>=e){const o=t[i];delete t[i],(n>0||r>e)&&(t[r+n]=o)}}}function rC(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}var an;let al=(an=class{static register(...e){Mt.add(...e),_p()}static unregister(...e){Mt.remove(...e),_p()}constructor(e,n){const s=this.config=new Q2(n),i=by(e),r=xp(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||k2(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=uS(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new B2,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=TS(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],zo[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Ut.listen(this,"complete",vp),Ut.listen(this,"progress",sC),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:i,_aspectRatio:r}=this;return G(e)?n&&r?r:i?s/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Mt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Vf(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Uf(this.canvas,this.ctx),this}stop(){return Ut.stop(this),this}resize(e,n){Ut.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,i=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,r),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Vf(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),te(s.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Y(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,i=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=pu(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Y(r,o=>{const a=o.options,l=a.id,c=pu(l,a),u=B(a.type,o.dtype);(a.position===void 0||mp(a.position,c)!==mp(o.dposition))&&(a.position=o.dposition),i[l]=!0;let d=null;if(l in s&&s[l].type===u)d=s[l];else{const h=Mt.getScale(u);d=new h({id:l,type:u,ctx:this.ctx,chart:this}),s[d.id]=d}d.init(a,e)}),Y(i,(o,a)=>{o||delete s[a]}),Y(s,o=>{ft.configure(this,o,o.options),ft.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((i,r)=>i.index-r.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(yp("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,i)=>{n.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const r=n[s];let o=this.getDatasetMeta(s);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=r.indexAxis||fu(a,this.options),o.order=r.order||0,o.index=s,o.label=""+r.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const l=Mt.getController(a),{datasetElementType:c,dataElementType:u}=pe.datasets[a];Object.assign(l,{dataElementType:Mt.getElement(u),datasetElementType:c&&Mt.getElement(c)}),o.controller=new l(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Y(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),h=!i&&r.indexOf(d)===-1;d.buildOrUpdateElements(h),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),i||Y(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(yp("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Y(this.scales,e=>{ft.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!Af(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:r}of n){const o=s==="_removeElements"?-r:r;iC(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=s(0);for(let r=1;r<n;r++)if(!Af(i,s(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ft.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],Y(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,An(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),i={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ut.has(this)?this.attached&&!Ut.running(this)&&Ut.start(this):(this.draw(),vp({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let i,r;for(i=0,r=n.length;i<r;++i){const o=n[i];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},i=Dj(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&Ad(n,i),e.controller.draw(),i&&Rd(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return Xt(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,i){const r=n2.modes[n];return typeof r=="function"?r(this,e,s,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let i=s.filter(r=>r&&r._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=Bn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const i=s?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,i);_a(n)?(r.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(r,{visible:s}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Ut.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Uf(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete zo[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(r,o)=>{n.addEventListener(this,r,o),e[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};Y(this.options.events,r=>s(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",r),s("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Y(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Y(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const i=s?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!va(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const i=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=r(n,e),a=s?e:r(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const r=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(r||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:i=[],options:r}=this,o=n,a=this._getActiveElements(e,i,s,o),l=mS(e),c=rC(e,this._lastEvent,s,l);s&&(this._lastEvent=null,te(r.onHover,[e,a,this],this),l&&te(r.onClick,[e,a,this],this));const u=!va(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(e,n,s,i){if(e.type==="mouseout")return[];if(!s)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}},A(an,"defaults",pe),A(an,"instances",zo),A(an,"overrides",hs),A(an,"registry",Mt),A(an,"version",tC),A(an,"getChart",xp),an);function _p(){return Y(al.instances,t=>t._plugins.invalidate())}function oC(t,e,n){const{startAngle:s,x:i,y:r,outerRadius:o,innerRadius:a,options:l}=e,{borderWidth:c,borderJoinStyle:u}=l,d=Math.min(c/o,Ke(s-n));if(t.beginPath(),t.arc(i,r,o-c/2,s+d/2,n-d/2),a>0){const h=Math.min(c/a,Ke(s-n));t.arc(i,r,a+c/2,n-h/2,s+h/2,!0)}else{const h=Math.min(c/2,o*Ke(s-n));if(u==="round")t.arc(i,r,h,n-V/2,s+V/2,!0);else if(u==="bevel"){const p=2*h*h,m=-p*Math.cos(n+V/2)+i,g=-p*Math.sin(n+V/2)+r,_=p*Math.cos(s+V/2)+i,v=p*Math.sin(s+V/2)+r;t.lineTo(m,g),t.lineTo(_,v)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function aC(t,e,n){const{startAngle:s,pixelMargin:i,x:r,y:o,outerRadius:a,innerRadius:l}=e;let c=i/a;t.beginPath(),t.arc(r,o,a,s-c,n+c),l>i?(c=i/l,t.arc(r,o,l,n+c,s-c,!0)):t.arc(r,o,i,n+me,s-me),t.closePath(),t.clip()}function lC(t){return Dd(t,["outerStart","outerEnd","innerStart","innerEnd"])}function cC(t,e,n,s){const i=lC(t.options.borderRadius),r=(n-e)/2,o=Math.min(r,s*e/2),a=l=>{const c=(n-Math.min(r,l))*s/2;return Be(l,0,Math.min(r,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Be(i.innerStart,0,o),innerEnd:Be(i.innerEnd,0,o)}}function js(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function Ca(t,e,n,s,i,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+s+n-c,0),h=u>0?u+s+n+c:0;let p=0;const m=i-l;if(s){const q=u>0?u-s:0,J=d>0?d-s:0,se=(q+J)/2,N=se!==0?m*se/(se+s):m;p=(m-N)/2}const g=Math.max(.001,m*d-n/V)/d,_=(m-g)/2,v=l+_+p,y=i-_-p,{outerStart:x,outerEnd:w,innerStart:b,innerEnd:k}=cC(e,h,d,y-v),S=d-x,E=d-w,C=v+x/S,T=y-w/E,O=h+b,D=h+k,K=v+b/O,_e=y-k/D;if(t.beginPath(),r){const q=(C+T)/2;if(t.arc(o,a,d,C,q),t.arc(o,a,d,q,T),w>0){const R=js(E,T,o,a);t.arc(R.x,R.y,w,T,y+me)}const J=js(D,y,o,a);if(t.lineTo(J.x,J.y),k>0){const R=js(D,_e,o,a);t.arc(R.x,R.y,k,y+me,_e+Math.PI)}const se=(y-k/h+(v+b/h))/2;if(t.arc(o,a,h,y-k/h,se,!0),t.arc(o,a,h,se,v+b/h,!0),b>0){const R=js(O,K,o,a);t.arc(R.x,R.y,b,K+Math.PI,v-me)}const N=js(S,v,o,a);if(t.lineTo(N.x,N.y),x>0){const R=js(S,C,o,a);t.arc(R.x,R.y,x,v-me,C)}}else{t.moveTo(o,a);const q=Math.cos(C)*d+o,J=Math.sin(C)*d+a;t.lineTo(q,J);const se=Math.cos(T)*d+o,N=Math.sin(T)*d+a;t.lineTo(se,N)}t.closePath()}function uC(t,e,n,s,i){const{fullCircles:r,startAngle:o,circumference:a}=e;let l=e.endAngle;if(r){Ca(t,e,n,s,l,i);for(let c=0;c<r;++c)t.fill();isNaN(a)||(l=o+(a%le||le))}return Ca(t,e,n,s,l,i),t.fill(),l}function dC(t,e,n,s,i){const{fullCircles:r,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h,borderRadius:p}=l,m=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=h,m?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let g=e.endAngle;if(r){Ca(t,e,n,s,g,i);for(let _=0;_<r;++_)t.stroke();isNaN(a)||(g=o+(a%le||le))}m&&aC(t,e,g),l.selfJoin&&g-o>=V&&p===0&&u!=="miter"&&oC(t,e,g),r||(Ca(t,e,n,s,g,i),t.stroke())}class $i extends $t{constructor(n){super();A(this,"circumference");A(this,"endAngle");A(this,"fullCircles");A(this,"innerRadius");A(this,"outerRadius");A(this,"pixelMargin");A(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,i){const r=this.getProps(["x","y"],i),{angle:o,distance:a}=Q0(r,{x:n,y:s}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),p=(this.options.spacing+this.options.borderWidth)/2,m=B(h,c-l),g=Er(o,l,c)&&l!==c,_=m>=le||g,v=zs(a,u+p,d+p);return _&&v}getCenterPoint(n){const{x:s,y:i,startAngle:r,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,d=(r+o)/2,h=(a+l+u+c)/2;return{x:s+Math.cos(d)*h,y:i+Math.sin(d)*h}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:i}=this,r=(s.offset||0)/4,o=(s.spacing||0)/2,a=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=i>le?Math.floor(i/le):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*r,Math.sin(l)*r);const c=1-Math.sin(Math.min(V,i||0)),u=r*c;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,uC(n,this,u,o,a),dC(n,this,u,o,a),n.restore()}}A($i,"id","arc"),A($i,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),A($i,"defaultRoutes",{backgroundColor:"backgroundColor"}),A($i,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function ky(t,e,n=e){t.lineCap=B(n.borderCapStyle,e.borderCapStyle),t.setLineDash(B(n.borderDash,e.borderDash)),t.lineDashOffset=B(n.borderDashOffset,e.borderDashOffset),t.lineJoin=B(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=B(n.borderWidth,e.borderWidth),t.strokeStyle=B(n.borderColor,e.borderColor)}function hC(t,e,n){t.lineTo(n.x,n.y)}function fC(t){return t.stepped?US:t.tension||t.cubicInterpolationMode==="monotone"?WS:hC}function Sy(t,e,n={}){const s=t.length,{start:i=0,end:r=s-1}=n,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(r,a),u=i<o&&r<o||i>a&&r>a;return{count:s,start:l,loop:e.loop,ilen:c<l&&!u?s+c-l:c-l}}function pC(t,e,n,s){const{points:i,options:r}=e,{count:o,start:a,loop:l,ilen:c}=Sy(i,n,s),u=fC(r);let{move:d=!0,reverse:h}=s||{},p,m,g;for(p=0;p<=c;++p)m=i[(a+(h?c-p:p))%o],!m.skip&&(d?(t.moveTo(m.x,m.y),d=!1):u(t,g,m,h,r.stepped),g=m);return l&&(m=i[(a+(h?c:0))%o],u(t,g,m,h,r.stepped)),!!l}function gC(t,e,n,s){const i=e.points,{count:r,start:o,ilen:a}=Sy(i,n,s),{move:l=!0,reverse:c}=s||{};let u=0,d=0,h,p,m,g,_,v;const y=w=>(o+(c?a-w:w))%r,x=()=>{g!==_&&(t.lineTo(u,_),t.lineTo(u,g),t.lineTo(u,v))};for(l&&(p=i[y(0)],t.moveTo(p.x,p.y)),h=0;h<=a;++h){if(p=i[y(h)],p.skip)continue;const w=p.x,b=p.y,k=w|0;k===m?(b<g?g=b:b>_&&(_=b),u=(d*u+w)/++d):(x(),t.lineTo(w,b),m=k,d=0,g=_=b),v=b}x()}function gu(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?gC:pC}function mC(t){return t.stepped?bj:t.tension||t.cubicInterpolationMode==="monotone"?kj:Qn}function yC(t,e,n,s){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,s)&&i.closePath()),ky(t,e.options),t.stroke(i)}function vC(t,e,n,s){const{segments:i,options:r}=e,o=gu(e);for(const a of i)ky(t,r,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const xC=typeof Path2D=="function";function _C(t,e,n,s){xC&&!e.options.segment?yC(t,e,n,s):vC(t,e,n,s)}class Fi extends $t{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;pj(this._points,s,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Oj(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,i=e[n],r=this.points,o=Tj(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=mC(s);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:h}=o[c],p=r[d],m=r[h];if(p===m){a.push(p);continue}const g=Math.abs((i-p[n])/(m[n]-p[n])),_=l(p,m,g,s.stepped);_[n]=e[n],a.push(_)}return a.length===1?a[0]:a}pathSegment(e,n,s){return gu(this)(e,this,n,s)}path(e,n,s){const i=this.segments,r=gu(this);let o=this._loop;n=n||0,s=s||this.points.length-n;for(const a of i)o&=r(e,this,a,{start:n,end:n+s-1});return!!o}draw(e,n,s,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),_C(e,this,s,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}A(Fi,"id","line"),A(Fi,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),A(Fi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),A(Fi,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function wp(t,e,n,s){const i=t.options,{[n]:r}=t.getProps([n],s);return Math.abs(e-r)<i.radius+i.hitRadius}class Bo extends $t{constructor(n){super();A(this,"parsed");A(this,"skip");A(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,i){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(s-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,s){return wp(this,n,"x",s)}inYRange(n,s){return wp(this,n,"y",s)}getCenterPoint(n){const{x:s,y:i}=this.getProps(["x","y"],n);return{x:s,y:i}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);const i=s&&n.borderWidth||0;return(s+i)*2}draw(n,s){const i=this.options;this.skip||i.radius<.1||!Xt(this,s,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,hu(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}A(Bo,"id","point"),A(Bo,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),A(Bo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const bp=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},wC=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class kp extends $t{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=te(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,i)=>e.sort(s,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,i=je(s.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=bp(s,r);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let d=e;r.textAlign="left",r.textBaseline="middle";let h=-1,p=-u;return this.legendItems.forEach((m,g)=>{const _=s+n/2+r.measureText(m.text).width;(g===0||c[c.length-1]+_+2*a>o)&&(d+=u,c[c.length-(g>0?0:1)]=0,p+=u,h++),l[g]={left:0,top:p,row:h,width:_,height:i},c[c.length-1]+=_+a}),d}_fitCols(e,n,s,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let d=a,h=0,p=0,m=0,g=0;return this.legendItems.forEach((_,v)=>{const{itemWidth:y,itemHeight:x}=bC(s,n,r,_,i);v>0&&p+x+2*a>u&&(d+=h+a,c.push({width:h,height:p}),m+=h+a,g++,h=p=0),l[v]={left:m,top:p,col:g,width:y,height:x},h=Math.max(h,y),p+=x+a}),d+=h,c.push({width:h,height:p}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:i},rtl:r}}=this,o=Ys(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=Re(s,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Re(s,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=Re(s,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Re(s,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Ad(e,this),this._draw(),Rd(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:i}=this,{align:r,labels:o}=e,a=pe.color,l=Ys(e.rtl,this.left,this.width),c=je(o.font),{padding:u}=o,d=c.size,h=d/2;let p;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:m,boxHeight:g,itemHeight:_}=bp(o,d),v=function(k,S,E){if(isNaN(m)||m<=0||isNaN(g)||g<0)return;i.save();const C=B(E.lineWidth,1);if(i.fillStyle=B(E.fillStyle,a),i.lineCap=B(E.lineCap,"butt"),i.lineDashOffset=B(E.lineDashOffset,0),i.lineJoin=B(E.lineJoin,"miter"),i.lineWidth=C,i.strokeStyle=B(E.strokeStyle,a),i.setLineDash(B(E.lineDash,[])),o.usePointStyle){const T={radius:g*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:C},O=l.xPlus(k,m/2),D=S+h;sy(i,T,O,D,o.pointStyleWidth&&m)}else{const T=S+Math.max((d-g)/2,0),O=l.leftForLtr(k,m),D=Ks(E.borderRadius);i.beginPath(),Object.values(D).some(K=>K!==0)?ka(i,{x:O,y:T,w:m,h:g,radius:D}):i.rect(O,T,m,g),i.fill(),C!==0&&i.stroke()}i.restore()},y=function(k,S,E){fs(i,E.text,k,S+_/2,c,{strikethrough:E.hidden,textAlign:l.textAlign(E.textAlign)})},x=this.isHorizontal(),w=this._computeTitleHeight();x?p={x:Re(r,this.left+u,this.right-s[0]),y:this.top+u+w,line:0}:p={x:this.left+u,y:Re(r,this.top+w+u,this.bottom-n[0].height),line:0},cy(this.ctx,e.textDirection);const b=_+u;this.legendItems.forEach((k,S)=>{i.strokeStyle=k.fontColor,i.fillStyle=k.fontColor;const E=i.measureText(k.text).width,C=l.textAlign(k.textAlign||(k.textAlign=o.textAlign)),T=m+h+E;let O=p.x,D=p.y;l.setWidth(this.width),x?S>0&&O+T+u>this.right&&(D=p.y+=b,p.line++,O=p.x=Re(r,this.left+u,this.right-s[p.line])):S>0&&D+b>this.bottom&&(O=p.x=O+n[p.line].width+u,p.line++,D=p.y=Re(r,this.top+w+u,this.bottom-n[p.line].height));const K=l.x(O);if(v(K,D,k),O=PS(C,O+m+h,x?O+T:this.right,e.rtl),y(l.x(O),D,k),x)p.x+=T+u;else if(typeof k.text!="string"){const _e=c.lineHeight;p.y+=jy(k,_e)+u}else p.y+=b}),uy(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=je(n.font),i=Ie(n.padding);if(!n.display)return;const r=Ys(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=s.size/2,c=i.top+l;let u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,d=Re(e.align,d,this.right-h);else{const m=this.columnSizes.reduce((g,_)=>Math.max(g,_.height),0);u=c+Re(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const p=Re(a,d,d+h);o.textAlign=r.textAlign(Od(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,fs(o,n.text,p,u,s)}_computeTitleHeight(){const e=this.options.title,n=je(e.font),s=Ie(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,i,r;if(zs(e,this.left,this.right)&&zs(n,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(i=r[s],zs(e,i.left,i.left+i.width)&&zs(n,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!jC(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,r=wC(i,s);i&&!r&&te(n.onLeave,[e,i,this],this),this._hoveredItem=s,s&&!r&&te(n.onHover,[e,s,this],this)}else s&&te(n.onClick,[e,s,this],this)}}function bC(t,e,n,s,i){const r=kC(s,t,e,n),o=SC(i,s,e.lineHeight);return{itemWidth:r,itemHeight:o}}function kC(t,e,n,s){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),e+n.size/2+s.measureText(i).width}function SC(t,e,n){let s=t;return typeof e.text!="string"&&(s=jy(e,n)),s}function jy(t,e){const n=t.text?t.text.length:0;return e*n}function jC(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var CC={id:"legend",_element:kp,start(t,e,n){const s=t.legend=new kp({ctx:t.ctx,options:n,chart:t});ft.configure(t,s,n),ft.addBox(t,s)},stop(t){ft.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;ft.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),e.hidden=!0):(i.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=Ie(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:s||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Cy extends $t{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=ue(s.text)?s.text.length:1;this._padding=Ie(s.padding);const r=i*je(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:i,right:r,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=Re(a,s,r),d=n+e,c=r-s):(o.position==="left"?(u=s+e,d=Re(a,i,n),l=V*-.5):(u=r-e,d=Re(a,n,i),l=V*.5),c=i-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=je(n.font),r=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);fs(e,n.text,0,0,s,{color:n.color,maxWidth:l,rotation:c,textAlign:Od(n.align),textBaseline:"middle",translation:[o,a]})}}function EC(t,e){const n=new Cy({ctx:t.ctx,options:e,chart:t});ft.configure(t,n,e),ft.addBox(t,n),t.titleBlock=n}var TC={id:"title",_element:Cy,start(t,e,n){EC(t,n)},stop(t){const e=t.titleBlock;ft.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;ft.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const zi={average(t){if(!t.length)return!1;let e,n,s=new Set,i=0,r=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();s.add(l.x),i+=l.y,++r}}return r===0||s.size===0?!1:{x:[...s].reduce((a,l)=>a+l)/s.size,y:i/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const l=t[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=uu(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,s=l.y}return{x:n,y:s}}};function Pt(t,e){return e&&(ue(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Wt(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function PC(t,e){const{element:n,datasetIndex:s,index:i}=e,r=t.getDatasetMeta(s).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:t,label:o,parsed:r.getParsed(i),raw:t.data.datasets[s].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function Sp(t,e){const n=t.chart.ctx,{body:s,footer:i,title:r}=t,{boxWidth:o,boxHeight:a}=e,l=je(e.bodyFont),c=je(e.titleFont),u=je(e.footerFont),d=r.length,h=i.length,p=s.length,m=Ie(e.padding);let g=m.height,_=0,v=s.reduce((w,b)=>w+b.before.length+b.lines.length+b.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,d&&(g+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),v){const w=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=p*w+(v-p)*l.lineHeight+(v-1)*e.bodySpacing}h&&(g+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let y=0;const x=function(w){_=Math.max(_,n.measureText(w).width+y)};return n.save(),n.font=c.string,Y(t.title,x),n.font=l.string,Y(t.beforeBody.concat(t.afterBody),x),y=e.displayColors?o+2+e.boxPadding:0,Y(s,w=>{Y(w.before,x),Y(w.lines,x),Y(w.after,x)}),y=0,n.font=u.string,Y(t.footer,x),n.restore(),_+=m.width,{width:_,height:g}}function NC(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function OC(t,e,n,s){const{x:i,width:r}=s,o=n.caretSize+n.caretPadding;if(t==="left"&&i+r+o>e.width||t==="right"&&i-r-o<0)return!0}function MC(t,e,n,s){const{x:i,width:r}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return s==="center"?c=i<=(a+l)/2?"left":"right":i<=r/2?c="left":i>=o-r/2&&(c="right"),OC(c,t,e,n)&&(c="center"),c}function jp(t,e,n){const s=n.yAlign||e.yAlign||NC(t,n);return{xAlign:n.xAlign||e.xAlign||MC(t,e,n,s),yAlign:s}}function AC(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function RC(t,e,n){let{y:s,height:i}=t;return e==="top"?s+=n:e==="bottom"?s-=i+n:s-=i/2,s}function Cp(t,e,n,s){const{caretSize:i,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+r,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:p}=Ks(o);let m=AC(e,a);const g=RC(e,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(u,h)+i:a==="right"&&(m+=Math.max(d,p)+i),{x:Be(m,0,s.width-e.width),y:Be(g,0,s.height-e.height)}}function bo(t,e,n){const s=Ie(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function Ep(t){return Pt([],Wt(t))}function DC(t,e,n){return Bn(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Tp(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Ey={beforeTitle:Bt,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:Bt,beforeBody:Bt,beforeLabel:Bt,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return G(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Bt,afterBody:Bt,beforeFooter:Bt,footer:Bt,afterFooter:Bt};function qe(t,e,n,s){const i=t[e].call(n,s);return typeof i>"u"?Ey[e].call(n,s):i}class mu extends $t{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&n.options.animation&&s.animations,r=new hy(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=DC(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,i=qe(s,"beforeTitle",this,e),r=qe(s,"title",this,e),o=qe(s,"afterTitle",this,e);let a=[];return a=Pt(a,Wt(i)),a=Pt(a,Wt(r)),a=Pt(a,Wt(o)),a}getBeforeBody(e,n){return Ep(qe(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,i=[];return Y(e,r=>{const o={before:[],lines:[],after:[]},a=Tp(s,r);Pt(o.before,Wt(qe(a,"beforeLabel",this,r))),Pt(o.lines,qe(a,"label",this,r)),Pt(o.after,Wt(qe(a,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(e,n){return Ep(qe(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,i=qe(s,"beforeFooter",this,e),r=qe(s,"footer",this,e),o=qe(s,"afterFooter",this,e);let a=[];return a=Pt(a,Wt(i)),a=Pt(a,Wt(r)),a=Pt(a,Wt(o)),a}_createItems(e){const n=this._active,s=this.chart.data,i=[],r=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(PC(this.chart,n[l]));return e.filter&&(a=a.filter((u,d,h)=>e.filter(u,d,h,s))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,s))),Y(a,u=>{const d=Tp(e.callbacks,u);i.push(qe(d,"labelColor",this,u)),r.push(qe(d,"labelPointStyle",this,u)),o.push(qe(d,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const s=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=zi[s.position].call(this,i,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const l=this._size=Sp(this,s),c=Object.assign({},a,l),u=jp(this.chart,s,c),d=Cp(s,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,i){const r=this.getCaretPosition(e,s,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,s){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=Ks(a),{x:h,y:p}=e,{width:m,height:g}=n;let _,v,y,x,w,b;return r==="center"?(w=p+g/2,i==="left"?(_=h,v=_-o,x=w+o,b=w-o):(_=h+m,v=_+o,x=w-o,b=w+o),y=_):(i==="left"?v=h+Math.max(l,u)+o:i==="right"?v=h+m-Math.max(c,d)-o:v=this.caretX,r==="top"?(x=p,w=x-o,_=v-o,y=v+o):(x=p+g,w=x+o,_=v+o,y=v-o),b=x),{x1:_,x2:v,x3:y,y1:x,y2:w,y3:b}}drawTitle(e,n,s){const i=this.title,r=i.length;let o,a,l;if(r){const c=Ys(s.rtl,this.x,this.width);for(e.x=bo(this,s.titleAlign,s),n.textAlign=c.textAlign(s.titleAlign),n.textBaseline="middle",o=je(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=s.titleMarginBottom-a)}}_drawColorBox(e,n,s,i,r){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:c}=r,u=je(r.bodyFont),d=bo(this,"left",r),h=i.x(d),p=l<u.lineHeight?(u.lineHeight-l)/2:0,m=n.y+p;if(r.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},_=i.leftForLtr(h,c)+c/2,v=m+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,hu(e,g,_,v),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,hu(e,g,_,v)}else{e.lineWidth=H(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const g=i.leftForLtr(h,c),_=i.leftForLtr(i.xPlus(h,1),c-2),v=Ks(o.borderRadius);Object.values(v).some(y=>y!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,ka(e,{x:g,y:m,w:c,h:l,radius:v}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),ka(e,{x:_,y:m+1,w:c-2,h:l-2,radius:v}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(g,m,c,l),e.strokeRect(g,m,c,l),e.fillStyle=o.backgroundColor,e.fillRect(_,m+1,c-2,l-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=s,d=je(s.bodyFont);let h=d.lineHeight,p=0;const m=Ys(s.rtl,this.x,this.width),g=function(E){n.fillText(E,m.x(e.x+p),e.y+h/2),e.y+=h+r},_=m.textAlign(o);let v,y,x,w,b,k,S;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=bo(this,_,s),n.fillStyle=s.bodyColor,Y(this.beforeBody,g),p=a&&_!=="right"?o==="center"?c/2+u:c+2+u:0,w=0,k=i.length;w<k;++w){for(v=i[w],y=this.labelTextColors[w],n.fillStyle=y,Y(v.before,g),x=v.lines,a&&x.length&&(this._drawColorBox(n,e,w,m,s),h=Math.max(d.lineHeight,l)),b=0,S=x.length;b<S;++b)g(x[b]),h=d.lineHeight;Y(v.after,g)}p=0,h=d.lineHeight,Y(this.afterBody,g),e.y-=r}drawFooter(e,n,s){const i=this.footer,r=i.length;let o,a;if(r){const l=Ys(s.rtl,this.x,this.width);for(e.x=bo(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=l.textAlign(s.footerAlign),n.textBaseline="middle",o=je(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,n,s,i){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=s,{topLeft:d,topRight:h,bottomLeft:p,bottomRight:m}=Ks(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,s,i),n.lineTo(a+c-h,l),n.quadraticCurveTo(a+c,l,a+c,l+h),o==="center"&&r==="right"&&this.drawCaret(e,n,s,i),n.lineTo(a+c,l+u-m),n.quadraticCurveTo(a+c,l+u,a+c-m,l+u),o==="bottom"&&this.drawCaret(e,n,s,i),n.lineTo(a+p,l+u),n.quadraticCurveTo(a,l+u,a,l+u-p),o==="center"&&r==="left"&&this.drawCaret(e,n,s,i),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,i=s&&s.x,r=s&&s.y;if(i||r){const o=zi[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Sp(this,e),l=Object.assign({},o,this._size),c=jp(n,e,l),u=Cp(e,l,c,n);(i._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=Ie(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=s,this.drawBackground(r,e,i,n),cy(e,n.textDirection),r.y+=o.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),uy(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!va(s,i),o=this._positionChanged(i,n);(r||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(e,r,n,s),a=this._positionChanged(o,e),l=n||!va(o,r)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,s,i){const r=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,s);return r.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:s,caretY:i,options:r}=this,o=zi[r.position].call(this,e,n);return o!==!1&&(s!==o.x||i!==o.y)}}A(mu,"positioners",zi);var LC={id:"tooltip",_element:mu,positioners:zi,afterInit(t,e,n){n&&(t.tooltip=new mu({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Ey},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const IC=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function $C(t,e,n,s){const i=t.indexOf(e);if(i===-1)return IC(t,e,n,s);const r=t.lastIndexOf(e);return i!==r?n:i}const FC=(t,e)=>t===null?null:Be(Math.round(t),0,e);function Pp(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class yu extends ys{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:i,label:r}of n)s[i]===r&&s.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(G(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:$C(s,e,B(n,e),this._addedLabels),FC(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,i=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return Pp.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}A(yu,"id","category"),A(yu,"defaults",{ticks:{callback:Pp}});function zC(t,e){const n=[],{bounds:i,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:h}=t,p=r||1,m=u-1,{min:g,max:_}=e,v=!G(o),y=!G(a),x=!G(c),w=(_-g)/(d+1);let b=Df((_-g)/m/p)*p,k,S,E,C;if(b<1e-14&&!v&&!y)return[{value:g},{value:_}];C=Math.ceil(_/b)-Math.floor(g/b),C>m&&(b=Df(C*b/m/p)*p),G(l)||(k=Math.pow(10,l),b=Math.ceil(b*k)/k),i==="ticks"?(S=Math.floor(g/b)*b,E=Math.ceil(_/b)*b):(S=g,E=_),v&&y&&r&&wS((a-o)/r,b/1e3)?(C=Math.round(Math.min((a-o)/b,u)),b=(a-o)/C,S=o,E=a):x?(S=v?o:S,E=y?a:E,C=c-1,b=(E-S)/C):(C=(E-S)/b,er(C,Math.round(C),b/1e3)?C=Math.round(C):C=Math.ceil(C));const T=Math.max(Lf(b),Lf(S));k=Math.pow(10,G(l)?T:l),S=Math.round(S*k)/k,E=Math.round(E*k)/k;let O=0;for(v&&(h&&S!==o?(n.push({value:o}),S<o&&O++,er(Math.round((S+O*b)*k)/k,o,Np(o,w,t))&&O++):S<o&&O++);O<C;++O){const D=Math.round((S+O*b)*k)/k;if(y&&D>a)break;n.push({value:D})}return y&&h&&E!==a?n.length&&er(n[n.length-1].value,a,Np(a,w,t))?n[n.length-1].value=a:n.push({value:a}):(!y||E===a)&&n.push({value:E}),n}function Np(t,e,{horizontal:n,minRotation:s}){const i=Dt(s),r=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class Ea extends ys{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return G(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:i,max:r}=this;const o=l=>i=n?i:l,a=l=>r=s?r:l;if(e){const l=ii(i),c=ii(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===r){let l=r===0?1:Math.abs(r*.05);a(r+l),e||o(i-l)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=zC(i,r);return e.bounds==="ticks"&&J0(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const i=(s-n)/Math.max(e.length-1,1)/2;n-=i,s+=i}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return il(e,this.chart.options.locale,this.options.ticks.format)}}class vu extends Ea{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ee(e)?e:0,this.max=Ee(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=Dt(this.options.ticks.minRotation),i=(e?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}A(vu,"id","linear"),A(vu,"defaults",{ticks:{callback:rl.formatters.numeric}});const Pr=t=>Math.floor(_n(t)),Kn=(t,e)=>Math.pow(10,Pr(t)+e);function Op(t){return t/Math.pow(10,Pr(t))===1}function Mp(t,e,n){const s=Math.pow(10,n),i=Math.floor(t/s);return Math.ceil(e/s)-i}function BC(t,e){const n=e-t;let s=Pr(n);for(;Mp(t,e,s)>10;)s++;for(;Mp(t,e,s)<10;)s--;return Math.min(s,Pr(t))}function UC(t,{min:e,max:n}){e=tt(t.min,e);const s=[],i=Pr(e);let r=BC(e,n),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=i>r?Math.pow(10,i):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let d=Math.floor((c-u)/Math.pow(10,r)),h=tt(t.min,Math.round((l+u+d*Math.pow(10,r))*o)/o);for(;h<n;)s.push({value:h,major:Op(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(r++,d=2,o=r>=0?1:o),h=Math.round((l+u+d*Math.pow(10,r))*o)/o;const p=tt(t.max,h);return s.push({value:p,major:Op(p),significand:d}),s}class Ap extends ys{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const s=Ea.prototype.parse.apply(this,[e,n]);if(s===0){this._zero=!0;return}return Ee(s)&&s>0?s:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ee(e)?Math.max(0,e):null,this.max=Ee(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ee(this._userMin)&&(this.min=e===Kn(this.min,0)?Kn(this.min,-1):Kn(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let s=this.min,i=this.max;const r=a=>s=e?s:a,o=a=>i=n?i:a;s===i&&(s<=0?(r(1),o(10)):(r(Kn(s,-1)),o(Kn(i,1)))),s<=0&&r(Kn(i,-1)),i<=0&&o(Kn(s,1)),this.min=s,this.max=i}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},s=UC(n,this);return e.bounds==="ticks"&&J0(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(e){return e===void 0?"0":il(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=_n(e),this._valueRange=_n(this.max)-_n(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(_n(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}A(Ap,"id","logarithmic"),A(Ap,"defaults",{ticks:{callback:rl.formatters.logarithmic,major:{enabled:!0}}});function xu(t){const e=t.ticks;if(e.display&&t.display){const n=Ie(e.backdropPadding);return B(e.font&&e.font.size,pe.font.size)+n.height}return 0}function WC(t,e,n){return n=ue(n)?n:[n],{w:BS(t,e.string,n),h:n.length*e.lineHeight}}function Rp(t,e,n,s,i){return t===s||t===i?{start:e-n/2,end:e+n/2}:t<s||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function HC(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),s=[],i=[],r=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?V/r:0;for(let l=0;l<r;l++){const c=o.setContext(t.getPointLabelContext(l));i[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+i[l],a),d=je(c.font),h=WC(t.ctx,d,t._pointLabels[l]);s[l]=h;const p=Ke(t.getIndexAngle(l)+a),m=Math.round(Pd(p)),g=Rp(m,u.x,h.w,0,180),_=Rp(m,u.y,h.h,90,270);VC(n,e,p,g,_)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=YC(t,s,i)}function VC(t,e,n,s,i){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;s.start<e.l?(a=(e.l-s.start)/r,t.l=Math.min(t.l,e.l-a)):s.end>e.r&&(a=(s.end-e.r)/r,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(l=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function qC(t,e,n){const s=t.drawingArea,{extra:i,additionalAngle:r,padding:o,size:a}=n,l=t.getPointPosition(e,s+i+o,r),c=Math.round(Pd(Ke(l.angle+me))),u=JC(l.y,a.h,c),d=GC(c),h=XC(l.x,a.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:h,top:u,right:h+a.w,bottom:u+a.h}}function KC(t,e){if(!e)return!0;const{left:n,top:s,right:i,bottom:r}=t;return!(Xt({x:n,y:s},e)||Xt({x:n,y:r},e)||Xt({x:i,y:s},e)||Xt({x:i,y:r},e))}function YC(t,e,n){const s=[],i=t._pointLabels.length,r=t.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:xu(r)/2,additionalAngle:o?V/i:0};let c;for(let u=0;u<i;u++){l.padding=n[u],l.size=e[u];const d=qC(t,u,l);s.push(d),a==="auto"&&(d.visible=KC(d,c),d.visible&&(c=d))}return s}function GC(t){return t===0||t===180?"center":t<180?"left":"right"}function XC(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function JC(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function QC(t,e,n){const{left:s,top:i,right:r,bottom:o}=n,{backdropColor:a}=e;if(!G(a)){const l=Ks(e.borderRadius),c=Ie(e.backdropPadding);t.fillStyle=a;const u=s-c.left,d=i-c.top,h=r-s+c.width,p=o-i+c.height;Object.values(l).some(m=>m!==0)?(t.beginPath(),ka(t,{x:u,y:d,w:h,h:p,radius:l}),t.fill()):t.fillRect(u,d,h,p)}}function ZC(t,e){const{ctx:n,options:{pointLabels:s}}=t;for(let i=e-1;i>=0;i--){const r=t._pointLabelItems[i];if(!r.visible)continue;const o=s.setContext(t.getPointLabelContext(i));QC(n,o,r);const a=je(o.font),{x:l,y:c,textAlign:u}=r;fs(n,t._pointLabels[i],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function Ty(t,e,n,s){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,le);else{let r=t.getPointPosition(0,e);i.moveTo(r.x,r.y);for(let o=1;o<s;o++)r=t.getPointPosition(o,e),i.lineTo(r.x,r.y)}}function eE(t,e,n,s,i){const r=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!s||!a||!l||n<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(i.dash||[]),r.lineDashOffset=i.dashOffset,r.beginPath(),Ty(t,n,o,s),r.closePath(),r.stroke(),r.restore())}function tE(t,e,n){return Bn(t,{label:n,index:e,type:"pointLabel"})}class ko extends Ea{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Ie(xu(this.options)/2),n=this.width=this.maxWidth-e.width,s=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+s/2+e.top),this.drawingArea=Math.floor(Math.min(n,s)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Ee(e)&&!isNaN(e)?e:0,this.max=Ee(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/xu(this.options))}generateTickLabels(e){Ea.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,s)=>{const i=te(this.options.pointLabels.callback,[n,s],this);return i||i===0?i:""}).filter((n,s)=>this.chart.getDataVisibility(s))}fit(){const e=this.options;e.display&&e.pointLabels.display?HC(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,s,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((s-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,s,i))}getIndexAngle(e){const n=le/(this._pointLabels.length||1),s=this.options.startAngle||0;return Ke(e*n+Dt(s))}getDistanceFromCenterForValue(e){if(G(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(G(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const s=n[e];return tE(this.getContext(),e,s)}}getPointPosition(e,n,s=0){const i=this.getIndexAngle(e)-me+s;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:s,right:i,bottom:r}=this._pointLabelItems[e];return{left:n,top:s,right:i,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const s=this.ctx;s.save(),s.beginPath(),Ty(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),s.closePath(),s.fillStyle=e,s.fill(),s.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:s,grid:i,border:r}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&ZC(this,o),i.display&&this.ticks.forEach((u,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const h=this.getContext(d),p=i.setContext(h),m=r.setContext(h);eE(this,p,l,o,m)}}),s.display){for(e.save(),a=o-1;a>=0;a--){const u=s.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:h}=u;!h||!d||(e.lineWidth=h,e.strokeStyle=d,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,s=n.ticks;if(!s.display)return;const i=this.getIndexAngle(0);let r,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=s.setContext(this.getContext(l)),u=je(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const d=Ie(c.backdropPadding);e.fillRect(-o/2-d.left,-r-u.size/2-d.top,o+d.width,u.size+d.height)}fs(e,a.label,0,-r,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}A(ko,"id","radialLinear"),A(ko,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:rl.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),A(ko,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),A(ko,"descriptors",{angleLines:{_fallback:"grid"}});const ll={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Xe=Object.keys(ll);function Dp(t,e){return t-e}function Lp(t,e){if(G(e))return null;const n=t._adapter,{parser:s,round:i,isoWeekday:r}=t._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),Ee(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(Cr(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,i)),+o)}function Ip(t,e,n,s){const i=Xe.length;for(let r=Xe.indexOf(t);r<i-1;++r){const o=ll[Xe[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=s)return Xe[r]}return Xe[i-1]}function nE(t,e,n,s,i){for(let r=Xe.length-1;r>=Xe.indexOf(n);r--){const o=Xe[r];if(ll[o].common&&t._adapter.diff(i,s,o)>=e-1)return o}return Xe[n?Xe.indexOf(n):0]}function sE(t){for(let e=Xe.indexOf(t)+1,n=Xe.length;e<n;++e)if(ll[Xe[e]].common)return Xe[e]}function $p(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:i}=Nd(n,e),r=n[s]>=e?n[s]:n[i];t[r]=!0}}function iE(t,e,n,s){const i=t._adapter,r=+i.startOf(e[0].value,s),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+i.add(a,1,s))l=n[a],l>=0&&(e[l].major=!0);return e}function Fp(t,e,n){const s=[],i={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],i[a]=o,s.push({value:a,major:!1});return r===0||!n?s:iE(t,s,i,n)}class Ta extends ys{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),i=this._adapter=new Jj._date(e.adapters.date);i.init(n),Zi(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Lp(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Ee(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),r=Ee(r)&&!isNaN(r)?r:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=jS(i,r,o);return this._unit=n.unit||(s.autoSkip?Ip(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):nE(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:sE(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),Fp(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,i,r;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?s=r:s=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Be(n,0,o),s=Be(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,i=this.options,r=i.time,o=r.unit||Ip(r.minUnit,n,s,this._getLabelCapacity(n)),a=B(i.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=Cr(l)||l===!0,u={};let d=n,h,p;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(s,n,o)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+o);const m=i.ticks.source==="data"&&this.getDataTimestamps();for(h=d,p=0;h<s;h=+e.add(h,a,o),p++)$p(u,h,m);return(h===s||i.bounds==="ticks"||p===1)&&$p(u,h,m),Object.keys(u).sort(Dp).map(g=>+g)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,r=this._unit,o=n||i[r];return this._adapter.format(e,o)}_tickFormatFunction(e,n,s,i){const r=this.options,o=r.ticks.callback;if(o)return te(o,[e,n,s],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],h=s[n],p=c&&d&&h&&h.major;return this._adapter.format(e,i||(p?d:u))}generateTickLabels(e){let n,s,i;for(n=0,s=e.length;n<s;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,i=Dt(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*r+a*o,h:s*o+a*r}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,r=this._tickFormatFunction(e,0,Fp(this,[e],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)e.push(Lp(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return ES(e.sort(Dp))}}A(Ta,"id","time"),A(Ta,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function So(t,e,n){let s=0,i=t.length-1,r,o,a,l;n?(e>=t[s].pos&&e<=t[i].pos&&({lo:s,hi:i}=ss(t,"pos",e)),{pos:r,time:a}=t[s],{pos:o,time:l}=t[i]):(e>=t[s].time&&e<=t[i].time&&({lo:s,hi:i}=ss(t,"time",e)),{time:r,pos:a}=t[s],{time:o,pos:l}=t[i]);const c=o-r;return c?a+(l-a)*(e-r)/c:a}class zp extends Ta{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=So(n,this.min),this._tableRange=So(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,i=[],r=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=s&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((i,r)=>i-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(So(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return So(this._table,s*this._tableRange+this._minPos,!0)}}A(zp,"id","timeseries"),A(zp,"defaults",Ta.defaults);const Py="label";function Bp(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function rE(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function Ny(t,e){t.labels=e}function Oy(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Py;const s=[];t.datasets=e.map(i=>{const r=t.datasets.find(o=>o[n]===i[n]);return!r||!i.data||s.includes(r)?{...i}:(s.push(r),Object.assign(r,i),r)})}function oE(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Py;const n={labels:[],datasets:[]};return Ny(n,t.labels),Oy(n,t.datasets,e),n}function aE(t,e){const{height:n=150,width:s=300,redraw:i=!1,datasetIdKey:r,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...h}=t,p=j.useRef(null),m=j.useRef(null),g=()=>{p.current&&(m.current=new al(p.current,{type:o,data:oE(a,r),options:l&&{...l},plugins:c}),Bp(e,m.current))},_=()=>{Bp(e,null),m.current&&(m.current.destroy(),m.current=null)};return j.useEffect(()=>{!i&&m.current&&l&&rE(m.current,l)},[i,l]),j.useEffect(()=>{!i&&m.current&&Ny(m.current.config.data,a.labels)},[i,a.labels]),j.useEffect(()=>{!i&&m.current&&a.datasets&&Oy(m.current.config.data,a.datasets,r)},[i,a.datasets]),j.useEffect(()=>{m.current&&(i?(_(),setTimeout(g)):m.current.update(d))},[i,l,a.labels,a.datasets,d]),j.useEffect(()=>{m.current&&(_(),setTimeout(g))},[o]),j.useEffect(()=>(g(),()=>_()),[]),Na.createElement("canvas",{ref:p,role:"img",height:n,width:s,...h},u)}const lE=j.forwardRef(aE);function My(t,e){return al.register(e),j.forwardRef((n,s)=>Na.createElement(lE,{...n,ref:s,type:t}))}const cE=My("line",$o),uE=My("doughnut",Li);al.register(yu,vu,Bo,Fi,$i,TC,LC,CC);const dE=()=>{const[t,e]=j.useState({totalExpenses:0,totalIncome:0,monthlyBudget:0,activeGoals:0,completedGoals:0,budgetUsed:0}),[n,s]=j.useState([]),[i,r]=j.useState(null),[o,a]=j.useState(null),[l,c]=j.useState(!0);j.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:{user:h}}=await I.auth.getUser();if(!h)return;const p=new Date().toISOString().slice(0,7),{data:m}=await I.from("expenses").select("amount, date").eq("user_id",h.id).gte("date",`${p}-01`).lte("date",`${p}-31`),{data:g}=await I.from("income").select("amount").eq("user_id",h.id).gte("date",`${p}-01`).lte("date",`${p}-31`),{data:_}=await I.from("budgets").select("amount").eq("user_id",h.id).eq("period","monthly").eq("is_active",!0).single(),{data:v}=await I.from("goals").select("status").eq("user_id",h.id),{data:y}=await I.from("expenses").select(`
          amount,
          description,
          date,
          expense_categories(name, color)
        `).eq("user_id",h.id).order("date",{ascending:!1}).limit(5),x=(m==null?void 0:m.reduce((E,C)=>E+parseFloat(C.amount),0))||0,w=(g==null?void 0:g.reduce((E,C)=>E+parseFloat(C.amount),0))||0,b=(_==null?void 0:_.amount)||0,k=(v==null?void 0:v.filter(E=>E.status==="active").length)||0,S=(v==null?void 0:v.filter(E=>E.status==="completed").length)||0;e({totalExpenses:x,totalIncome:w,monthlyBudget:b,activeGoals:k,completedGoals:S,budgetUsed:b>0?x/b*100:0}),s(y||[]),d(m||[])}catch(h){console.error("Erreur lors du chargement des données:",h)}finally{c(!1)}},d=h=>{const p=Array.from({length:7},(g,_)=>{const v=new Date;return v.setDate(v.getDate()-_),v.toISOString().slice(0,10)}).reverse(),m=p.map(g=>h.filter(v=>v.date===g).reduce((v,y)=>v+parseFloat(y.amount),0));r({labels:p.map(g=>new Date(g).toLocaleDateString("fr-FR",{weekday:"short"})),datasets:[{label:"Dépenses (€)",data:m,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4}]}),a({labels:["Alimentation","Transport","Logement","Divertissement","Autres"],datasets:[{data:[30,25,20,15,10],backgroundColor:["#ef4444","#3b82f6","#10b981","#8b5cf6","#6b7280"]}]})};return l?f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tableau de bord"}),f.jsx("div",{className:"text-sm text-gray-500",children:new Date().toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[f.jsx("div",{className:"card p-6",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:f.jsx(Ik,{className:"h-6 w-6 text-red-600"})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Dépenses ce mois"}),f.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[t.totalExpenses.toFixed(2)," €"]})]})]})}),f.jsx("div",{className:"card p-6",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:f.jsx(H0,{className:"h-6 w-6 text-green-600"})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Revenus ce mois"}),f.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[t.totalIncome.toFixed(2)," €"]})]})]})}),f.jsx("div",{className:"card p-6",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:f.jsx(U0,{className:"h-6 w-6 text-blue-600"})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Budget mensuel"}),f.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[t.monthlyBudget.toFixed(2)," €"]})]})]})}),f.jsx("div",{className:"card p-6",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:f.jsx(Sd,{className:"h-6 w-6 text-purple-600"})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Objectifs actifs"}),f.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.activeGoals})]})]})})]}),t.budgetUsed>80&&f.jsx("div",{className:"card p-4 bg-yellow-50 border-yellow-200",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx(Sk,{className:"h-5 w-5 text-yellow-600 mr-2"}),f.jsxs("p",{className:"text-yellow-800",children:["Attention ! Vous avez utilisé ",t.budgetUsed.toFixed(1),"% de votre budget mensuel."]})]})}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"card p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Dépenses des 7 derniers jours"}),i&&f.jsx(cE,{data:i,options:{responsive:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0}}}})]}),f.jsxs("div",{className:"card p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Répartition par catégorie"}),o&&f.jsx(uE,{data:o,options:{responsive:!0,plugins:{legend:{position:"bottom"}}}})]})]}),f.jsxs("div",{className:"card p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Dépenses récentes"}),f.jsx("div",{className:"space-y-3",children:n.length>0?n.map((h,p)=>{var m,g;return f.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-b-0",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"w-3 h-3 rounded-full mr-3",style:{backgroundColor:((m=h.expense_categories)==null?void 0:m.color)||"#6b7280"}}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-gray-900",children:h.description||"Dépense"}),f.jsxs("p",{className:"text-sm text-gray-500",children:[((g=h.expense_categories)==null?void 0:g.name)||"Non catégorisé"," • ",new Date(h.date).toLocaleDateString("fr-FR")]})]})]}),f.jsxs("p",{className:"font-semibold text-gray-900",children:["-",parseFloat(h.amount).toFixed(2)," €"]})]},p)}):f.jsx("p",{className:"text-gray-500 text-center py-4",children:"Aucune dépense récente"})})]})]})},hE=()=>{const[t,e]=j.useState([]),[n,s]=j.useState(!1),[i,r]=j.useState(null),[o,a]=j.useState({name:"",amount:"",period:"monthly",category:"",start_date:"",end_date:""}),[l,c]=j.useState(!0);j.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:{user:g}}=await I.auth.getUser();if(!g)return;const{data:_,error:v}=await I.from("budgets").select("*").eq("user_id",g.id).order("created_at",{ascending:!1});if(v)throw v;e(_||[])}catch{F.error("Erreur lors du chargement des budgets")}finally{c(!1)}},d=async g=>{g.preventDefault();try{const{data:{user:_}}=await I.auth.getUser();if(!_)return;const v={...o,user_id:_.id,amount:parseFloat(o.amount),start_date:o.start_date||new Date().toISOString().slice(0,10),end_date:o.end_date||(o.period==="monthly"?new Date(Date.now()+30*24*60*60*1e3).toISOString().slice(0,10):new Date(Date.now()+365*24*60*60*1e3).toISOString().slice(0,10))};if(i){const{error:y}=await I.from("budgets").update(v).eq("id",i.id);if(y)throw y;F.success("Budget mis à jour avec succès")}else{const{error:y}=await I.from("budgets").insert([v]);if(y)throw y;F.success("Budget créé avec succès")}s(!1),r(null),a({name:"",amount:"",period:"monthly",category:"",start_date:"",end_date:""}),u()}catch{F.error("Erreur lors de la sauvegarde du budget")}},h=g=>{r(g),a({name:g.name,amount:g.amount.toString(),period:g.period,category:g.category||"",start_date:g.start_date,end_date:g.end_date}),s(!0)},p=async g=>{if(confirm("Êtes-vous sûr de vouloir supprimer ce budget ?"))try{const{error:_}=await I.from("budgets").delete().eq("id",g);if(_)throw _;F.success("Budget supprimé avec succès"),u()}catch{F.error("Erreur lors de la suppression du budget")}},m=async g=>{try{const{error:_}=await I.from("budgets").update({is_active:!g.is_active}).eq("id",g.id);if(_)throw _;F.success(`Budget ${g.is_active?"désactivé":"activé"}`),u()}catch{F.error("Erreur lors de la mise à jour du budget")}};return l?f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des budgets"}),f.jsxs("button",{onClick:()=>s(!0),className:"btn-primary flex items-center",children:[f.jsx(nl,{className:"h-5 w-5 mr-2"}),"Nouveau budget"]})]}),n&&f.jsxs("div",{className:"card p-6",children:[f.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:i?"Modifier le budget":"Nouveau budget"}),f.jsxs("form",{onSubmit:d,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom du budget"}),f.jsx("input",{type:"text",required:!0,value:o.name,onChange:g=>a({...o,name:g.target.value}),className:"input-field",placeholder:"ex: Budget alimentaire"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Montant (€)"}),f.jsx("input",{type:"number",step:"0.01",required:!0,value:o.amount,onChange:g=>a({...o,amount:g.target.value}),className:"input-field",placeholder:"0.00"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Période"}),f.jsxs("select",{value:o.period,onChange:g=>a({...o,period:g.target.value}),className:"input-field",children:[f.jsx("option",{value:"monthly",children:"Mensuel"}),f.jsx("option",{value:"yearly",children:"Annuel"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Catégorie"}),f.jsx("input",{type:"text",value:o.category,onChange:g=>a({...o,category:g.target.value}),className:"input-field",placeholder:"ex: Alimentation, Transport..."})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de début"}),f.jsx("input",{type:"date",value:o.start_date,onChange:g=>a({...o,start_date:g.target.value}),className:"input-field"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de fin"}),f.jsx("input",{type:"date",value:o.end_date,onChange:g=>a({...o,end_date:g.target.value}),className:"input-field"})]})]}),f.jsxs("div",{className:"flex justify-end space-x-3",children:[f.jsx("button",{type:"button",onClick:()=>{s(!1),r(null),a({name:"",amount:"",period:"monthly",category:"",start_date:"",end_date:""})},className:"btn-secondary",children:"Annuler"}),f.jsx("button",{type:"submit",className:"btn-primary",children:i?"Mettre à jour":"Créer"})]})]})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(g=>f.jsxs("div",{className:"card p-6",children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:g.name}),f.jsx("p",{className:"text-sm text-gray-500",children:g.category})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:()=>h(g),className:"text-gray-400 hover:text-primary-600",children:f.jsx(tl,{className:"h-4 w-4"})}),f.jsx("button",{onClick:()=>p(g.id),className:"text-gray-400 hover:text-red-600",children:f.jsx(sl,{className:"h-4 w-4"})})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-gray-600",children:"Montant"}),f.jsxs("span",{className:"font-semibold text-gray-900",children:[g.amount.toFixed(2)," €"]})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-gray-600",children:"Période"}),f.jsx("span",{className:"text-sm text-gray-900 capitalize",children:g.period==="monthly"?"Mensuel":"Annuel"})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-gray-600",children:"Statut"}),f.jsx("button",{onClick:()=>m(g),className:`px-2 py-1 rounded-full text-xs font-medium ${g.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:g.is_active?"Actif":"Inactif"})]}),f.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[f.jsx(el,{className:"h-4 w-4 mr-1"}),new Date(g.start_date).toLocaleDateString("fr-FR")," - ",new Date(g.end_date).toLocaleDateString("fr-FR")]})]})]},g.id))}),t.length===0&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx(U0,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),f.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun budget configuré"}),f.jsx("p",{className:"text-gray-500 mb-4",children:"Créez votre premier budget pour commencer à suivre vos dépenses."}),f.jsx("button",{onClick:()=>s(!0),className:"btn-primary",children:"Créer un budget"})]})]})},fE=()=>{const[t,e]=j.useState([]),[n,s]=j.useState([]),[i,r]=j.useState(!1),[o,a]=j.useState(null),[l,c]=j.useState(""),[u,d]=j.useState(""),[h,p]=j.useState(""),[m,g]=j.useState({amount:"",description:"",category_id:"",date:new Date().toISOString().slice(0,10),location:"",notes:""}),[_,v]=j.useState(!0);j.useEffect(()=>{y(),x()},[]);const y=async()=>{try{const{data:{user:C}}=await I.auth.getUser();if(!C)return;const{data:T,error:O}=await I.from("expenses").select(`
          *,
          expense_categories(name, color, icon)
        `).eq("user_id",C.id).order("date",{ascending:!1});if(O)throw O;e(T||[])}catch{F.error("Erreur lors du chargement des dépenses")}finally{v(!1)}},x=async()=>{try{const{data:{user:C}}=await I.auth.getUser();if(!C)return;const{data:T,error:O}=await I.from("expense_categories").select("*").eq("user_id",C.id).order("name");if(O)throw O;s(T||[])}catch(C){console.error("Erreur lors du chargement des catégories:",C)}},w=async C=>{C.preventDefault();try{const{data:{user:T}}=await I.auth.getUser();if(!T)return;const O={...m,user_id:T.id,amount:parseFloat(m.amount),category_id:m.category_id||null};if(o){const{error:D}=await I.from("expenses").update(O).eq("id",o.id);if(D)throw D;F.success("Dépense mise à jour avec succès")}else{const{error:D}=await I.from("expenses").insert([O]);if(D)throw D;F.success("Dépense ajoutée avec succès")}r(!1),a(null),g({amount:"",description:"",category_id:"",date:new Date().toISOString().slice(0,10),location:"",notes:""}),y()}catch{F.error("Erreur lors de la sauvegarde de la dépense")}},b=C=>{a(C),g({amount:C.amount.toString(),description:C.description||"",category_id:C.category_id||"",date:C.date,location:C.location||"",notes:C.notes||""}),r(!0)},k=async C=>{if(confirm("Êtes-vous sûr de vouloir supprimer cette dépense ?"))try{const{error:T}=await I.from("expenses").delete().eq("id",C);if(T)throw T;F.success("Dépense supprimée avec succès"),y()}catch{F.error("Erreur lors de la suppression de la dépense")}},S=t.filter(C=>{var K,_e;const T=((K=C.description)==null?void 0:K.toLowerCase().includes(l.toLowerCase()))||((_e=C.location)==null?void 0:_e.toLowerCase().includes(l.toLowerCase())),O=!u||C.category_id===u,D=!h||C.date===h;return T&&O&&D}),E=S.reduce((C,T)=>C+parseFloat(T.amount),0);return _?f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Suivi des dépenses"}),f.jsxs("button",{onClick:()=>r(!0),className:"btn-primary flex items-center",children:[f.jsx(nl,{className:"h-5 w-5 mr-2"}),"Nouvelle dépense"]})]}),f.jsx("div",{className:"card p-4",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx(Lk,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),f.jsx("input",{type:"text",placeholder:"Rechercher...",value:l,onChange:C=>c(C.target.value),className:"input-field pl-10"})]}),f.jsxs("select",{value:u,onChange:C=>d(C.target.value),className:"input-field",children:[f.jsx("option",{value:"",children:"Toutes les catégories"}),n.map(C=>f.jsx("option",{value:C.id,children:C.name},C.id))]}),f.jsx("input",{type:"date",value:h,onChange:C=>p(C.target.value),className:"input-field"}),f.jsx("div",{className:"flex items-center text-sm text-gray-600",children:f.jsxs("span",{className:"font-medium",children:["Total: ",E.toFixed(2)," €"]})})]})}),i&&f.jsxs("div",{className:"card p-6",children:[f.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:o?"Modifier la dépense":"Nouvelle dépense"}),f.jsxs("form",{onSubmit:w,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Montant (€)"}),f.jsx("input",{type:"number",step:"0.01",required:!0,value:m.amount,onChange:C=>g({...m,amount:C.target.value}),className:"input-field",placeholder:"0.00"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),f.jsx("input",{type:"date",required:!0,value:m.date,onChange:C=>g({...m,date:C.target.value}),className:"input-field"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),f.jsx("input",{type:"text",required:!0,value:m.description,onChange:C=>g({...m,description:C.target.value}),className:"input-field",placeholder:"ex: Courses au supermarché"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Catégorie"}),f.jsxs("select",{value:m.category_id,onChange:C=>g({...m,category_id:C.target.value}),className:"input-field",children:[f.jsx("option",{value:"",children:"Sélectionner une catégorie"}),n.map(C=>f.jsx("option",{value:C.id,children:C.name},C.id))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lieu"}),f.jsx("input",{type:"text",value:m.location,onChange:C=>g({...m,location:C.target.value}),className:"input-field",placeholder:"ex: Carrefour, Station-service..."})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),f.jsx("textarea",{value:m.notes,onChange:C=>g({...m,notes:C.target.value}),className:"input-field",rows:"3",placeholder:"Notes supplémentaires..."})]}),f.jsxs("div",{className:"flex justify-end space-x-3",children:[f.jsx("button",{type:"button",onClick:()=>{r(!1),a(null),g({amount:"",description:"",category_id:"",date:new Date().toISOString().slice(0,10),location:"",notes:""})},className:"btn-secondary",children:"Annuler"}),f.jsx("button",{type:"submit",className:"btn-primary",children:o?"Mettre à jour":"Ajouter"})]})]})]}),f.jsxs("div",{className:"card",children:[f.jsx("div",{className:"p-6 border-b border-gray-200",children:f.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Dépenses (",S.length,")"]})}),f.jsx("div",{className:"divide-y divide-gray-200",children:S.length>0?S.map(C=>{var T,O;return f.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:((T=C.expense_categories)==null?void 0:T.color)||"#6b7280"}}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-gray-900",children:C.description}),f.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[f.jsx("span",{children:((O=C.expense_categories)==null?void 0:O.name)||"Non catégorisé"}),f.jsx("span",{children:"•"}),f.jsx("span",{children:new Date(C.date).toLocaleDateString("fr-FR")}),C.location&&f.jsxs(f.Fragment,{children:[f.jsx("span",{children:"•"}),f.jsx("span",{children:C.location})]})]}),C.notes&&f.jsx("p",{className:"text-sm text-gray-600 mt-1",children:C.notes})]})]}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["-",parseFloat(C.amount).toFixed(2)," €"]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:()=>b(C),className:"text-gray-400 hover:text-primary-600",children:f.jsx(tl,{className:"h-4 w-4"})}),f.jsx("button",{onClick:()=>k(C.id),className:"text-gray-400 hover:text-red-600",children:f.jsx(sl,{className:"h-4 w-4"})})]})]})]})},C.id)}):f.jsxs("div",{className:"p-12 text-center",children:[f.jsx("div",{className:"text-gray-400 mb-4",children:f.jsx(el,{className:"h-12 w-12 mx-auto"})}),f.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune dépense trouvée"}),f.jsx("p",{className:"text-gray-500 mb-4",children:l||u||h?"Aucune dépense ne correspond à vos critères de recherche.":"Commencez par ajouter votre première dépense."}),!l&&!u&&!h&&f.jsx("button",{onClick:()=>r(!0),className:"btn-primary",children:"Ajouter une dépense"})]})})]})]})},pE=()=>{const[t,e]=j.useState([]),[n,s]=j.useState(!1),[i,r]=j.useState(null),[o,a]=j.useState({title:"",description:"",target_amount:"",current_amount:"",target_date:"",category:"savings",priority:"medium"}),[l,c]=j.useState(!0);j.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:{user:w}}=await I.auth.getUser();if(!w)return;const{data:b,error:k}=await I.from("goals").select("*").eq("user_id",w.id).order("created_at",{ascending:!1});if(k)throw k;e(b||[])}catch{F.error("Erreur lors du chargement des objectifs")}finally{c(!1)}},d=async w=>{w.preventDefault();try{const{data:{user:b}}=await I.auth.getUser();if(!b)return;const k={...o,user_id:b.id,target_amount:o.target_amount?parseFloat(o.target_amount):null,current_amount:o.current_amount?parseFloat(o.current_amount):0};if(i){const{error:S}=await I.from("goals").update(k).eq("id",i.id);if(S)throw S;F.success("Objectif mis à jour avec succès")}else{const{error:S}=await I.from("goals").insert([k]);if(S)throw S;F.success("Objectif créé avec succès")}s(!1),r(null),a({title:"",description:"",target_amount:"",current_amount:"",target_date:"",category:"savings",priority:"medium"}),u()}catch{F.error("Erreur lors de la sauvegarde de l'objectif")}},h=w=>{var b,k;r(w),a({title:w.title,description:w.description||"",target_amount:((b=w.target_amount)==null?void 0:b.toString())||"",current_amount:((k=w.current_amount)==null?void 0:k.toString())||"",target_date:w.target_date||"",category:w.category,priority:w.priority}),s(!0)},p=async w=>{if(confirm("Êtes-vous sûr de vouloir supprimer cet objectif ?"))try{const{error:b}=await I.from("goals").delete().eq("id",w);if(b)throw b;F.success("Objectif supprimé avec succès"),u()}catch{F.error("Erreur lors de la suppression de l'objectif")}},m=async(w,b)=>{try{const{error:k}=await I.from("goals").update({status:b}).eq("id",w.id);if(k)throw k;F.success(`Objectif ${b==="completed"?"marqué comme terminé":"mis en pause"}`),u()}catch{F.error("Erreur lors de la mise à jour de l'objectif")}},g=async(w,b)=>{try{const{error:k}=await I.from("goals").update({current_amount:parseFloat(b)}).eq("id",w.id);if(k)throw k;F.success("Progression mise à jour"),u()}catch{F.error("Erreur lors de la mise à jour de la progression")}},_=w=>({savings:"Épargne",expense_reduction:"Réduction des dépenses",income_increase:"Augmentation des revenus",debt_payment:"Remboursement de dette",investment:"Investissement"})[w]||w,v=w=>{const b={low:"bg-gray-100 text-gray-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-red-100 text-red-800"};return b[w]||b.medium},y=w=>{const b={active:"bg-green-100 text-green-800",completed:"bg-blue-100 text-blue-800",paused:"bg-yellow-100 text-yellow-800",cancelled:"bg-gray-100 text-gray-800"};return b[w]||b.active},x=w=>!w.target_amount||w.target_amount===0?0:Math.min(w.current_amount/w.target_amount*100,100);return l?f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Objectifs personnels"}),f.jsxs("button",{onClick:()=>s(!0),className:"btn-primary flex items-center",children:[f.jsx(nl,{className:"h-5 w-5 mr-2"}),"Nouvel objectif"]})]}),n&&f.jsxs("div",{className:"card p-6",children:[f.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:i?"Modifier l'objectif":"Nouvel objectif"}),f.jsxs("form",{onSubmit:d,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Titre de l'objectif"}),f.jsx("input",{type:"text",required:!0,value:o.title,onChange:w=>a({...o,title:w.target.value}),className:"input-field",placeholder:"ex: Épargner pour les vacances"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),f.jsx("textarea",{value:o.description,onChange:w=>a({...o,description:w.target.value}),className:"input-field",rows:"3",placeholder:"Décrivez votre objectif..."})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Montant cible (€)"}),f.jsx("input",{type:"number",step:"0.01",value:o.target_amount,onChange:w=>a({...o,target_amount:w.target.value}),className:"input-field",placeholder:"0.00"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Montant actuel (€)"}),f.jsx("input",{type:"number",step:"0.01",value:o.current_amount,onChange:w=>a({...o,current_amount:w.target.value}),className:"input-field",placeholder:"0.00"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date cible"}),f.jsx("input",{type:"date",value:o.target_date,onChange:w=>a({...o,target_date:w.target.value}),className:"input-field"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priorité"}),f.jsxs("select",{value:o.priority,onChange:w=>a({...o,priority:w.target.value}),className:"input-field",children:[f.jsx("option",{value:"low",children:"Faible"}),f.jsx("option",{value:"medium",children:"Moyenne"}),f.jsx("option",{value:"high",children:"Élevée"})]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Catégorie"}),f.jsxs("select",{value:o.category,onChange:w=>a({...o,category:w.target.value}),className:"input-field",children:[f.jsx("option",{value:"savings",children:"Épargne"}),f.jsx("option",{value:"expense_reduction",children:"Réduction des dépenses"}),f.jsx("option",{value:"income_increase",children:"Augmentation des revenus"}),f.jsx("option",{value:"debt_payment",children:"Remboursement de dette"}),f.jsx("option",{value:"investment",children:"Investissement"})]})]}),f.jsxs("div",{className:"flex justify-end space-x-3",children:[f.jsx("button",{type:"button",onClick:()=>{s(!1),r(null),a({title:"",description:"",target_amount:"",current_amount:"",target_date:"",category:"savings",priority:"medium"})},className:"btn-secondary",children:"Annuler"}),f.jsx("button",{type:"submit",className:"btn-primary",children:i?"Mettre à jour":"Créer"})]})]})]}),f.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:t.map(w=>f.jsxs("div",{className:"card p-6",children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:w.title}),f.jsx("p",{className:"text-sm text-gray-600 mb-2",children:w.description}),f.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[f.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_(w.category)}`,children:_(w.category)}),f.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v(w.priority)}`,children:w.priority==="low"?"Faible":w.priority==="medium"?"Moyenne":"Élevée"}),f.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${y(w.status)}`,children:w.status==="active"?"Actif":w.status==="completed"?"Terminé":w.status==="paused"?"En pause":"Annulé"})]})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:()=>h(w),className:"text-gray-400 hover:text-primary-600",children:f.jsx(tl,{className:"h-4 w-4"})}),f.jsx("button",{onClick:()=>p(w.id),className:"text-gray-400 hover:text-red-600",children:f.jsx(sl,{className:"h-4 w-4"})})]})]}),w.target_amount&&f.jsxs("div",{className:"mb-4",children:[f.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[f.jsx("span",{children:"Progression"}),f.jsxs("span",{children:[w.current_amount.toFixed(2)," € / ",w.target_amount.toFixed(2)," €"]})]}),f.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:f.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:`${x(w)}%`}})}),f.jsxs("div",{className:"text-right text-sm text-gray-500 mt-1",children:[x(w).toFixed(1),"%"]})]}),w.target_date&&f.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-4",children:[f.jsx(el,{className:"h-4 w-4 mr-1"}),"Date cible: ",new Date(w.target_date).toLocaleDateString("fr-FR")]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[w.status==="active"&&f.jsxs(f.Fragment,{children:[f.jsxs("button",{onClick:()=>m(w,"completed"),className:"flex items-center px-3 py-1 bg-green-100 text-green-700 rounded-lg text-sm hover:bg-green-200 transition-colors",children:[f.jsx(Ck,{className:"h-4 w-4 mr-1"}),"Terminer"]}),f.jsxs("button",{onClick:()=>m(w,"paused"),className:"flex items-center px-3 py-1 bg-yellow-100 text-yellow-700 rounded-lg text-sm hover:bg-yellow-200 transition-colors",children:[f.jsx(Ak,{className:"h-4 w-4 mr-1"}),"Pause"]})]}),w.status==="paused"&&f.jsxs("button",{onClick:()=>m(w,"active"),className:"flex items-center px-3 py-1 bg-blue-100 text-blue-700 rounded-lg text-sm hover:bg-blue-200 transition-colors",children:[f.jsx(Rk,{className:"h-4 w-4 mr-1"}),"Reprendre"]})]}),w.target_amount&&w.status==="active"&&f.jsxs("button",{onClick:()=>{const b=prompt("Nouveau montant actuel:",w.current_amount.toString());b&&!isNaN(b)&&g(w,b)},className:"flex items-center px-3 py-1 bg-primary-100 text-primary-700 rounded-lg text-sm hover:bg-primary-200 transition-colors",children:[f.jsx(H0,{className:"h-4 w-4 mr-1"}),"Mettre à jour"]})]})]},w.id))}),t.length===0&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx(Sd,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),f.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun objectif défini"}),f.jsx("p",{className:"text-gray-500 mb-4",children:"Créez votre premier objectif pour commencer à planifier votre avenir financier."}),f.jsx("button",{onClick:()=>s(!0),className:"btn-primary",children:"Créer un objectif"})]})]})},gE=()=>{const[t,e]=j.useState([]),[n,s]=j.useState(!1),[i,r]=j.useState(null),[o,a]=j.useState(new Date().toISOString().slice(0,10)),[l,c]=j.useState({name:"",meal_type:"breakfast",calories:"",protein:"",carbs:"",fat:"",fiber:"",sugar:"",sodium:"",cost:"",notes:""}),[u,d]=j.useState(!0);j.useEffect(()=>{h()},[o]);const h=async()=>{try{const{data:{user:b}}=await I.auth.getUser();if(!b)return;const{data:k,error:S}=await I.from("meals").select("*").eq("user_id",b.id).eq("date",o).order("created_at",{ascending:!0});if(S)throw S;e(k||[])}catch{F.error("Erreur lors du chargement des repas")}finally{d(!1)}},p=async b=>{b.preventDefault();try{const{data:{user:k}}=await I.auth.getUser();if(!k)return;const S={...l,user_id:k.id,date:o,calories:l.calories?parseInt(l.calories):null,protein:l.protein?parseFloat(l.protein):null,carbs:l.carbs?parseFloat(l.carbs):null,fat:l.fat?parseFloat(l.fat):null,fiber:l.fiber?parseFloat(l.fiber):null,sugar:l.sugar?parseFloat(l.sugar):null,sodium:l.sodium?parseFloat(l.sodium):null,cost:l.cost?parseFloat(l.cost):null};if(i){const{error:E}=await I.from("meals").update(S).eq("id",i.id);if(E)throw E;F.success("Repas mis à jour avec succès")}else{const{error:E}=await I.from("meals").insert([S]);if(E)throw E;F.success("Repas ajouté avec succès")}s(!1),r(null),c({name:"",meal_type:"breakfast",calories:"",protein:"",carbs:"",fat:"",fiber:"",sugar:"",sodium:"",cost:"",notes:""}),h()}catch{F.error("Erreur lors de la sauvegarde du repas")}},m=b=>{var k,S,E,C,T,O,D,K;r(b),c({name:b.name,meal_type:b.meal_type,calories:((k=b.calories)==null?void 0:k.toString())||"",protein:((S=b.protein)==null?void 0:S.toString())||"",carbs:((E=b.carbs)==null?void 0:E.toString())||"",fat:((C=b.fat)==null?void 0:C.toString())||"",fiber:((T=b.fiber)==null?void 0:T.toString())||"",sugar:((O=b.sugar)==null?void 0:O.toString())||"",sodium:((D=b.sodium)==null?void 0:D.toString())||"",cost:((K=b.cost)==null?void 0:K.toString())||"",notes:b.notes||""}),s(!0)},g=async b=>{if(confirm("Êtes-vous sûr de vouloir supprimer ce repas ?"))try{const{error:k}=await I.from("meals").delete().eq("id",b);if(k)throw k;F.success("Repas supprimé avec succès"),h()}catch{F.error("Erreur lors de la suppression du repas")}},_=b=>({breakfast:"Petit-déjeuner",lunch:"Déjeuner",dinner:"Dîner",snack:"Collation"})[b]||b,v=b=>({breakfast:"🌅",lunch:"☀️",dinner:"🌙",snack:"🍎"})[b]||"🍽️",y=()=>["breakfast","lunch","dinner","snack"].map(k=>({type:k,meals:t.filter(S=>S.meal_type===k)})),w=(()=>t.reduce((b,k)=>({calories:b.calories+(k.calories||0),protein:b.protein+(k.protein||0),carbs:b.carbs+(k.carbs||0),fat:b.fat+(k.fat||0),fiber:b.fiber+(k.fiber||0),sugar:b.sugar+(k.sugar||0),sodium:b.sodium+(k.sodium||0),cost:b.cost+(k.cost||0)}),{calories:0,protein:0,carbs:0,fat:0,fiber:0,sugar:0,sodium:0,cost:0}))();return u?f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Suivi alimentaire"}),f.jsxs("button",{onClick:()=>s(!0),className:"btn-primary flex items-center",children:[f.jsx(nl,{className:"h-5 w-5 mr-2"}),"Ajouter un repas"]})]}),f.jsx("div",{className:"card p-4",children:f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx(el,{className:"h-5 w-5 text-gray-400"}),f.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Date:"}),f.jsx("input",{type:"date",value:o,onChange:b=>a(b.target.value),className:"input-field"})]})}),f.jsxs("div",{className:"card p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Résumé nutritionnel"}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-2xl font-bold text-gray-900",children:w.calories}),f.jsx("div",{className:"text-sm text-gray-500",children:"Calories"})]}),f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[w.protein.toFixed(1),"g"]}),f.jsx("div",{className:"text-sm text-gray-500",children:"Protéines"})]}),f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[w.carbs.toFixed(1),"g"]}),f.jsx("div",{className:"text-sm text-gray-500",children:"Glucides"})]}),f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[w.fat.toFixed(1),"g"]}),f.jsx("div",{className:"text-sm text-gray-500",children:"Lipides"})]}),f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[w.fiber.toFixed(1),"g"]}),f.jsx("div",{className:"text-sm text-gray-500",children:"Fibres"})]}),f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[w.sugar.toFixed(1),"g"]}),f.jsx("div",{className:"text-sm text-gray-500",children:"Sucres"})]}),f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[w.sodium.toFixed(1),"mg"]}),f.jsx("div",{className:"text-sm text-gray-500",children:"Sodium"})]}),f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[w.cost.toFixed(2),"€"]}),f.jsx("div",{className:"text-sm text-gray-500",children:"Coût"})]})]})]}),n&&f.jsxs("div",{className:"card p-6",children:[f.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:i?"Modifier le repas":"Nouveau repas"}),f.jsxs("form",{onSubmit:p,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom du repas"}),f.jsx("input",{type:"text",required:!0,value:l.name,onChange:b=>c({...l,name:b.target.value}),className:"input-field",placeholder:"ex: Salade de quinoa"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de repas"}),f.jsxs("select",{value:l.meal_type,onChange:b=>c({...l,meal_type:b.target.value}),className:"input-field",children:[f.jsx("option",{value:"breakfast",children:"Petit-déjeuner"}),f.jsx("option",{value:"lunch",children:"Déjeuner"}),f.jsx("option",{value:"dinner",children:"Dîner"}),f.jsx("option",{value:"snack",children:"Collation"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Calories"}),f.jsx("input",{type:"number",value:l.calories,onChange:b=>c({...l,calories:b.target.value}),className:"input-field",placeholder:"0"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Protéines (g)"}),f.jsx("input",{type:"number",step:"0.1",value:l.protein,onChange:b=>c({...l,protein:b.target.value}),className:"input-field",placeholder:"0.0"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Glucides (g)"}),f.jsx("input",{type:"number",step:"0.1",value:l.carbs,onChange:b=>c({...l,carbs:b.target.value}),className:"input-field",placeholder:"0.0"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lipides (g)"}),f.jsx("input",{type:"number",step:"0.1",value:l.fat,onChange:b=>c({...l,fat:b.target.value}),className:"input-field",placeholder:"0.0"})]})]}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fibres (g)"}),f.jsx("input",{type:"number",step:"0.1",value:l.fiber,onChange:b=>c({...l,fiber:b.target.value}),className:"input-field",placeholder:"0.0"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sucres (g)"}),f.jsx("input",{type:"number",step:"0.1",value:l.sugar,onChange:b=>c({...l,sugar:b.target.value}),className:"input-field",placeholder:"0.0"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sodium (mg)"}),f.jsx("input",{type:"number",step:"0.1",value:l.sodium,onChange:b=>c({...l,sodium:b.target.value}),className:"input-field",placeholder:"0.0"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Coût (€)"}),f.jsx("input",{type:"number",step:"0.01",value:l.cost,onChange:b=>c({...l,cost:b.target.value}),className:"input-field",placeholder:"0.00"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),f.jsx("textarea",{value:l.notes,onChange:b=>c({...l,notes:b.target.value}),className:"input-field",rows:"3",placeholder:"Notes supplémentaires..."})]}),f.jsxs("div",{className:"flex justify-end space-x-3",children:[f.jsx("button",{type:"button",onClick:()=>{s(!1),r(null),c({name:"",meal_type:"breakfast",calories:"",protein:"",carbs:"",fat:"",fiber:"",sugar:"",sodium:"",cost:"",notes:""})},className:"btn-secondary",children:"Annuler"}),f.jsx("button",{type:"submit",className:"btn-primary",children:i?"Mettre à jour":"Ajouter"})]})]})]}),f.jsx("div",{className:"space-y-6",children:y().map(({type:b,meals:k})=>f.jsxs("div",{className:"card p-6",children:[f.jsxs("div",{className:"flex items-center mb-4",children:[f.jsx("span",{className:"text-2xl mr-3",children:v(b)}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:_(b)}),f.jsxs("span",{className:"ml-auto text-sm text-gray-500",children:["(",k.length," repas)"]})]}),k.length>0?f.jsx("div",{className:"space-y-3",children:k.map(S=>f.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h4",{className:"font-medium text-gray-900",children:S.name}),f.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mt-1",children:[S.calories&&f.jsxs("span",{children:[S.calories," cal"]}),S.protein&&f.jsxs("span",{children:[S.protein,"g protéines"]}),S.carbs&&f.jsxs("span",{children:[S.carbs,"g glucides"]}),S.fat&&f.jsxs("span",{children:[S.fat,"g lipides"]}),S.cost&&f.jsxs("span",{children:[S.cost.toFixed(2),"€"]})]}),S.notes&&f.jsx("p",{className:"text-sm text-gray-600 mt-1",children:S.notes})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:()=>m(S),className:"text-gray-400 hover:text-primary-600",children:f.jsx(tl,{className:"h-4 w-4"})}),f.jsx("button",{onClick:()=>g(S.id),className:"text-gray-400 hover:text-red-600",children:f.jsx(sl,{className:"h-4 w-4"})})]})]},S.id))}):f.jsxs("div",{className:"text-center py-8 text-gray-500",children:[f.jsx($k,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),f.jsx("p",{children:"Aucun repas enregistré pour ce type"})]})]},b))}),t.length===0&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx(B0,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),f.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun repas enregistré"}),f.jsx("p",{className:"text-gray-500 mb-4",children:"Commencez à suivre votre alimentation en ajoutant votre premier repas."}),f.jsx("button",{onClick:()=>s(!0),className:"btn-primary",children:"Ajouter un repas"})]})]})},mE=()=>{const[t,e]=j.useState({full_name:"",email:"",avatar_url:""}),[n,s]=j.useState(!0),[i,r]=j.useState(!1);j.useEffect(()=>{o()},[]);const o=async()=>{var c;try{const{data:{user:u}}=await I.auth.getUser();if(!u)return;const{data:d,error:h}=await I.from("profiles").select("*").eq("id",u.id).single();if(h&&h.code!=="PGRST116")throw h;e({full_name:(d==null?void 0:d.full_name)||((c=u.user_metadata)==null?void 0:c.full_name)||"",email:u.email||"",avatar_url:(d==null?void 0:d.avatar_url)||""})}catch(u){console.error("Erreur lors du chargement du profil:",u),F.error("Erreur lors du chargement du profil")}finally{s(!1)}},a=async c=>{c.preventDefault(),r(!0);try{const{data:{user:u}}=await I.auth.getUser();if(!u)return;const{error:d}=await I.from("profiles").upsert({id:u.id,email:u.email,full_name:t.full_name,avatar_url:t.avatar_url,updated_at:new Date().toISOString()});if(d)throw d;F.success("Profil mis à jour avec succès")}catch{F.error("Erreur lors de la mise à jour du profil")}finally{r(!1)}},l=async()=>{try{await I.auth.signOut(),F.success("Déconnexion réussie")}catch{F.error("Erreur lors de la déconnexion")}};return n?f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):f.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[f.jsx("div",{className:"flex items-center justify-between",children:f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mon profil"})}),f.jsx("div",{className:"card p-6",children:f.jsxs("form",{onSubmit:a,className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center space-x-6",children:[f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"w-24 h-24 bg-primary-100 rounded-full flex items-center justify-center",children:t.avatar_url?f.jsx("img",{src:t.avatar_url,alt:"Photo de profil",className:"w-24 h-24 rounded-full object-cover"}):f.jsx(ya,{className:"h-12 w-12 text-primary-600"})}),f.jsx("button",{type:"button",className:"absolute bottom-0 right-0 bg-primary-600 text-white rounded-full p-2 hover:bg-primary-700 transition-colors",children:f.jsx(jk,{className:"h-4 w-4"})})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t.full_name||"Utilisateur"}),f.jsx("p",{className:"text-gray-500",children:t.email})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom complet"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(ya,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:"text",value:t.full_name,onChange:c=>e({...t,full_name:c.target.value}),className:"input-field pl-10",placeholder:"Votre nom complet"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse email"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(W0,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:"email",value:t.email,disabled:!0,className:"input-field pl-10 bg-gray-50 text-gray-500",placeholder:"votre@email.com"})]}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"L'adresse email ne peut pas être modifiée"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL de l'avatar"}),f.jsx("input",{type:"url",value:t.avatar_url,onChange:c=>e({...t,avatar_url:c.target.value}),className:"input-field",placeholder:"https://example.com/avatar.jpg"})]})]}),f.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200",children:[f.jsxs("button",{type:"button",onClick:l,className:"flex items-center px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[f.jsx(lu,{className:"h-5 w-5 mr-2"}),"Se déconnecter"]}),f.jsxs("button",{type:"submit",disabled:i,className:"btn-primary flex items-center",children:[i?f.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}):f.jsx(Dk,{className:"h-5 w-5 mr-2"}),i?"Sauvegarde...":"Sauvegarder"]})]})]})}),f.jsxs("div",{className:"card p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistiques du compte"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[f.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"0"}),f.jsx("div",{className:"text-sm text-blue-600",children:"Dépenses ce mois"})]}),f.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[f.jsx("div",{className:"text-2xl font-bold text-green-600",children:"0"}),f.jsx("div",{className:"text-sm text-green-600",children:"Objectifs actifs"})]}),f.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[f.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"0"}),f.jsx("div",{className:"text-sm text-purple-600",children:"Repas enregistrés"})]})]})]}),f.jsxs("div",{className:"card p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"À propos de BudgetTracker"}),f.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[f.jsx("p",{children:"BudgetTracker est une application de gestion financière personnelle qui vous aide à :"}),f.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[f.jsx("li",{children:"Suivre vos dépenses quotidiennes"}),f.jsx("li",{children:"Gérer vos budgets mensuels et annuels"}),f.jsx("li",{children:"Définir et atteindre vos objectifs financiers"}),f.jsx("li",{children:"Surveiller votre alimentation et ses coûts"}),f.jsx("li",{children:"Visualiser vos données avec des graphiques"})]}),f.jsx("p",{className:"pt-2",children:"Version 1.0.0 - Développé avec React, Tailwind CSS et Supabase"})]})]})]})};function yE(){const[t,e]=j.useState(null),[n,s]=j.useState(!0);return j.useEffect(()=>{I.auth.getSession().then(({data:{session:r}})=>{e(r),s(!1)});const{data:{subscription:i}}=I.auth.onAuthStateChange((r,o)=>{e(o)});return()=>i.unsubscribe()},[]),n?f.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):t?f.jsx(lw,{children:f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx(zk,{children:f.jsxs(tw,{children:[f.jsx(ln,{path:"/",element:f.jsx(Z_,{to:"/dashboard",replace:!0})}),f.jsx(ln,{path:"/dashboard",element:f.jsx(dE,{})}),f.jsx(ln,{path:"/budget",element:f.jsx(hE,{})}),f.jsx(ln,{path:"/expenses",element:f.jsx(fE,{})}),f.jsx(ln,{path:"/goals",element:f.jsx(pE,{})}),f.jsx(ln,{path:"/nutrition",element:f.jsx(gE,{})}),f.jsx(ln,{path:"/profile",element:f.jsx(mE,{})})]})}),f.jsx(cf,{position:"top-right"})]})}):f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100",children:[f.jsx(Bk,{}),f.jsx(cf,{position:"top-right"})]})}Zl.createRoot(document.getElementById("root")).render(f.jsx(Na.StrictMode,{children:f.jsx(yE,{})}));
